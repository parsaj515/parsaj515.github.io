<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" /><meta name="apple-mobile-web-app-capable" content="yes"><title>Super Chat - Encrypted</title><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Whitney:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Ginto:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet"><style>.unread-separator { display: flex; align-items: center; justify-content: center; margin: 15px 0; position: relative;}.unread-separator::before { content: ""; position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: rgba(255, 0, 0, 0.2); z-index: 1;}.unread-label { background: rgba(255, 255, 255, 0.9); padding: 4px 12px; border-radius: 12px; font-size: 0.7rem; color: #666; z-index: 2; border: 1px solid rgba(255, 0, 0, 0.1); font-weight: bold;}.message-dropdown { position: absolute; top: -8px; right: 8px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.2); display: none; flex-direction: column; min-width: 120px; z-index: 100; overflow: hidden;}.message-dropdown-item { padding: 8px 12px; border: none; background: none; text-align: left; cursor: pointer; font-size: 0.8rem; display: flex; align-items: center; gap: 6px; color: #2d3748; transition: background-color 0.2s ease;}.message-dropdown-item:hover { background-color: #f7fafc;}.message-dropdown-item.delete { color: #e53e3e;}.message-container { position: relative;}.message-container:hover .message-dropdown { display: flex;}#game-btn { position: fixed; top: 15px; right: 290px; background-color: #9c27b0; border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: background-color 0.2s ease; z-index: 1000; min-height: 44px; min-width: 44px; display: flex; align-items: center; justify-content: center;}#game-btn:hover { background-color: #7b1fa2;}#game-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 1012; padding: 20px;}#game-container { background: #1a1a1a; border-radius: 20px; padding: 0; max-width: 900px; width: 100%; height: 80vh; display: flex; flex-direction: column; font-family: 'Whitney', sans-serif; overflow: hidden;}#game-header { background: #2d2d2d; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #9c27b0;}#game-title { color: white; font-size: 1.5rem; font-weight: bold; font-family: 'Ginto', 'Whitney', sans-serif;}#game-close { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;}#game-close:hover { background: rgba(255,255,255,0.1);}#game-canvas-container { flex: 1; position: relative; overflow: hidden;}#game-canvas { width: 100%; height: 100%; background: #0a0a0a;}#game-stats { background: #2d2d2d; padding: 10px 20px; display: flex; justify-content: space-between; color: white; font-size: 0.9rem;}#steal-brainrot-btn { position: fixed; top: 15px; right: 235px; background-color: #ff5722; border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: background-color 0.2s ease; z-index: 1000; min-height: 44px; min-width: 44px; display: flex; align-items: center; justify-content: center;}#steal-brainrot-btn:hover { background-color: #e64a19;}#steal-brainrot-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 1012; padding: 20px;}#steal-brainrot-container { background: #1a1a1a; border-radius: 20px; padding: 0; max-width: 900px; width: 100%; height: 80vh; display: flex; flex-direction: column; font-family: 'Whitney', sans-serif; overflow: hidden; transition: all 0.3s ease;}#steal-brainrot-header { background: #2d2d2d; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ff5722;}#steal-brainrot-title { color: white; font-size: 1.5rem; font-weight: bold; font-family: 'Ginto', 'Whitney', sans-serif;}#steal-brainrot-close { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-left: 8px;}#steal-brainrot-close:hover { background: rgba(255,255,255,0.1);}#steal-brainrot-fullscreen { background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 8px;}#steal-brainrot-fullscreen:hover { background: rgba(255,255,255,0.1);}.header-controls { display: flex; align-items: center;}#steal-brainrot-canvas-container { flex: 1; position: relative; overflow: hidden;}#steal-brainrot-canvas { width: 100%; height: 100%; background: #0a0a0a;}#steal-brainrot-stats { background: #2d2d2d; padding: 10px 20px; display: flex; justify-content: space-between; color: white; font-size: 0.9rem;}#steal-brainrot-container.fullscreen { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; max-width: none; max-height: none; border-radius: 0; z-index: 1014;}#steal-brainrot-container.fullscreen #steal-brainrot-canvas-container { height: calc(100vh - 120px);}#game-fullscreen { background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 8px;}#game-fullscreen:hover { background: rgba(255,255,255,0.1);}#game-container.fullscreen { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; max-width: none; max-height: none; border-radius: 0; z-index: 1014;}#game-container.fullscreen #game-canvas-container { height: calc(100vh - 120px);}#adblocker-btn { position: fixed; top: 15px; right: 345px; background-color: #4caf50; border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: background-color 0.2s ease; z-index: 1000; min-height: 44px; min-width: 44px; display: flex; align-items: center; justify-content: center;}#adblocker-btn:hover { background-color: #388e3c;}#adblocker-btn.disabled { background-color: #f44336;}#adblocker-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center; z-index: 1015; padding: 20px;}#adblocker-container { background: white; border-radius: 20px; padding: 25px; max-width: 500px; width: 100%; text-align: center; font-family: 'Whitney', sans-serif;}#adblocker-title { margin-bottom: 15px; font-family: 'Ginto', 'Whitney', sans-serif;}.adblocker-status { display: flex; align-items: center; justify-content: center; gap: 10px; margin: 15px 0; padding: 10px; border-radius: 8px; font-weight: bold;}.adblocker-status.active { background-color: #e8f5e9; color: #2e7d32;}.adblocker-status.inactive { background-color: #ffebee; color: #c62828;}.adblocker-buttons { display: flex; gap: 10px; justify-content: center; margin-top: 20px;}.ad-blocked-iframe { position: relative; width: 100%; height: 100%;}.ad-blocked-iframe::before { content: "Ads blocked"; position: absolute; top: 5px; right: 5px; background: rgba(0, 0, 0, 0.7); color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; z-index: 10;}.mention { background-color: rgba(88, 101, 242, 0.3); color: #5865f2; padding: 1px 4px; border-radius: 3px; font-weight: 500; cursor: pointer;}.mention:hover { background-color: rgba(88, 101, 242, 0.5);}.message.mentioned { background-color: rgba(255, 255, 0, 0.1) !important; border: 1px solid rgba(255, 204, 0, 0.3) !important; border-radius: 8px;}.mention-dropdown { position: absolute; bottom: 100%; left: 0; right: 0; background: white; border: 1px solid #e2e8f0; border-radius: 8px; max-height: 150px; overflow-y: auto; z-index: 1000; box-shadow: 0 4px 12px rgba(0,0,0,0.1); display: none;}.mention-option { padding: 8px 12px; cursor: pointer; border-bottom: 1px solid #f7fafc; display: flex; align-items: center; gap: 8px;}.mention-option:hover { background-color: #f7fafc;}.mention-option.active { background-color: #e6f3ff;}.mention-avatar { width: 20px; height: 20px; border-radius: 50%; object-fit: cover;}.message-actions.own-message { display: none; position: absolute; top: -8px; right: 8px; background: white; border-radius: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); gap: 4px; padding: 4px; z-index: 10;}.message-container.self:hover .message-actions.own-message { display: flex;}.message-actions.others-message { display: none; position: absolute; top: -8px; right: 8px; background: white; border-radius: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); gap: 4px; padding: 4px; z-index: 10;}.message-container.other:hover .message-actions.others-message { display: flex;}#admin-panel-btn { position: fixed; top: 15px; right: 180px; background-color: #d35400; border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: background-color 0.2s ease; z-index: 1000; min-height: 44px; min-width: 44px; display: flex; align-items: center; justify-content: center;}#admin-panel-btn:hover { background-color: #a84300;}#admin-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center; z-index: 1013; padding: 20px;}#admin-container { background: white; border-radius: 20px; padding: 25px; max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto; font-family: 'Whitney', sans-serif;}#admin-title { margin-bottom: 20px; font-family: 'Ginto', 'Whitney', sans-serif; color: #2d3748; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px;}.admin-section { margin-bottom: 25px; padding: 15px; background: #f7fafc; border-radius: 12px; border: 1px solid #e2e8f0;}.admin-section h4 { margin: 0 0 15px 0; color: #4a5568; font-family: 'Ginto', 'Whitney', sans-serif;}.admin-user-list { max-height: 200px; overflow-y: auto; margin-bottom: 15px;}.admin-user-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #e2e8f0; transition: background-color 0.2s ease;}.admin-user-item:hover { background-color: #edf2f7;}.admin-user-info { display: flex; align-items: center; gap: 10px; flex: 1;}.admin-user-avatar { width: 32px; height: 32px; border-radius: 50%; object-fit: cover;}.admin-user-details { display: flex; flex-direction: column; align-items: flex-start; }.admin-user-name { font-weight: 500; font-size: 0.9rem; text-align: center; width: 100%; }.admin-user-rank { font-size: 0.7rem; font-weight: 600; padding: 4px 8px; border-radius: 12px; margin-top: 4px; text-align: center; width: 100%; display: flex; justify-content: center; align-items: center; }.admin-user-controls { display: flex; gap: 8px;}.admin-btn { padding: 6px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.8rem; font-weight: 500; transition: all 0.2s ease; font-family: 'Whitney', sans-serif;}.admin-btn.delete { background-color: #e53e3e; color: white;}.admin-btn.delete:hover { background-color: #c53030;}.admin-btn.promote { background-color: #38a169; color: white;}.admin-btn.promote:hover { background-color: #2f855a;}.admin-btn.demote { background-color: #d69e2e; color: white;}.admin-btn.demote:hover { background-color: #b7791f;}.admin-rank-controls { display: flex; gap: 10px; margin-top: 15px;}.rank-option { display: flex; flex-direction: column; align-items: center; gap: 5px; cursor: pointer; padding: 10px; border-radius: 8px; border: 2px solid transparent; transition: all 0.2s ease;}.rank-option:hover { background-color: #edf2f7;}.rank-option.selected { border-color: #4299e1; background-color: #ebf8ff;}.rank-color { width: 30px; height: 30px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}.rank-name { font-size: 0.8rem; font-weight: 500; text-align: center; }#admin-login { text-align: center; padding: 20px;}#admin-password-input { width: 100%; padding: 12px; margin: 15px 0; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 1rem; font-family: 'Whitney', sans-serif;}#admin-password-input:focus { border-color: #4299e1; outline: none;}.admin-login-btn { padding: 10px 20px; background-color: #4299e1; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 500; transition: background-color 0.2s ease; font-family: 'Whitney', sans-serif;}.admin-login-btn:hover { background-color: #3182ce;}.admin-login-btn.cancel { background-color: #a0aec0;}.admin-login-btn.cancel:hover { background-color: #718096;}.message-container.self .message-content { justify-content: flex-end;}.message-container.other .message-content { justify-content: flex-start;}.message-bubble { max-width: 100%; display: flex; flex-direction: column;}.message { max-width: 100%; word-wrap: break-word;}#bike-obby-btn { position: fixed; top: 15px; right: 400px; background-color: #2196F3; border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: background-color 0.2s ease; z-index: 1000; min-height: 44px; min-width: 44px; display: flex; align-items: center; justify-content: center;}#bike-obby-btn:hover { background-color: #1976D2;}#bike-obby-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 1012; padding: 20px;}#bike-obby-container { background: #1a1a1a; border-radius: 20px; padding: 0; max-width: 900px; width: 100%; height: 80vh; display: flex; flex-direction: column; font-family: 'Whitney', sans-serif; overflow: hidden;}#bike-obby-header { background: #2d2d2d; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #2196F3;}#bike-obby-title { color: white; font-size: 1.5rem; font-weight: bold; font-family: 'Ginto', 'Whitney', sans-serif;}#bike-obby-close { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;}#bike-obby-close:hover { background: rgba(255,255,255,0.1);}#bike-obby-fullscreen { background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 8px;}#bike-obby-fullscreen:hover { background: rgba(255,255,255,0.1);}#bike-obby-canvas-container { flex: 1; position: relative; overflow: hidden;}#bike-obby-canvas { width: 100%; height: 100%; background: #0a0a0a;}#bike-obby-stats { background: #2d2d2d; padding: 10px 20px; display: flex; justify-content: space-between; color: white; font-size: 0.9rem;}#bike-obby-container.fullscreen { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; max-width: none; max-height: none; border-radius: 0; z-index: 1014;}#bike-obby-container.fullscreen #bike-obby-canvas-container { height: calc(100vh - 120px);}#minecraft-btn { position: fixed; top: 15px; right: 465px; background-color: #4CAF50; border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: background-color 0.2s ease; z-index: 1000; min-height: 44px; min-width: 44px; display: flex; align-items: center; justify-content: center;}#minecraft-btn:hover { background-color: #388E3C;}#minecraft-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 1012; padding: 20px;}#minecraft-container { background: #1a1a1a; border-radius: 20px; padding: 0; max-width: 900px; width: 100%; height: 80vh; display: flex; flex-direction: column; font-family: 'Whitney', sans-serif; overflow: hidden;}#minecraft-header { background: #2d2d2d; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #4CAF50;}#minecraft-title { color: white; font-size: 1.5rem; font-weight: bold; font-family: 'Ginto', 'Whitney', sans-serif;}#minecraft-close { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;}#minecraft-close:hover { background: rgba(255,255,255,0.1);}#minecraft-fullscreen { background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; padding: 5px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 8px;}#minecraft-fullscreen:hover { background: rgba(255,255,255,0.1);}#minecraft-canvas-container { flex: 1; position: relative; overflow: hidden;}#minecraft-canvas { width: 100%; height: 100%; background: #0a0a0a;}#minecraft-stats { background: #2d2d2d; padding: 10px 20px; display: flex; justify-content: space-between; color: white; font-size: 0.9rem;}#minecraft-container.fullscreen { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; max-width: none; max-height: none; border-radius: 0; z-index: 1014;}#minecraft-container.fullscreen #minecraft-canvas-container { height: calc(100vh - 120px);}#insert-link-btn { position: fixed; top: 15px; right: 520px; background-color: #FF9800; border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1rem; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: background-color 0.2s ease; z-index: 1000; min-height: 44px; min-width: 44px; display: flex; align-items: center; justify-content: center;}#insert-link-btn:hover { background-color: #F57C00;}@media (max-width: 1200px) { .app-container { width: 98%; height: 95%; }}@media (max-width: 768px) { .app-container { width: 100%; height: 100%; max-width: none; max-height: none; border-radius: 0; } .sidebar { width: 70px; transition: width 0.3s ease; } .dm-section { display: none; } .sidebar:hover { width: 240px; } .sidebar:hover .dm-section { display: flex; } #edit-wallpaper, #audio-call-btn, #clear-messages-btn, #profile-picture-btn, #link-share-btn, #game-btn, #steal-brainrot-btn, #admin-panel-btn, #adblocker-btn, #bike-obby-btn, #minecraft-btn, #insert-link-btn { transform: scale(0.8); } #edit-wallpaper { right: 10px; } #audio-call-btn { right: 55px; } #clear-messages-btn { right: 100px; } #profile-picture-btn { right: 145px; } #link-share-btn { right: 190px; } #adblocker-btn { right: 235px; } #game-btn { right: 280px; } #steal-brainrot-btn { right: 325px; } #admin-panel-btn { right: 370px; } #bike-obby-btn { right: 415px; } #minecraft-btn { right: 460px; } #insert-link-btn { right: 505px; } .message-container { max-width: 95%; }}@media (max-width: 480px) { .header { font-size: 1.1rem; padding: 15px 10px; } .header span { font-size: 0.65rem; } .message { padding: 10px 14px; font-size: 0.9rem; } .input-container { padding: 8px 10px; } input { font-size: 14px; padding: 10px 14px; } #edit-wallpaper, #audio-call-btn, #clear-messages-btn, #profile-picture-btn, #link-share-btn, #adblocker-btn, #game-btn, #steal-brainrot-btn, #admin-panel-btn, #bike-obby-btn, #minecraft-btn, #insert-link-btn { position: fixed; right: 10px; transform: scale(0.7); } #edit-wallpaper { top: 15px; } #audio-call-btn { top: 65px; } #clear-messages-btn { top: 115px; } #profile-picture-btn { top: 165px; } #link-share-btn { top: 215px; } #adblocker-btn { top: 265px; } #game-btn { top: 315px; } #steal-brainrot-btn { top: 365px; } #admin-panel-btn { top: 415px; } #bike-obby-btn { top: 465px; } #minecraft-btn { top: 515px; } #insert-link-btn { top: 565px; }}* {-webkit-tap-highlight-color: transparent;box-sizing: border-box;}body {margin: 0;font-family: 'Whitney', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;background: linear-gradient(135deg, #667eea, #764ba2);height: 100vh;height: 100dvh;display: flex;justify-content: center;align-items: center;background-size: cover;background-position: center;background-attachment: fixed;padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);overflow: hidden;}.app-container {display: flex;width: 95%;max-width: 1200px;height: 90%;max-height: 800px;background: rgba(255,255,255,0.95);border-radius: 20px;box-shadow: 0 20px 60px rgba(0,0,0,0.3);overflow: hidden;}.sidebar {width: 240px;background-color: #2f3136;display: flex;flex-direction: column;overflow: hidden;}.server-list {display: flex;flex-direction: column;align-items: center;padding: 12px 0;background-color: #202225;border-bottom: 1px solid rgba(255,255,255,0.1);}.server-icon {width: 48px;height: 48px;border-radius: 50%;background-color: #36393f;margin: 8px 0;display: flex;align-items: center;justify-content: center;color: #dcddde;font-size: 18px;cursor: pointer;transition: border-radius 0.2s ease, background-color 0.2s ease;}.server-icon:hover {border-radius: 16px;background-color: #5865f2;}.server-icon.active {border-radius: 16px;background-color: #5865f2;}.dm-section {flex: 1;display: flex;flex-direction: column;overflow: hidden;}.dm-header {padding: 16px 8px 8px 16px;color: #8e9297;font-size: 12px;font-weight: 600;text-transform: uppercase;display: flex;justify-content: space-between;align-items: center;font-family: 'Ginto', 'Whitney', sans-serif;}.dm-header span { cursor: pointer; transition: color 0.2s ease;}.dm-header span:hover { color: #dcddde;}.dm-list {flex: 1;overflow-y: auto;padding: 0 8px;}.dm-item {display: flex;align-items: center;padding: 8px;margin: 2px 0;border-radius: 4px;cursor: pointer;color: #8e9297;transition: background-color 0.2s ease, color 0.2s ease;font-family: 'Whitney', sans-serif;}.dm-item:hover {background-color: rgba(79,84,92,0.32);color: #dcddde;}.dm-item.active {background-color: rgba(79,84,92,0.6);color: white;}.dm-avatar {width: 32px;height: 32px;border-radius: 50%;margin-right: 12px;background-color: #36393f;display: flex;align-items: center;justify-content: center;font-size: 14px;overflow: hidden;}.dm-avatar img {width: 100%;height: 100%;border-radius: 50%;object-fit: cover;}.dm-info {flex: 1;display: flex;flex-direction: column;}.dm-name {font-size: 14px;font-weight: 500;font-family: 'Whitney', sans-serif;}.dm-status {font-size: 10px;color: #72767d;font-family: 'Whitney', sans-serif;}.dm-status.online {color: #3ba55c;}.dm-status.offline {color: #72767d;}.user-section {padding: 8px;background-color: #292b2f;display: flex;align-items: center;}.user-avatar {width: 32px;height: 32px;border-radius: 50%;margin-right: 8px;background-color: #36393f;display: flex;align-items: center;justify-content: center;font-size: 14px;overflow: hidden;}.user-avatar img {width: 100%;height: 100%;border-radius: 50%;object-fit: cover;}.user-info {flex: 1;display: flex;flex-direction: column;}.user-name {font-size: 14px;font-weight: 600;color: white;font-family: 'Whitney', sans-serif;cursor: pointer; position: relative;display: flex;align-items: center;gap: 5px;}.user-name:hover {color: #dcddde; }.user-name::after { content: "edit"; font-family: 'Material Icons'; font-size: 14px; opacity: 0; transition: opacity 0.2s ease;}.user-name:hover::after { opacity: 1;}.user-tag {font-size: 12px;color: #b9bbbe;font-family: 'Whitney', sans-serif;}.user-controls {display: flex;gap: 4px;}.user-control {width: 32px;height: 32px;border-radius: 4px;display: flex;align-items: center;justify-content: center;color: #b9bbbe;cursor: pointer;transition: background-color 0.2s ease, color 0.2s ease;}.user-control:hover {background-color: rgba(79,84,92,0.32);color: #dcddde;}.chat-container {flex: 1;display: flex;flex-direction: column;overflow: hidden;}.header {background-color: #5a67d8;color: white;font-size: 1.4rem;font-weight: bold;padding: 20px 15px;text-align: center;display: flex;justify-content: space-between;align-items: center;padding-top: max(20px, env(safe-area-inset-top));font-family: 'Ginto', 'Whitney', sans-serif;}.header span {font-size: 0.75rem;opacity: 0.9;cursor: default; display: flex;align-items: center;gap: 5px;font-family: 'Whitney', sans-serif;}#messages {flex: 1;padding: 15px;overflow-y: auto;background: transparent;display: flex;flex-direction: column;gap: 12px;}.message-container {max-width: 85%;display: flex;flex-direction: column;animation: fadeIn 0.3s ease forwards;position: relative;}.message-container.self {align-self: flex-end;align-items: flex-end;}.message-container.other {align-self: flex-start;align-items: flex-start;}.message-content {display: flex;align-items: flex-end;gap: 8px;max-width: 100%;}.message-avatar {width: 32px;height: 32px;border-radius: 50%;object-fit: cover;flex-shrink: 0;}.message-bubble {display: flex;flex-direction: column;max-width: calc(100% - 40px);}.sender-name {font-size: 0.7rem;color: #666;margin-bottom: 3px;padding: 0 8px;font-family: 'Whitney', sans-serif;font-weight: 500;}.message {padding: 12px 16px;border-radius: 20px;word-wrap: break-word;font-size: 0.95rem;line-height: 1.3;position: relative;max-width: fit-content;min-width: 0;white-space: pre-wrap;word-break: break-word;font-family: 'Whitney', sans-serif;}.message.self {background-color: #6b7de8;color: white;border-bottom-right-radius: 6px;}.message.other {background-color: #e2e8f0;color: #2d3748;border-bottom-left-radius: 6px;}.message a {color: #5865f2;text-decoration: none;font-weight: 500;}.message.self a {color: white;text-decoration: underline;}.message.other a {color: #5865f2;}.message a:hover {text-decoration: underline;}.message strong {font-weight: 600;}.message em {font-style: italic;}.date-separator {display: flex;align-items: center;justify-content: center;margin: 15px 0;position: relative;}.date-separator::before {content: "";position: absolute;top: 50%;left: 0;right: 0;height: 1px;background: rgba(255, 0, 0, 0.2);z-index: 1;}.date-label {background: rgba(255, 255, 255, 0.8);padding: 4px 12px;border-radius: 12px;font-size: 0.7rem;color: #666;z-index: 2;border: 1px solid rgba(255, 0, 0, 0.1);font-family: 'Whitney', sans-serif;}.encryption-indicator {font-size: 0.6rem;color: #38a169;margin-top: 2px;padding: 0 8px;text-align: right;font-family: 'Whitney', sans-serif;}.encryption-indicator.other {text-align: left;}.message-actions {position: absolute;top: -8px;right: 8px;background: white;border-radius: 15px;box-shadow: 0 2px 8px rgba(0,0,0,0.15);display: none;gap: 4px;padding: 4px;z-index: 10;}.message-container:hover .message-actions {display: flex;}.message-action {background: none;border: none;border-radius: 50%;width: 28px;height: 28px;display: flex;align-items: center;justify-content: center;cursor: pointer;font-size: 0.8rem;transition: background-color 0.2s ease;}.message-action:hover {background: #f7fafc;}.delete-btn {color: #e53e3e;}.edit-btn {color: #3182ce;}.reaction-btn {color: #718096;}.attachment-btn {color: #805ad5;}@keyframes fadeIn {from { opacity: 0; transform: translateY(10px); }to { opacity: 1; transform: translateY(0); }}.input-container {display: flex;flex-direction: column;border-top: 1px solid #e2e8f0;background: white;padding: 10px 15px;padding-bottom: max(10px, env(safe-area-inset-bottom));position: relative;}form {display: flex;gap: 10px;}input {flex: 1;font-size: 16px;padding: 12px 16px;border: 2px solid #e2e8f0;border-radius: 25px;outline: none;background: white;min-height: 44px;font-family: 'Whitney', sans-serif;}input:focus {border-color: #5a67d8;}button {background-color: #5a67d8;border: none;color: white;padding: 0 20px;border-radius: 25px;cursor: pointer;font-weight: bold;min-height: 44px;min-width: 60px;font-family: 'Whitney', sans-serif;}button:disabled {background-color: #a0aec0;cursor: not-allowed;}#edit-wallpaper {position: fixed;top: 15px;right: 15px;background-color: #5a67d8;border: none;color: white;padding: 12px;border-radius: 50%;cursor: pointer;font-size: 1rem;font-weight: bold;box-shadow: 0 4px 12px rgba(0,0,0,0.3);transition: background-color 0.2s ease;z-index: 1000;min-height: 44px;min-width: 44px;display: flex;align-items: center;justify-content: center;}#edit-wallpaper:hover {background-color: #434190;}#audio-call-btn {position: fixed;top: 15px;right: 70px;background-color: #38a169;border: none;color: white;padding: 12px;border-radius: 50%;cursor: pointer;font-size: 1rem;font-weight: bold;box-shadow: 0 4px 12px rgba(0,0,0,0.3);transition: background-color 0.2s ease;z-index: 1000;min-height: 44px;min-width: 44px;display: flex;align-items: center;justify-content: center;}#audio-call-btn:hover {background-color: #2f855a;}#clear-messages-btn {position: fixed;top: 15px;right: 125px;background-color: #e53e3e;border: none;color: white;padding: 12px;border-radius: 50%;cursor: pointer;font-size: 1rem;font-weight: bold;box-shadow: 0 4px 12px rgba(0,0,0,0.3);transition: background-color 0.2s ease;z-index: 1000;min-height: 44px;min-width: 44px;display: flex;align-items: center;justify-content: center;}#clear-messages-btn:hover {background-color: #c53030;}#profile-picture-btn {position: fixed;top: 15px;right: 180px; background-color: #9f7aea;border: none;color: white;padding: 12px;border-radius: 50%;cursor: pointer;font-size: 1rem;font-weight: bold;box-shadow: 0 4px 12px rgba(0,0,0,0.3);transition: background-color 0.2s ease;z-index: 1000;min-height: 44px;min-width: 44px;display: flex;align-items: center;justify-content: center;}#profile-picture-btn:hover {background-color: #805ad5;}#link-share-btn {position: fixed;top: 15px;right: 235px; background-color: #ed8936;border: none;color: white;padding: 12px;border-radius: 50%;cursor: pointer;font-size: 1rem;font-weight: bold;box-shadow: 0 4px 12px rgba(0,0,0,0.3);transition: background-color 0.2s ease;z-index: 1000;min-height: 44px;min-width: 44px;display: flex;align-items: center;justify-content: center;}#link-share-btn:hover {background-color: #dd6b20;}#encryption-key-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1001;padding: 20px;}#encryption-key-container {background: white;border-radius: 20px;padding: 25px;max-width: 400px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#encryption-key-display {background: #f7fafc;border: 2px dashed #e2e8f0;border-radius: 12px;padding: 15px;margin: 15px 0;font-family: monospace;word-break: break-all;font-size: 0.9rem;line-height: 1.4;}.encryption-key-buttons {display: flex;gap: 10px;justify-content: center;margin-top: 20px;flex-wrap: wrap;}.encryption-key-buttons button {min-width: 120px;}#enter-key-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1002;padding: 20px;}#enter-key-container {background: white;border-radius: 20px;padding: 25px;max-width: 400px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#encryption-key-input {width: 100%;font-family: monospace;margin: 15px 0;}.key-entry-buttons {display: flex;gap: 10px;justify-content: center;margin-top: 20px;flex-wrap: wrap;}.key-entry-buttons button {min-width: 120px;}#wallpaper-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 999;padding: 20px;}#wallpaper-options {background: white;border-radius: 20px;padding: 25px;display: flex;gap: 15px;flex-wrap: wrap;justify-content: center;max-width: 400px;width: 100%;max-height: 80vh;overflow-y: auto;}.wallpaper-option {width: 100px;height: 80px;border-radius: 12px;cursor: pointer;border: 3px solid transparent;background-size: cover;background-position: center;transition: transform 0.2s ease;}.wallpaper-option:hover {transform: scale(1.05);border-color: #5a67d8;}.wallpaper-label {font-size: 0.7rem;text-align: center;margin-top: 5px;color: #666;font-family: 'Whitney', sans-serif;}#profile-picture-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1005;padding: 20px;}#profile-picture-options {background: white;border-radius: 20px;padding: 25px;display: flex;gap: 15px;flex-wrap: wrap;justify-content: center;max-width: 400px;width: 100%;max-height: 80vh;overflow-y: auto;}.profile-picture-option {width: 80px;height: 80px;border-radius: 50%;cursor: pointer;border: 3px solid transparent;background-size: cover;background-position: center;transition: transform 0.2s ease;}.profile-picture-option:hover {transform: scale(1.1);border-color: #5a67d8;}.profile-picture-label {font-size: 0.7rem;text-align: center;margin-top: 5px;color: #666;font-family: 'Whitney', sans-serif;}.status {text-align: center;padding: 8px;font-size: 0.75rem;background: #f7fafc;border-top: 1px solid #e2e8f0;min-height: 32px;display: flex;align-items: center;justify-content: center;font-family: 'Whitney', sans-serif;}.status.connected {color: #38a169;}.status.disconnected {color: #e53e3e;}.error-message {background: #fed7d7;border: 1px solid #feb2b2;border-radius: 12px;padding: 12px;margin: 12px;font-size: 0.75rem;color: #c53030;text-align: center;display: none;font-family: 'Whitney', sans-serif;}.success-message {background: #c6f6d5;border: 1px solid #9ae6b4;border-radius: 12px;padding: 12px;margin: 12px;font-size: 0.75rem;color: #276749;text-align: center;font-family: 'Whitney', sans-serif;}.loading-dots:after {content: '';animation: dots 1.5s steps(5, end) infinite;}@keyframes dots {0%, 20% { content: '.'; }40% { content: '..'; }60% { content: '...'; }80%, 100% { content: ''; }}.wallpaper-grid {display: flex;flex-direction: column;align-items: center;gap: 8px;}.profile-picture-grid {display: flex;flex-direction: column;align-items: center;gap: 8px;}.security-indicator {position: fixed;top: 15px;left: 15px;background: #38a169;color: white;padding: 8px 12px;border-radius: 20px;font-size: 0.7rem;font-weight: bold;box-shadow: 0 2px 8px rgba(0,0,0,0.2);z-index: 1000;display: flex;align-items: center;gap: 6px;cursor: pointer;font-family: 'Whitney', sans-serif;}.security-indicator:hover {background: #2f855a;}#audio-call-container {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.9);display: none;flex-direction: column;justify-content: center;align-items: center;z-index: 1003;padding: 20px;}#audio-call-info {text-align: center;color: white;margin-bottom: 30px;font-family: 'Whitney', sans-serif;}#caller-avatar {width: 120px;height: 120px;border-radius: 50%;object-fit: cover;margin-bottom: 20px;border: 4px solid white;}#caller-name {font-size: 1.5rem;font-weight: bold;margin-bottom: 10px;font-family: 'Ginto', 'Whitney', sans-serif;}#call-status {font-size: 1rem;color: #ccc;font-family: 'Whitney', sans-serif;}#call-controls {display: flex;gap: 20px;margin-top: 30px;}.call-btn {background-color: #e53e3e;border: none;color: white;padding: 15px;border-radius: 50%;cursor: pointer;font-size: 1.5rem;width: 70px;height: 70px;display: flex;align-items: center;justify-content: center;box-shadow: 0 4px 12px rgba(0,0,0,0.3);transition: background-color 0.2s ease;}.call-btn:hover {background-color: #c53030;}.call-btn.accept {background-color: #38a169;}.call-btn.accept:hover {background-color: #2f855a;}#incoming-call-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1004;padding: 20px;}#incoming-call-container {background: white;border-radius: 20px;padding: 25px;max-width: 400px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#incoming-call-info {font-size: 1.2rem;margin-bottom: 20px;font-family: 'Whitney', sans-serif;}#incoming-call-controls {display: flex;gap: 15px;justify-content: center;}.typing-indicator {display: flex;align-items: center;gap: 4px;font-size: 0.7rem;color: #666;margin: 5px 0;padding: 0 8px;background: transparent;align-self: flex-start;justify-content: flex-start;width: 100%;height: 20px;font-family: 'Whitney', sans-serif;}.typing-dots {display: flex;gap: 3px;}.typing-dot {width: 6px;height: 6px;border-radius: 50%;background-color: #a0aec0;animation: typing-wave 1.4s ease-in-out infinite both;}.typing-dot:nth-child(1) {animation-delay: -0.32s;}.typing-dot:nth-child(2) {animation-delay: -0.16s;}@keyframes typing-wave {0%, 80%, 100% {transform: scale(0.8);opacity: 0.5;}40% {transform: scale(1);opacity: 1;}}#call-user-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1006;padding: 20px;}#call-user-container {background: white;border-radius: 20px;padding: 25px;max-width: 400px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#call-user-list {max-height: 300px;overflow-y: auto;margin: 15px 0;}.call-user-option {display: flex;align-items: center;gap: 10px;padding: 12px;border-radius: 10px;cursor: pointer;transition: background-color 0.2s ease;font-family: 'Whitney', sans-serif;}.call-user-option:hover {background-color: #f7fafc;}.call-user-avatar {width: 40px;height: 40px;border-radius: 50%;object-fit: cover;}.call-user-name {font-weight: 500;font-family: 'Whitney', sans-serif;}.call-user-status {font-size: 0.7rem;color: #38a169;font-family: 'Whitney', sans-serif;}.call-user-status.offline {color: #a0aec0;}.call-user-buttons {display: flex;gap: 10px;justify-content: center;margin-top: 20px;}#microphone-permission-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1007;padding: 20px;}#microphone-permission-container {background: white;border-radius: 20px;padding: 25px;max-width: 400px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#microphone-permission-info {font-size: 1.1rem;margin-bottom: 20px;font-family: 'Whitney', sans-serif;}#microphone-permission-controls {display: flex;gap: 15px;justify-content: center;}.hidden {display: none !important;}.material-icons {font-size: inherit;vertical-align: middle;}.notification {position: fixed;top: 20px;right: 20px;background: white;border-radius: 10px;padding: 15px 20px;box-shadow: 0 4px 12px rgba(0,0,0,0.3);z-index: 2000;display: flex;align-items: center;gap: 10px;max-width: 350px;animation: slideIn 0.3s ease;font-family: 'Whitney', sans-serif;}.notification.call {border-left: 4px solid #38a169;}.notification-content {flex: 1;}.notification-title {font-weight: bold;margin-bottom: 5px;font-family: 'Ginto', 'Whitney', sans-serif;}.notification-message {font-size: 0.9rem;color: #666;font-family: 'Whitney', sans-serif;}.notification-actions {display: flex;gap: 8px;margin-top: 8px;}.notification-btn {padding: 6px 12px;border-radius: 6px;border: none;cursor: pointer;font-size: 0.8rem;font-weight: bold;font-family: 'Whitney', sans-serif;}.notification-btn.accept {background-color: #38a169;color: white;}.notification-btn.decline {background-color: #e53e3e;color: white;}.notification-btn.close {background-color: #a0aec0;color: white;}@keyframes slideIn {from { transform: translateX(100%); opacity: 0; }to { transform: translateX(0); opacity: 1; }}@keyframes slideOut {from { transform: translateX(0); opacity: 1; }to { transform: translateX(100%); opacity: 0; }}.reactions-container {display: flex;flex-wrap: wrap;gap: 4px;margin-top: 6px;padding: 0 8px;}.reaction {display: flex;align-items: center;gap: 4px;background: rgba(0, 0, 0, 0.05);border-radius: 12px;padding: 2px 6px;font-size: 0.75rem;cursor: pointer;transition: background-color 0.2s ease;font-family: 'Whitney', sans-serif;}.reaction:hover {background: rgba(0, 0, 0, 0.1);}.reaction.self-reacted {background: rgba(88, 101, 242, 0.2);border: 1px solid rgba(88, 101, 242, 0.5);}.reaction-count {font-size: 0.7rem;color: #666;font-family: 'Whitney', sans-serif;}#emoji-picker-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1008;padding: 20px;}#emoji-picker-container {background: white;border-radius: 20px;padding: 25px;max-width: 400px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#emoji-picker-title {margin-bottom: 15px;font-weight: bold;font-family: 'Ginto', 'Whitney', sans-serif;}#emoji-picker-grid {display: grid;grid-template-columns: repeat(6, 1fr);gap: 8px;margin: 15px 0;}.emoji-option {font-size: 1.5rem;padding: 8px;border-radius: 8px;cursor: pointer;transition: background-color 0.2s ease;}.emoji-option:hover {background-color: #f7fafc;}.emoji-picker-buttons {display: flex;gap: 10px;justify-content: center;margin-top: 20px;}#file-upload-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1009;padding: 20px;}#file-upload-container {background: white;border-radius: 20px;padding: 25px;max-width: 500px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#file-upload-area {border: 2px dashed #e2e8f0;border-radius: 12px;padding: 30px;margin: 15px 0;cursor: pointer;transition: border-color 0.2s ease;}#file-upload-area:hover {border-color: #5a67d8;}#file-upload-area.dragover {border-color: #5a67d8;background-color: #f7fafc;}#file-upload-icon {font-size: 3rem;color: #a0aec0;margin-bottom: 15px;}#file-upload-text {font-size: 1rem;color: #4a5568;margin-bottom: 10px;font-family: 'Whitney', sans-serif;}#file-upload-hint {font-size: 0.8rem;color: #718096;font-family: 'Whitney', sans-serif;}#file-preview {margin: 15px 0;max-height: 200px;overflow: hidden;border-radius: 8px;}#file-preview img,#file-preview video {max-width: 100%;max-height: 200px;border-radius: 8px;}.file-upload-buttons {display: flex;gap: 10px;justify-content: center;margin-top: 20px;}#gif-sticker-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1010;padding: 20px;}#gif-sticker-container {background: white;border-radius: 20px;padding: 25px;max-width: 600px;width: 100%;max-height: 80vh;overflow: hidden;display: flex;flex-direction: column;font-family: 'Whitney', sans-serif;}#gif-sticker-tabs {display: flex;gap: 0;border-bottom: 1px solid #e2e8f0;margin-bottom: 15px;}.gif-sticker-tab {flex: 1;padding: 12px;background: none;border: none;border-bottom: 3px solid transparent;cursor: pointer;font-weight: 500;transition: all 0.2s ease;font-family: 'Whitney', sans-serif;}.gif-sticker-tab.active {border-bottom-color: #5a67d8;color: #5a67d8;}#gif-sticker-content {flex: 1;overflow-y: auto;padding: 10px 0;}.gif-sticker-grid {display: grid;grid-template-columns: repeat(4, 1fr);gap: 10px;}.gif-sticker-item {width: 100%;aspect-ratio: 1;border-radius: 8px;overflow: hidden;cursor: pointer;transition: transform 0.2s ease;}.gif-sticker-item:hover {transform: scale(1.05);}.gif-sticker-item img {width: 100%;height: 100%;object-fit: cover;}.gif-sticker-buttons {display: flex;gap: 10px;justify-content: center;margin-top: 20px;}.attachment {margin-top: 8px;border-radius: 8px;overflow: hidden;max-width: 300px;}.attachment img,.attachment video {max-width: 100%;max-height: 200px;border-radius: 8px;}.attachment-file {display: flex;align-items: center;gap: 8px;padding: 8px 12px;background: rgba(0, 0, 0, 0.05);border-radius: 8px;}.file-icon {font-size: 1.5rem;color: #4a5568;}.file-info {flex: 1;}.file-name {font-weight: 500;font-size: 0.9rem;font-family: 'Whitney', sans-serif;}.file-size {font-size: 0.7rem;color: #718096;font-family: 'Whitney', sans-serif;}.download-btn {background: none;border: none;color: #5a67d8;cursor: pointer;padding: 4px;border-radius: 4px;}.download-btn:hover {background: rgba(90, 103, 216, 0.1);}.input-controls {display: flex;gap: 8px;margin-bottom: 8px;}.input-control-btn {background: none;border: none;padding: 8px;border-radius: 50%;cursor: pointer;color: #718096;transition: background-color 0.2s ease, color 0.2s ease;}.input-control-btn:hover {background: #f7fafc;color: #4a5568;}.input-control-btn.active {background: #5a67d8;color: white;}.gif-loading {display: flex;align-items: center;justify-content: center;height: 100px;color: #666;font-family: 'Whitney', sans-serif;}.gif-search {margin-bottom: 15px;}.gif-search input {width: 100%;padding: 10px;border: 1px solid #e2e8f0;border-radius: 8px;font-size: 14px;font-family: 'Whitney', sans-serif;}.sticker-category {margin-bottom: 15px;}.sticker-category h4 {margin: 0 0 8px 0;color: #4a5568;font-size: 0.9rem;font-family: 'Ginto', 'Whitney', sans-serif;}#link-share-modal {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: none;justify-content: center;align-items: center;z-index: 1011;padding: 20px;}#link-share-container {background: white;border-radius: 20px;padding: 25px;max-width: 500px;width: 100%;text-align: center;font-family: 'Whitney', sans-serif;}#link-share-title {margin-bottom: 15px;font-family: 'Ginto', 'Whitney', sans-serif;}.link-share-field {margin: 15px 0;text-align: left;}.link-share-field label {display: block;margin-bottom: 5px;font-weight: 500;color: #4a5568;}.link-share-field input {width: 100%;padding: 10px;border: 1px solid #e2e8f0;border-radius: 8px;font-family: 'Whitney', sans-serif;}.link-share-buttons {display: flex;gap: 10px;justify-content: center;margin-top: 20px;}.link-preview {margin-top: 10px;padding: 10px;background: #f7fafc;border-radius: 8px;border: 1px solid #e2e8f0;text-align: left;}.link-preview-title {font-weight: 500;margin-bottom: 5px;font-family: 'Whitney', sans-serif;}.link-preview-url {font-size: 0.8rem;color: #718096;font-family: 'Whitney', sans-serif;}.formatting-controls {display: flex;gap: 4px;margin-bottom: 8px;}.format-btn {background: none;border: none;padding: 6px 8px;border-radius: 4px;cursor: pointer;color: #718096;font-size: 14px;font-weight: bold;transition: background-color 0.2s ease, color 0.2s ease;font-family: 'Whitney', sans-serif;}.format-btn:hover {background: #f7fafc;color: #4a5568;}.format-btn.active {background: #5a67d8;color: white;}.message.mentioned { background-color: rgba(255, 255, 0, 0.2) !important; border: 1px solid rgba(255, 204, 0, 0.5) !important; border-radius: 8px;}.mention { background-color: rgba(88, 101, 242, 0.3); color: #5865f2; padding: 1px 4px; border-radius: 3px; font-weight: 500;}.edited-indicator { font-size: 0.7rem; color: #72767d; font-style: italic; margin-left: 4px;}.sw-notification { position: fixed; bottom: 20px; left: 20px; background: #4a5568; color: white; padding: 12px 16px; border-radius: 8px; z-index: 10000; display: none;}</style></head><body><div class="security-indicator" title="Click to manage encryption key" id="security-indicator"><span class="material-icons">lock</span> Encrypted</div><button id="edit-wallpaper" title="Edit wallpaper"><span class="material-icons">palette</span></button><button id="audio-call-btn" title="Start audio call"><span class="material-icons">call</span></button><button id="clear-messages-btn" title="Clear all messages"><span class="material-icons">delete</span></button><button id="profile-picture-btn" title="Change profile picture"><span class="material-icons">person</span></button><button id="link-share-btn" title="Share a link"><span class="material-icons">link</span></button><button id="insert-link-btn" title="Insert Link"><span class="material-icons">insert_link</span></button><button id="game-btn" title="Play Grow a Garden"><span class="material-icons">sports_esports</span></button><button id="steal-brainrot-btn" title="Play Steal a Brainrot"><span class="material-icons">casino</span></button><button id="bike-obby-btn" title="Play Bike Obby"><span class="material-icons">directions_bike</span></button><button id="minecraft-btn" title="Play Minecraft"><span class="material-icons">diamond</span></button><button id="admin-panel-btn" title="Admin Panel"><span class="material-icons">admin_panel_settings</span></button><button id="adblocker-btn" title="Toggle Adblocker"><span class="material-icons">block</span></button><div class="app-container"><div class="sidebar"><div class="server-list"><div class="server-icon active" data-server="home"><span class="material-icons">home</span></div><div class="server-icon" data-server="dms"><span class="material-icons">chat</span></div></div><div class="dm-section"><div class="dm-header">DIRECT MESSAGES<span class="material-icons">add</span></div><div class="dm-list" id="dm-list"></div><div class="user-section"><div class="user-avatar" id="user-sidebar-avatar"><span class="material-icons">person</span></div><div class="user-info"><div class="user-name" id="user-sidebar-name">Loading...</div><div class="user-tag" id="user-sidebar-tag">#0000</div></div><div class="user-controls"><div class="user-control"><span class="material-icons">mic</span></div><div class="user-control"><span class="material-icons">headphones</span></div><div class="user-control"><span class="material-icons">settings</span></div></div></div></div></div><div class="chat-container" role="main" aria-label="Encrypted chat application" id="chat-container"><div class="header"><div>Super Chat </div><span id="user-display">You: ...</span></div><div id="error-message" class="error-message hidden"></div><div id="success-message" class="success-message hidden"></div><div id="messages" aria-live="polite" aria-relevant="additions"><div id="loading">Loading messages<span class="loading-dots"></span></div></div><div class="input-container"><div class="input-controls"><button class="input-control-btn" id="file-upload-btn" title="Upload file"><span class="material-icons">attach_file</span></button><button class="input-control-btn" id="gif-sticker-btn" title="GIFs & Stickers"><span class="material-icons">gif</span></button><button class="format-btn" id="bold-btn" title="Bold (Cmd+B)"><strong>B</strong></button><button class="format-btn" id="italic-btn" title="Italic (Cmd+I)"><em>I</em></button></div><div id="typing-indicator" class="typing-indicator hidden"><span id="typing-text"></span><div class="typing-dots"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div></div><form id="chat-form" aria-label="Send encrypted message form"><input id="message-input" type="text" placeholder="Type your encrypted message..." autocomplete="off" required aria-required="true" /><button type="submit" id="send-button">Send</button></form></div><div id="status" class="status hidden"></div></div></div><div id="adblocker-modal"><div id="adblocker-container"><h3 id="adblocker-title"><span class="material-icons">block</span> Adblocker Settings</h3><p>Toggle ad blocking for games on or off:</p><div id="adblocker-status" class="adblocker-status active"><span class="material-icons">check_circle</span><span>Adblocker is currently ACTIVE</span></div><div class="adblocker-buttons"><button id="disable-adblocker-btn" style="background-color: #f44336;">Disable Adblocker</button><button id="enable-adblocker-btn" style="background-color: #4caf50;">Enable Adblocker</button><button id="close-adblocker-btn">Close</button></div></div></div><div id="admin-modal"><div id="admin-container"><h3 id="admin-title"><span class="material-icons">admin_panel_settings</span> Admin Panel</h3><div id="admin-login" class="admin-section"><h4>Admin Authentication Required</h4><p>Please enter the admin password to access the admin panel:</p><input type="password" id="admin-password-input" placeholder="Enter admin password" /><div style="display: flex; gap: 10px; justify-content: center; margin-top: 15px;"><button class="admin-login-btn" id="admin-login-btn">Login</button><button class="admin-login-btn cancel" id="admin-cancel-btn">Cancel</button></div></div><div id="admin-content" class="hidden"><div class="admin-section"><h4>User Management</h4><div class="admin-user-list" id="admin-user-list"></div></div><div class="admin-section"><h4>Rank Management</h4><p>Select a rank to assign to users:</p><div class="admin-rank-controls" id="admin-rank-controls"></div></div><div style="text-align: center; margin-top: 20px;"><button class="admin-login-btn" id="admin-close-btn">Close Admin Panel</button></div></div></div></div><div id="game-modal"><div id="game-container"><div id="game-header"><div id="game-title">Grow a Garden</div><div class="header-controls"><button id="game-fullscreen" title="Toggle Fullscreen"><span class="material-icons">fullscreen</span></button><button id="game-close"><span class="material-icons">close</span></button></div></div><div id="game-canvas-container"><div class="ad-blocked-iframe"><iframe id="game-frame" src="https://maddox05.github.io/basic-ruffle-player/html/grow_a_garden/index.html" style="width:100%; height: 100%; border: none;"></iframe></div></div><div id="game-stats"><div id="game-score">Playing: Grow a Garden</div></div></div></div><div id="steal-brainrot-modal"><div id="steal-brainrot-container"><div id="steal-brainrot-header"><div id="steal-brainrot-title">Steal a Brainrot</div><div class="header-controls"><button id="steal-brainrot-fullscreen" title="Toggle Fullscreen"><span class="material-icons">fullscreen</span></button><button id="steal-brainrot-close"><span class="material-icons">close</span></button></div></div><div id="steal-brainrot-canvas-container"><div class="ad-blocked-iframe"><iframe id="steal-brainrot-frame" src="https://maddox05.github.io/basic-ruffle-player/html/steal_a_brainrot_2/index.html" style="width: 100%; height: 100%; border: none;"></iframe></div></div><div id="steal-brainrot-stats"><div id="steal-brainrot-score">Playing: Steal a Brainrot</div></div></div></div><div id="bike-obby-modal"><div id="bike-obby-container"><div id="bike-obby-header"><div id="bike-obby-title">Bike Obby</div><div class="header-controls"><button id="bike-obby-fullscreen" title="Toggle Fullscreen"><span class="material-icons">fullscreen</span></button><button id="bike-obby-close"><span class="material-icons">close</span></button></div></div><div id="bike-obby-canvas-container"><div class="ad-blocked-iframe"><iframe id="bike-obby-frame" src="https://maddox05.github.io/basic-ruffle-player/html/obby_but_youre_on_a_bike/index.html" style="width: 100%; height: 100%; border: none;"></iframe></div></div><div id="bike-obby-stats"><div id="bike-obby-score">Playing: Bike Obby</div></div></div></div><div id="minecraft-modal"><div id="minecraft-container"><div id="minecraft-header"><div id="minecraft-title">Minecraft</div><div class="header-controls"><button id="minecraft-fullscreen" title="Toggle Fullscreen"><span class="material-icons">fullscreen</span></button><button id="minecraft-close"><span class="material-icons">close</span></button></div></div><div id="minecraft-canvas-container"><div class="ad-blocked-iframe"><iframe id="minecraft-frame" src="https://burnoli.github.io/Eaglercraft/1.8.8/" style="width: 100%; height: 100%; border: none;"></iframe></div></div><div id="minecraft-stats"><div id="minecraft-score">Playing: Minecraft</div></div></div></div><div id="audio-call-container"><div id="audio-call-info"><img id="caller-avatar" src="" alt="Caller avatar"><div id="caller-name"></div><div id="call-status">Call in progress...</div></div><div id="call-controls"><button class="call-btn" id="end-call-btn" title="End call"><span class="material-icons">call_end</span></button></div></div><div id="incoming-call-modal"><div id="incoming-call-container"><h3><span class="material-icons">call</span> Incoming Audio Call</h3><div id="incoming-call-info">Someone is calling you...</div><div id="incoming-call-controls"><button class="call-btn accept" id="accept-call-btn"><span class="material-icons">call</span></button><button class="call-btn" id="reject-call-btn"><span class="material-icons">close</span></button></div></div></div><div id="call-user-modal"><div id="call-user-container"><h3><span class="material-icons">call</span> Call a User</h3><p>Select who you want to call:</p><div id="call-user-list"></div><div class="call-user-buttons"><button id="cancel-call-btn">Cancel</button></div></div></div><div id="microphone-permission-modal"><div id="microphone-permission-container"><h3><span class="material-icons">mic</span> Microphone Access Required</h3><div id="microphone-permission-info">Audio calls require microphone access. Would you like to allow microphone access?</div><div id="microphone-permission-controls"><button id="allow-microphone-btn" style="background-color: #38a169;">Allow</button><button id="deny-microphone-btn" style="background-color: #e53e3e;">Deny</button></div></div></div><div id="file-upload-modal"><div id="file-upload-container"><h3><span class="material-icons">attach_file</span> Upload File</h3><div id="file-upload-area"><div id="file-upload-icon" class="material-icons">cloud_upload</div><div id="file-upload-text">Click to upload or drag and drop</div><div id="file-upload-hint">Supports images, videos, and documents (max 10MB)</div></div><input type="file" id="file-input" style="display: none;" /><div id="file-preview"></div><div class="file-upload-buttons"><button id="cancel-upload-btn">Cancel</button><button id="send-file-btn" style="background-color: #38a169;">Send File</button></div></div></div><div id="gif-sticker-modal"><div id="gif-sticker-container"><h3><span class="material-icons">gif</span> GIFs & Stickers</h3><div id="gif-sticker-tabs"><button class="gif-sticker-tab active" data-tab="gifs">GIFs</button><button class="gif-sticker-tab" data-tab="stickers">Stickers</button></div><div class="gif-search"><input type="text" id="gif-search-input" placeholder="Search for GIFs..." /></div><div id="gif-sticker-content"><div id="gifs-tab" class="gif-sticker-tab-content"><div class="gif-sticker-grid" id="gifs-grid"><div class="gif-loading"><span>Search for GIFs above...</span></div></div></div><div id="stickers-tab" class="gif-sticker-tab-content hidden"><div class="gif-sticker-grid" id="stickers-grid"></div></div></div><div class="gif-sticker-buttons"><button id="cancel-gif-sticker-btn">Cancel</button></div></div></div><div id="emoji-picker-modal"><div id="emoji-picker-container"><h3><span class="material-icons">emoji_emotions</span> Add Reaction</h3><div id="emoji-picker-title">Choose an emoji:</div><div id="emoji-picker-grid"></div><div class="emoji-picker-buttons"><button id="cancel-emoji-btn">Cancel</button></div></div></div><div id="link-share-modal"><div id="link-share-container"><h3 id="link-share-title"><span class="material-icons">link</span> Share a Link</h3><div class="link-share-field"><label for="link-url">URL:</label><input type="url" id="link-url" placeholder="https://example.com" /></div><div class="link-share-field"><label for="link-display">Display Text (optional):</label><input type="text" id="link-display" placeholder="Check this out!" /></div><div id="link-preview" class="link-preview hidden"><div class="link-preview-title">Preview:</div><div class="link-preview-url"></div></div><div class="link-share-buttons"><button id="cancel-link-btn">Cancel</button><button id="insert-link-btn" style="background-color: #38a169;">Insert Link</button></div></div></div><div id="encryption-key-modal"><div id="encryption-key-container"><h3><span class="material-icons">lock</span> Encryption Key Generated</h3><p>Save this key to decrypt your messages. Without it, your messages cannot be read.</p><div id="encryption-key-display"></div><div class="encryption-key-buttons"><button id="copy-key-btn">Copy Key</button><button id="enter-key-btn" style="background-color: #ed8936;">Enter Existing Key</button><button id="confirm-key-btn" style="background-color: #38a169;">I've Saved The Key</button></div></div></div><div id="enter-key-modal"><div id="enter-key-container"><h3><span class="material-icons">key</span> Enter Encryption Key</h3><p>Paste your existing encryption key below:</p><textarea id="encryption-key-input" rows="4" placeholder="Paste your encryption key here..."></textarea><div class="key-entry-buttons"><button id="cancel-key-btn">Cancel</button><button id="use-key-btn" style="background-color: #38a169;">Use This Key</button></div></div></div><div id="wallpaper-modal"><div id="wallpaper-options"></div></div><div id="profile-picture-modal"><div id="profile-picture-options"></div></div><div class="sw-notification" id="sw-notification"> Service Worker installed. You can now receive notifications!</div><script>const _0x1710b8=_0x3efb;(function(_0x262d21,_0x452c01){const _0x4c552f=_0x3efb,_0x51a283=_0x262d21();while(!![]){try{const _0x6492ed=-parseInt(_0x4c552f(0x117))/0x1+parseInt(_0x4c552f(0x1a7))/0x2*(-parseInt(_0x4c552f(0x1b3))/0x3)+-parseInt(_0x4c552f(0x8b))/0x4*(parseInt(_0x4c552f(0x1f1))/0x5)+parseInt(_0x4c552f(0x121))/0x6*(-parseInt(_0x4c552f(0x119))/0x7)+parseInt(_0x4c552f(0xcb))/0x8+parseInt(_0x4c552f(0x126))/0x9*(-parseInt(_0x4c552f(0x294))/0xa)+-parseInt(_0x4c552f(0xae))/0xb*(-parseInt(_0x4c552f(0x2fc))/0xc);if(_0x6492ed===_0x452c01)break;else _0x51a283['push'](_0x51a283['shift']());}catch(_0x1ce422){_0x51a283['push'](_0x51a283['shift']());}}}(_0x5bfe,0x77fc4));let adblockerEnabled=!![];function initializeAdblocker(){const _0x2462a6=_0x3efb;console[_0x2462a6(0x254)](_0x2462a6(0x103)),loadAdblockerState();const _0x18a667=document[_0x2462a6(0x1fe)](_0x2462a6(0x2b1)),_0x2bd356=document[_0x2462a6(0x1fe)](_0x2462a6(0x319)),_0xdb4f43=document['getElementById'](_0x2462a6(0x113)),_0x246bea=document[_0x2462a6(0x1fe)]('enable-adblocker-btn'),_0x33fd74=document['getElementById'](_0x2462a6(0x237));_0x18a667['addEventListener'](_0x2462a6(0x200),()=>{const _0x331dde=_0x2462a6;_0x2bd356[_0x331dde(0xfa)]['display']=_0x331dde(0x27f),updateAdblockerStatus();}),_0xdb4f43[_0x2462a6(0x27b)]('click',()=>{const _0x1673f4=_0x2462a6;adblockerEnabled=![],saveAdblockerState(),updateAdblockerUI(),updateAdblockerStatus(),showSuccess(_0x1673f4(0x1c6));}),_0x246bea[_0x2462a6(0x27b)](_0x2462a6(0x200),()=>{const _0x38e255=_0x2462a6;adblockerEnabled=!![],saveAdblockerState(),updateAdblockerUI(),updateAdblockerStatus(),showSuccess(_0x38e255(0xac));}),_0x33fd74[_0x2462a6(0x27b)](_0x2462a6(0x200),()=>{const _0x51e82d=_0x2462a6;_0x2bd356['style']['display']=_0x51e82d(0x1f2);}),_0x2bd356[_0x2462a6(0x27b)](_0x2462a6(0x200),_0x3f9ce3=>{const _0x3531ed=_0x2462a6;_0x3f9ce3[_0x3531ed(0x23a)]===_0x2bd356&&(_0x2bd356[_0x3531ed(0xfa)]['display']=_0x3531ed(0x1f2));}),updateAdblockerUI();}function loadAdblockerState(){const _0x1b2388=_0x3efb,_0x502242=localStorage[_0x1b2388(0x2d3)](_0x1b2388(0xf5));_0x502242!==null&&(adblockerEnabled=JSON[_0x1b2388(0x279)](_0x502242));}function saveAdblockerState(){const _0x111506=_0x3efb;localStorage['setItem'](_0x111506(0xf5),JSON['stringify'](adblockerEnabled));}function updateAdblockerUI(){const _0x16f606=_0x3efb,_0x507d58=document['getElementById'](_0x16f606(0x2b1));adblockerEnabled?(_0x507d58['classList'][_0x16f606(0x243)](_0x16f606(0x1e3)),_0x507d58[_0x16f606(0x2bc)]=_0x16f606(0x31d),_0x507d58[_0x16f606(0x273)]='<span\x20class=\x22material-icons\x22>block</span>'):(_0x507d58[_0x16f606(0x1e5)][_0x16f606(0x31b)](_0x16f606(0x1e3)),_0x507d58[_0x16f606(0x2bc)]='Adblocker:\x20OFF',_0x507d58[_0x16f606(0x273)]=_0x16f606(0x298));}function updateAdblockerStatus(){const _0x50f4a8=_0x3efb,_0x4fcd83=document[_0x50f4a8(0x1fe)]('adblocker-status');adblockerEnabled?(_0x4fcd83['className']='adblocker-status\x20active',_0x4fcd83[_0x50f4a8(0x273)]=_0x50f4a8(0x98)):(_0x4fcd83[_0x50f4a8(0x20f)]=_0x50f4a8(0x133),_0x4fcd83['innerHTML']='<span\x20class=\x22material-icons\x22>cancel</span><span>Adblocker\x20is\x20currently\x20INACTIVE</span>');}function blockAdsInIframes(){const _0x3e062f=_0x3efb;if(!adblockerEnabled)return;const _0x32831b=['doubleclick.net',_0x3e062f(0x1ba),'googlesyndication.com',_0x3e062f(0x1b4),_0x3e062f(0x162),_0x3e062f(0xf7),_0x3e062f(0x2ca),'advertising',_0x3e062f(0x84),_0x3e062f(0x80)],_0x3c86de=document[_0x3e062f(0x23b)]('#game-frame,\x20#steal-brainrot-frame,\x20#bike-obby-frame,\x20#minecraft-frame');_0x3c86de['forEach'](_0x1d6964=>{const _0x4b0d73=_0x3e062f;try{_0x1d6964[_0x4b0d73(0xd4)]('csp',_0x4b0d73(0x2d8)),_0x1d6964[_0x4b0d73(0x27b)](_0x4b0d73(0x157),function(){const _0x38ed01=_0x4b0d73;try{const _0x474b4f=_0x1d6964[_0x38ed01(0x1d0)]||_0x1d6964[_0x38ed01(0x106)][_0x38ed01(0x1b9)],_0x2e44aa=_0x474b4f[_0x38ed01(0x23b)]('script');_0x2e44aa[_0x38ed01(0xd5)](_0xb31cb1=>{const _0x2c26c8=_0x38ed01,_0x45f161=_0xb31cb1[_0x2c26c8(0x12b)][_0x2c26c8(0x165)]();_0x32831b[_0x2c26c8(0x28b)](_0x1cabbf=>_0x45f161[_0x2c26c8(0x207)](_0x1cabbf))&&_0xb31cb1[_0x2c26c8(0x243)]();});const _0x33cede=_0x474b4f['querySelectorAll'](_0x38ed01(0x16d));_0x33cede[_0x38ed01(0xd5)](_0x31df0f=>{const _0x143411=_0x38ed01,_0x1797b3=_0x31df0f[_0x143411(0x12b)]['toLowerCase']();_0x32831b[_0x143411(0x28b)](_0x16cc28=>_0x1797b3['includes'](_0x16cc28))&&_0x31df0f[_0x143411(0x243)]();});const _0x44036f=[_0x38ed01(0x252),_0x38ed01(0x2f9),_0x38ed01(0xef),_0x38ed01(0x22f),'[class*=\x22sponsor\x22]',_0x38ed01(0x12f)];_0x44036f['forEach'](_0x1160fe=>{const _0x2ae0a8=_0x474b4f['querySelectorAll'](_0x1160fe);_0x2ae0a8['forEach'](_0x419557=>{const _0x56f6e3=_0x3efb;isLikelyAd(_0x419557)&&_0x419557[_0x56f6e3(0x243)]();});});}catch(_0x1bbbf3){console[_0x38ed01(0x254)]('Cannot\x20access\x20iframe\x20content\x20due\x20to\x20CORS');}});}catch(_0x20401f){console['log'](_0x4b0d73(0xa4),_0x20401f);}});}function isLikelyAd(_0x27aee8){const _0x28b3e2=_0x3efb,_0x20caa6=window[_0x28b3e2(0xdd)](_0x27aee8),_0x567797=_0x27aee8['textContent']||'';return _0x27aee8[_0x28b3e2(0x326)]>0x12c&&_0x27aee8[_0x28b3e2(0x13f)]>0xfa||_0x567797[_0x28b3e2(0x207)]('ad')||_0x567797[_0x28b3e2(0x207)]('Ad')||_0x567797[_0x28b3e2(0x207)](_0x28b3e2(0x18a))||_0x567797[_0x28b3e2(0x207)](_0x28b3e2(0x25f))||_0x20caa6[_0x28b3e2(0x25e)]===_0x28b3e2(0x1f2)||_0x27aee8[_0x28b3e2(0x1aa)]===_0x28b3e2(0x315)||_0x27aee8[_0x28b3e2(0x1e5)][_0x28b3e2(0x187)]('adsbygoogle');}function initializeGameModals(){const _0x5b9ca5=_0x3efb,_0x1d1c84=document[_0x5b9ca5(0x1fe)]('game-btn'),_0xea865b=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x1e0)),_0x44295c=document['getElementById']('game-close'),_0x3a3d64=document[_0x5b9ca5(0x1fe)]('game-fullscreen'),_0x3c9696=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x262)),_0x2c4ec8=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x2ce)),_0x9acefb=document['getElementById']('steal-brainrot-modal'),_0x328386=document['getElementById']('steal-brainrot-close'),_0x425d8a=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x24d)),_0x2b58a7=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0xd0)),_0x432fe0=document['getElementById'](_0x5b9ca5(0x143)),_0x2a371d=document['getElementById']('bike-obby-modal'),_0x1dfd0c=document['getElementById'](_0x5b9ca5(0x2f0)),_0x5829dc=document[_0x5b9ca5(0x1fe)]('bike-obby-fullscreen'),_0x247c19=document['getElementById']('bike-obby-container'),_0x217b67=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x15e)),_0x370af1=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x7e)),_0x473289=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x199)),_0x558f40=document['getElementById'](_0x5b9ca5(0x145)),_0x4ec74c=document['getElementById']('minecraft-container'),_0x284ca2=document[_0x5b9ca5(0x1fe)](_0x5b9ca5(0x286));_0x1d1c84['addEventListener']('click',()=>{const _0x504a77=_0x5b9ca5;_0xea865b[_0x504a77(0xfa)]['display']=_0x504a77(0x27f),setTimeout(blockAdsInIframes,0x64);}),_0x44295c['addEventListener'](_0x5b9ca5(0x200),()=>{const _0xcfd7d=_0x5b9ca5;_0xea865b[_0xcfd7d(0xfa)][_0xcfd7d(0x25e)]=_0xcfd7d(0x1f2),_0x3c9696[_0xcfd7d(0x1e5)][_0xcfd7d(0x187)](_0xcfd7d(0xb9))&&(_0x3c9696['classList'][_0xcfd7d(0x243)](_0xcfd7d(0xb9)),_0x3a3d64[_0xcfd7d(0x273)]=_0xcfd7d(0x10e),_0x3a3d64[_0xcfd7d(0x2bc)]=_0xcfd7d(0x2ea));}),_0xea865b[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),_0x503e0b=>{const _0x1ef1bb=_0x5b9ca5;_0x503e0b[_0x1ef1bb(0x23a)]===_0xea865b&&(_0xea865b[_0x1ef1bb(0xfa)]['display']=_0x1ef1bb(0x1f2),_0x3c9696['classList'][_0x1ef1bb(0x187)](_0x1ef1bb(0xb9))&&(_0x3c9696[_0x1ef1bb(0x1e5)]['remove'](_0x1ef1bb(0xb9)),_0x3a3d64[_0x1ef1bb(0x273)]=_0x1ef1bb(0x10e),_0x3a3d64[_0x1ef1bb(0x2bc)]=_0x1ef1bb(0x2ea)));}),_0x3a3d64['addEventListener'](_0x5b9ca5(0x200),()=>{const _0x11c7ec=_0x5b9ca5;_0x3c9696[_0x11c7ec(0x1e5)][_0x11c7ec(0x1ef)](_0x11c7ec(0xb9)),_0x3c9696[_0x11c7ec(0x1e5)]['contains'](_0x11c7ec(0xb9))?(_0x3a3d64[_0x11c7ec(0x273)]=_0x11c7ec(0x152),_0x3a3d64[_0x11c7ec(0x2bc)]=_0x11c7ec(0x1db)):(_0x3a3d64[_0x11c7ec(0x273)]=_0x11c7ec(0x10e),_0x3a3d64[_0x11c7ec(0x2bc)]=_0x11c7ec(0x2ea));}),_0x2c4ec8[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),()=>{const _0x5e38e3=_0x5b9ca5;_0x9acefb[_0x5e38e3(0xfa)][_0x5e38e3(0x25e)]='flex',setTimeout(blockAdsInIframes,0x64);}),_0x328386[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),()=>{const _0x5df2a6=_0x5b9ca5;_0x9acefb[_0x5df2a6(0xfa)][_0x5df2a6(0x25e)]=_0x5df2a6(0x1f2),_0x2b58a7[_0x5df2a6(0x1e5)][_0x5df2a6(0x187)](_0x5df2a6(0xb9))&&(_0x2b58a7['classList'][_0x5df2a6(0x243)](_0x5df2a6(0xb9)),_0x425d8a['innerHTML']=_0x5df2a6(0x10e),_0x425d8a['title']=_0x5df2a6(0x2ea));}),_0x9acefb[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),_0x3192f6=>{const _0x4bb0b0=_0x5b9ca5;_0x3192f6[_0x4bb0b0(0x23a)]===_0x9acefb&&(_0x9acefb[_0x4bb0b0(0xfa)][_0x4bb0b0(0x25e)]=_0x4bb0b0(0x1f2),_0x2b58a7[_0x4bb0b0(0x1e5)][_0x4bb0b0(0x187)](_0x4bb0b0(0xb9))&&(_0x2b58a7[_0x4bb0b0(0x1e5)]['remove'](_0x4bb0b0(0xb9)),_0x425d8a[_0x4bb0b0(0x273)]=_0x4bb0b0(0x10e),_0x425d8a['title']=_0x4bb0b0(0x2ea)));}),_0x425d8a['addEventListener'](_0x5b9ca5(0x200),()=>{const _0x3ae131=_0x5b9ca5;_0x2b58a7['classList'][_0x3ae131(0x1ef)]('fullscreen'),_0x2b58a7[_0x3ae131(0x1e5)][_0x3ae131(0x187)](_0x3ae131(0xb9))?(_0x425d8a[_0x3ae131(0x273)]='<span\x20class=\x22material-icons\x22>fullscreen_exit</span>',_0x425d8a['title']=_0x3ae131(0x1db)):(_0x425d8a[_0x3ae131(0x273)]=_0x3ae131(0x10e),_0x425d8a['title']=_0x3ae131(0x2ea));}),_0x432fe0[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),()=>{const _0x2a9e83=_0x5b9ca5;_0x2a371d[_0x2a9e83(0xfa)][_0x2a9e83(0x25e)]='flex',setTimeout(blockAdsInIframes,0x64);}),_0x1dfd0c[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),()=>{const _0x58de89=_0x5b9ca5;_0x2a371d[_0x58de89(0xfa)][_0x58de89(0x25e)]=_0x58de89(0x1f2),_0x247c19['classList'][_0x58de89(0x187)](_0x58de89(0xb9))&&(_0x247c19[_0x58de89(0x1e5)][_0x58de89(0x243)](_0x58de89(0xb9)),_0x5829dc['innerHTML']=_0x58de89(0x10e),_0x5829dc[_0x58de89(0x2bc)]=_0x58de89(0x2ea));}),_0x2a371d['addEventListener'](_0x5b9ca5(0x200),_0xed0989=>{const _0x510bfc=_0x5b9ca5;_0xed0989['target']===_0x2a371d&&(_0x2a371d[_0x510bfc(0xfa)][_0x510bfc(0x25e)]=_0x510bfc(0x1f2),_0x247c19[_0x510bfc(0x1e5)][_0x510bfc(0x187)]('fullscreen')&&(_0x247c19['classList'][_0x510bfc(0x243)](_0x510bfc(0xb9)),_0x5829dc[_0x510bfc(0x273)]=_0x510bfc(0x10e),_0x5829dc[_0x510bfc(0x2bc)]=_0x510bfc(0x2ea)));}),_0x5829dc[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),()=>{const _0x5eadd8=_0x5b9ca5;_0x247c19[_0x5eadd8(0x1e5)][_0x5eadd8(0x1ef)]('fullscreen'),_0x247c19[_0x5eadd8(0x1e5)]['contains'](_0x5eadd8(0xb9))?(_0x5829dc['innerHTML']=_0x5eadd8(0x152),_0x5829dc[_0x5eadd8(0x2bc)]=_0x5eadd8(0x1db)):(_0x5829dc[_0x5eadd8(0x273)]=_0x5eadd8(0x10e),_0x5829dc[_0x5eadd8(0x2bc)]=_0x5eadd8(0x2ea));}),_0x217b67['addEventListener'](_0x5b9ca5(0x200),()=>{const _0x1abf9c=_0x5b9ca5;_0x370af1[_0x1abf9c(0xfa)]['display']=_0x1abf9c(0x27f),setTimeout(blockAdsInIframes,0x64);}),_0x473289[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),()=>{const _0x2a6b49=_0x5b9ca5;_0x370af1[_0x2a6b49(0xfa)][_0x2a6b49(0x25e)]=_0x2a6b49(0x1f2),_0x4ec74c[_0x2a6b49(0x1e5)][_0x2a6b49(0x187)](_0x2a6b49(0xb9))&&(_0x4ec74c[_0x2a6b49(0x1e5)]['remove']('fullscreen'),_0x558f40[_0x2a6b49(0x273)]='<span\x20class=\x22material-icons\x22>fullscreen</span>',_0x558f40['title']=_0x2a6b49(0x2ea));}),_0x370af1[_0x5b9ca5(0x27b)](_0x5b9ca5(0x200),_0x3c3297=>{const _0x41424e=_0x5b9ca5;_0x3c3297[_0x41424e(0x23a)]===_0x370af1&&(_0x370af1[_0x41424e(0xfa)][_0x41424e(0x25e)]='none',_0x4ec74c[_0x41424e(0x1e5)][_0x41424e(0x187)](_0x41424e(0xb9))&&(_0x4ec74c[_0x41424e(0x1e5)][_0x41424e(0x243)](_0x41424e(0xb9)),_0x558f40['innerHTML']=_0x41424e(0x10e),_0x558f40[_0x41424e(0x2bc)]=_0x41424e(0x2ea)));}),_0x558f40['addEventListener'](_0x5b9ca5(0x200),()=>{const _0x254e7d=_0x5b9ca5;_0x4ec74c['classList'][_0x254e7d(0x1ef)](_0x254e7d(0xb9)),_0x4ec74c[_0x254e7d(0x1e5)][_0x254e7d(0x187)]('fullscreen')?(_0x558f40[_0x254e7d(0x273)]='<span\x20class=\x22material-icons\x22>fullscreen_exit</span>',_0x558f40[_0x254e7d(0x2bc)]='Exit\x20Fullscreen'):(_0x558f40[_0x254e7d(0x273)]='<span\x20class=\x22material-icons\x22>fullscreen</span>',_0x558f40[_0x254e7d(0x2bc)]=_0x254e7d(0x2ea));}),_0x284ca2[_0x5b9ca5(0x27b)]('click',()=>{const _0x55ab22=_0x5b9ca5;linkShareModal['style']['display']=_0x55ab22(0x27f),linkUrlInput[_0x55ab22(0x197)]='',linkDisplayInput[_0x55ab22(0x197)]='',linkPreview[_0x55ab22(0x1e5)][_0x55ab22(0x31b)](_0x55ab22(0x331));}),document['addEventListener'](_0x5b9ca5(0x15a),_0x5e5f51=>{const _0xc63c0=_0x5b9ca5;_0x5e5f51[_0xc63c0(0xc2)]===_0xc63c0(0x1d6)&&(_0x3c9696[_0xc63c0(0x1e5)]['contains']('fullscreen')&&(_0x3c9696[_0xc63c0(0x1e5)][_0xc63c0(0x243)](_0xc63c0(0xb9)),_0x3a3d64[_0xc63c0(0x273)]='<span\x20class=\x22material-icons\x22>fullscreen</span>',_0x3a3d64[_0xc63c0(0x2bc)]=_0xc63c0(0x2ea)),_0x2b58a7[_0xc63c0(0x1e5)]['contains'](_0xc63c0(0xb9))&&(_0x2b58a7[_0xc63c0(0x1e5)][_0xc63c0(0x243)](_0xc63c0(0xb9)),_0x425d8a['innerHTML']='<span\x20class=\x22material-icons\x22>fullscreen</span>',_0x425d8a[_0xc63c0(0x2bc)]=_0xc63c0(0x2ea)),_0x247c19[_0xc63c0(0x1e5)][_0xc63c0(0x187)](_0xc63c0(0xb9))&&(_0x247c19[_0xc63c0(0x1e5)]['remove'](_0xc63c0(0xb9)),_0x5829dc[_0xc63c0(0x273)]=_0xc63c0(0x10e),_0x5829dc[_0xc63c0(0x2bc)]='Enter\x20Fullscreen'),_0x4ec74c[_0xc63c0(0x1e5)][_0xc63c0(0x187)](_0xc63c0(0xb9))&&(_0x4ec74c[_0xc63c0(0x1e5)][_0xc63c0(0x243)](_0xc63c0(0xb9)),_0x558f40[_0xc63c0(0x273)]='<span\x20class=\x22material-icons\x22>fullscreen</span>',_0x558f40[_0xc63c0(0x2bc)]=_0xc63c0(0x2ea)));});}async function initApp(){const _0x214676=_0x3efb;console[_0x214676(0x254)](_0x214676(0x18f));try{initializeUser(),addNameChangeFeature(),initializeSidebar(),initializeProfilePictures(),initializeAudioCall(),initializeFileUpload(),initializeGifSticker(),initializeEmojiPicker(),initializeLinkSharing(),initializeTextFormatting(),initializeGameModals(),initializeAdminPanel(),initializeAdblocker(),loadMessageReactions();const _0x31db9a=localStorage[_0x214676(0x2d3)](_0x214676(0x1c8));_0x31db9a&&applyWallpaper(_0x31db9a),wallpapers[_0x214676(0xd5)](_0x5c4f51=>{const _0x34f2df=_0x214676,_0x3c2920=document[_0x34f2df(0x1c7)]('div');_0x3c2920[_0x34f2df(0x1e5)]['add'](_0x34f2df(0x1cb));const _0x27c4e8=document['createElement']('div');_0x27c4e8[_0x34f2df(0x1e5)]['add'](_0x34f2df(0x170)),_0x27c4e8[_0x34f2df(0xfa)][_0x34f2df(0x275)]=_0x5c4f51[_0x34f2df(0x24b)];const _0x2395db=document[_0x34f2df(0x1c7)]('div');_0x2395db[_0x34f2df(0x1e5)][_0x34f2df(0x31b)]('wallpaper-label'),_0x2395db['textContent']=_0x5c4f51[_0x34f2df(0x2c5)],_0x27c4e8[_0x34f2df(0x27b)](_0x34f2df(0x200),()=>{const _0x4f12d2=_0x34f2df;applyWallpaper(_0x5c4f51[_0x4f12d2(0x24b)]),wallpaperModal[_0x4f12d2(0xfa)][_0x4f12d2(0x25e)]=_0x4f12d2(0x1f2),showSuccess(_0x4f12d2(0x1ae)+_0x5c4f51[_0x4f12d2(0x2c5)]+'!');}),_0x3c2920[_0x34f2df(0x30b)](_0x27c4e8),_0x3c2920[_0x34f2df(0x30b)](_0x2395db),wallpaperOptions[_0x34f2df(0x30b)](_0x3c2920);}),editWallpaperBtn[_0x214676(0x27b)](_0x214676(0x200),()=>{const _0x46a863=_0x214676;wallpaperModal[_0x46a863(0xfa)][_0x46a863(0x25e)]=_0x46a863(0x27f);}),wallpaperModal[_0x214676(0x27b)](_0x214676(0x200),_0x22a06c=>{const _0x270207=_0x214676;_0x22a06c[_0x270207(0x23a)]===wallpaperModal&&(wallpaperModal[_0x270207(0xfa)][_0x270207(0x25e)]=_0x270207(0x1f2));}),encryptionKeyModal[_0x214676(0x27b)](_0x214676(0x200),_0x3ec39a=>{const _0x36c002=_0x214676;_0x3ec39a[_0x36c002(0x23a)]===encryptionKeyModal&&(encryptionKeyModal[_0x36c002(0xfa)]['display']=_0x36c002(0x1f2));}),enterKeyModal[_0x214676(0x27b)](_0x214676(0x200),_0x210b29=>{const _0xa62a=_0x214676;_0x210b29[_0xa62a(0x23a)]===enterKeyModal&&(enterKeyModal[_0xa62a(0xfa)]['display']='none');}),callUserModal[_0x214676(0x27b)](_0x214676(0x200),_0x2e8edd=>{const _0x3920a5=_0x214676;_0x2e8edd[_0x3920a5(0x23a)]===callUserModal&&(callUserModal['style'][_0x3920a5(0x25e)]='none');}),microphonePermissionModal['addEventListener'](_0x214676(0x200),_0x3e42e1=>{const _0x6cf158=_0x214676;_0x3e42e1[_0x6cf158(0x23a)]===microphonePermissionModal&&(microphonePermissionModal[_0x6cf158(0xfa)]['display']=_0x6cf158(0x1f2));}),linkShareModal['addEventListener'](_0x214676(0x200),_0x2e0f60=>{const _0x3ef19e=_0x214676;_0x2e0f60[_0x3ef19e(0x23a)]===linkShareModal&&(linkShareModal[_0x3ef19e(0xfa)][_0x3ef19e(0x25e)]=_0x3ef19e(0x1f2));}),securityIndicator['addEventListener']('click',showCurrentKey),loadServerMessages(currentServer),await loadMessages(),setupMessageReadTracking(),startPolling(),console[_0x214676(0x254)](_0x214676(0x2ec)),showTemporaryStatus(_0x214676(0x25b));}catch(_0x17376e){console[_0x214676(0x2dc)](_0x214676(0xa0),_0x17376e),showError(_0x214676(0x159));}}function addNameChangeFeature(){const _0x48b398=_0x3efb,_0x3b3d77=document[_0x48b398(0x1fe)](_0x48b398(0xb6));_0x3b3d77[_0x48b398(0x27b)](_0x48b398(0x200),async function(){const _0x5f1b01=_0x48b398,_0x5b4df3=prompt('Enter\x20your\x20new\x20name:',userName)||userName,_0x7c5a04=_0x5b4df3['trim']();if(_0x7c5a04&&_0x7c5a04!==userName)try{const _0x45ba26=allMessages[_0x5f1b01(0x1e6)](_0x35a757=>_0x35a757[_0x5f1b01(0x2e8)]===userId);for(const _0x5ac8f0 of _0x45ba26){await serverFetch(currentServer,'messages?id=eq.'+_0x5ac8f0['id'],{'method':_0x5f1b01(0x210),'body':JSON[_0x5f1b01(0xe0)]({'user_name':_0x7c5a04})});}userName=_0x7c5a04,localStorage['setItem'](_0x5f1b01(0x328),userName),userDisplay[_0x5f1b01(0x1f0)]='You:\x20'+userName,updateAllMessagesWithUserName(),updateUserSection(),showSuccess('Name\x20updated\x20to\x20'+userName+'!');}catch(_0x511d9c){console[_0x5f1b01(0x2dc)](_0x5f1b01(0x1f5),_0x511d9c),showError(_0x5f1b01(0x163));}});}const ADMIN_PASSWORD=_0x1710b8(0x2c7),RANKS={'user':{'name':'User','color':_0x1710b8(0x257)},'moderator':{'name':_0x1710b8(0xbc),'color':_0x1710b8(0x2bb)},'admin':{'name':_0x1710b8(0x1c2),'color':'#e53e3e'},'owner':{'name':_0x1710b8(0xd7),'color':'#d69e2e'}};let userRanks={},isAdmin=![],selectedRank=_0x1710b8(0x20c);function initializeAdminPanel(){const _0x16eea4=_0x1710b8;console['log']('\x20Initializing\x20admin\x20panel...'),loadUserRanks();const _0x22b796=document[_0x16eea4(0x1fe)](_0x16eea4(0x2cb)),_0x22aa1e=document[_0x16eea4(0x1fe)]('admin-modal'),_0x1779b4=document['getElementById'](_0x16eea4(0x138)),_0x57b612=document['getElementById'](_0x16eea4(0x2e0)),_0x474611=document[_0x16eea4(0x1fe)](_0x16eea4(0x2a9)),_0x122944=document[_0x16eea4(0x1fe)](_0x16eea4(0x19f));_0x22b796['addEventListener']('click',()=>{const _0x5ac4b4=_0x16eea4;_0x22aa1e[_0x5ac4b4(0xfa)][_0x5ac4b4(0x25e)]='flex',document[_0x5ac4b4(0x1fe)](_0x5ac4b4(0xe4))[_0x5ac4b4(0x1e5)][_0x5ac4b4(0x243)](_0x5ac4b4(0x331)),document[_0x5ac4b4(0x1fe)]('admin-content')[_0x5ac4b4(0x1e5)][_0x5ac4b4(0x31b)](_0x5ac4b4(0x331)),_0x122944['value']='';}),_0x1779b4[_0x16eea4(0x27b)](_0x16eea4(0x200),authenticateAdmin),_0x57b612[_0x16eea4(0x27b)](_0x16eea4(0x200),()=>{const _0x5acc68=_0x16eea4;_0x22aa1e[_0x5acc68(0xfa)][_0x5acc68(0x25e)]='none';}),_0x474611[_0x16eea4(0x27b)](_0x16eea4(0x200),()=>{const _0xbc5dad=_0x16eea4;_0x22aa1e['style'][_0xbc5dad(0x25e)]=_0xbc5dad(0x1f2),isAdmin=![];}),_0x122944['addEventListener'](_0x16eea4(0x242),_0x3d94d9=>{const _0x54c63c=_0x16eea4;_0x3d94d9[_0x54c63c(0xc2)]===_0x54c63c(0x18b)&&authenticateAdmin();}),_0x22aa1e['addEventListener'](_0x16eea4(0x200),_0x422c00=>{const _0x5da4f3=_0x16eea4;_0x422c00['target']===_0x22aa1e&&(_0x22aa1e[_0x5da4f3(0xfa)][_0x5da4f3(0x25e)]='none',isAdmin=![]);}),initializeRankControls();}function authenticateAdmin(){const _0x46f028=_0x1710b8,_0x2f4eaa=document[_0x46f028(0x1fe)](_0x46f028(0x19f)),_0x20d786=_0x2f4eaa[_0x46f028(0x197)][_0x46f028(0x89)]();_0x20d786===ADMIN_PASSWORD?(isAdmin=!![],setUserRank(userId,_0x46f028(0xd3)),document[_0x46f028(0x1fe)](_0x46f028(0xe4))[_0x46f028(0x1e5)][_0x46f028(0x31b)](_0x46f028(0x331)),document[_0x46f028(0x1fe)]('admin-content')[_0x46f028(0x1e5)][_0x46f028(0x243)]('hidden'),populateAdminUserList(),showSuccess(_0x46f028(0x240))):(showError(_0x46f028(0x231)),_0x2f4eaa['value']='');}function initializeRankControls(){const _0x1ca7c0=_0x1710b8,_0xd13ad5=document[_0x1ca7c0(0x1fe)](_0x1ca7c0(0xad));_0xd13ad5[_0x1ca7c0(0x273)]='',Object['entries'](RANKS)['forEach'](([_0x5d2b5a,_0x332a3e])=>{const _0x55bcf5=_0x1ca7c0,_0x3562e2=document[_0x55bcf5(0x1c7)](_0x55bcf5(0x2de));_0x3562e2['classList'][_0x55bcf5(0x31b)](_0x55bcf5(0x258)),_0x3562e2[_0x55bcf5(0xd4)](_0x55bcf5(0x1b5),_0x5d2b5a);const _0x379982=document['createElement']('div');_0x379982['classList']['add'](_0x55bcf5(0x327)),_0x379982[_0x55bcf5(0xfa)][_0x55bcf5(0x158)]=_0x332a3e['color'];const _0x224056=document[_0x55bcf5(0x1c7)](_0x55bcf5(0x2de));_0x224056[_0x55bcf5(0x1e5)][_0x55bcf5(0x31b)](_0x55bcf5(0x14c)),_0x224056[_0x55bcf5(0x1f0)]=_0x332a3e[_0x55bcf5(0x2c5)],_0x3562e2[_0x55bcf5(0x30b)](_0x379982),_0x3562e2[_0x55bcf5(0x30b)](_0x224056),_0x3562e2[_0x55bcf5(0x27b)](_0x55bcf5(0x200),()=>{const _0x57f89f=_0x55bcf5;selectedRank=_0x5d2b5a,document[_0x57f89f(0x23b)](_0x57f89f(0x1ea))[_0x57f89f(0xd5)](_0x629c6b=>{const _0x229330=_0x57f89f;_0x629c6b[_0x229330(0x1e5)]['remove'](_0x229330(0x189));}),_0x3562e2[_0x57f89f(0x1e5)][_0x57f89f(0x31b)](_0x57f89f(0x189));}),_0xd13ad5[_0x55bcf5(0x30b)](_0x3562e2);}),document[_0x1ca7c0(0x30e)](_0x1ca7c0(0x278))['classList']['add'](_0x1ca7c0(0x189));}function populateAdminUserList(){const _0x3bb412=_0x1710b8,_0x4ad9a7=document[_0x3bb412(0x1fe)](_0x3bb412(0x17c));_0x4ad9a7[_0x3bb412(0x273)]='';const _0x207934=getUniqueUsersFromMessages();if(_0x207934[_0x3bb412(0x212)]===0x0){const _0x2b45d8=document[_0x3bb412(0x1c7)](_0x3bb412(0x2de));_0x2b45d8[_0x3bb412(0x1f0)]=_0x3bb412(0x269),_0x2b45d8[_0x3bb412(0xfa)][_0x3bb412(0x2c1)]=_0x3bb412(0x17a),_0x2b45d8[_0x3bb412(0xfa)][_0x3bb412(0x86)]=_0x3bb412(0x2e1),_0x2b45d8[_0x3bb412(0xfa)][_0x3bb412(0x9c)]=_0x3bb412(0x296),_0x4ad9a7[_0x3bb412(0x30b)](_0x2b45d8);return;}_0x207934[_0x3bb412(0xd5)](_0x1f4fc0=>{const _0xc3741d=_0x3bb412,_0x24f75d=document[_0xc3741d(0x1c7)](_0xc3741d(0x2de));_0x24f75d[_0xc3741d(0x1e5)][_0xc3741d(0x31b)](_0xc3741d(0x2c8));const _0x5238a2=document['createElement'](_0xc3741d(0x2de));_0x5238a2[_0xc3741d(0x1e5)][_0xc3741d(0x31b)]('admin-user-info');const _0x2ebc70=document[_0xc3741d(0x1c7)]('img');_0x2ebc70[_0xc3741d(0x1e5)][_0xc3741d(0x31b)](_0xc3741d(0x10c)),_0x2ebc70['src']=_0x1f4fc0['avatar'],_0x2ebc70[_0xc3741d(0x265)]=_0x1f4fc0[_0xc3741d(0x2c5)]+'\x27s\x20avatar';const _0x2d1f66=document[_0xc3741d(0x1c7)](_0xc3741d(0x2de));_0x2d1f66[_0xc3741d(0x1e5)]['add'](_0xc3741d(0x1e4));const _0x592b7b=document['createElement'](_0xc3741d(0x2de));_0x592b7b[_0xc3741d(0x1e5)]['add'](_0xc3741d(0x21d)),_0x592b7b[_0xc3741d(0x1f0)]=_0x1f4fc0[_0xc3741d(0x2c5)];const _0x41d5e8=document[_0xc3741d(0x1c7)](_0xc3741d(0x2de));_0x41d5e8[_0xc3741d(0x1e5)][_0xc3741d(0x31b)]('admin-user-rank');const _0x4ac50b=getUserRank(_0x1f4fc0['id']);_0x41d5e8['textContent']=_0x4ac50b['name'],_0x41d5e8[_0xc3741d(0xfa)][_0xc3741d(0x158)]=_0x4ac50b[_0xc3741d(0x9c)],_0x41d5e8[_0xc3741d(0xfa)]['color']=_0xc3741d(0x153),_0x2d1f66[_0xc3741d(0x30b)](_0x592b7b),_0x2d1f66[_0xc3741d(0x30b)](_0x41d5e8),_0x5238a2['appendChild'](_0x2ebc70),_0x5238a2[_0xc3741d(0x30b)](_0x2d1f66);const _0x2da21f=document[_0xc3741d(0x1c7)]('div');_0x2da21f[_0xc3741d(0x1e5)][_0xc3741d(0x31b)](_0xc3741d(0xd9));if(_0x1f4fc0['id']!==userId){const _0x11d57c=document[_0xc3741d(0x1c7)](_0xc3741d(0x12d));_0x11d57c[_0xc3741d(0x1e5)][_0xc3741d(0x31b)]('admin-btn','delete'),_0x11d57c['textContent']=_0xc3741d(0x9f),_0x11d57c['addEventListener'](_0xc3741d(0x200),()=>{const _0x3ef04c=_0xc3741d;deleteUser(_0x1f4fc0['id'],_0x1f4fc0[_0x3ef04c(0x2c5)]);}),_0x2da21f[_0xc3741d(0x30b)](_0x11d57c);}const _0x11e79e=document[_0xc3741d(0x1c7)]('button');_0x11e79e['classList'][_0xc3741d(0x31b)](_0xc3741d(0x198),'promote'),_0x11e79e[_0xc3741d(0x1f0)]=_0xc3741d(0xe9),_0x11e79e[_0xc3741d(0x27b)]('click',()=>{setUserRank(_0x1f4fc0['id'],selectedRank),populateAdminUserList();}),_0x2da21f[_0xc3741d(0x30b)](_0x11e79e);if(getUserRank(_0x1f4fc0['id'])[_0xc3741d(0xc2)]!==_0xc3741d(0xd3)&&getUserRank(_0x1f4fc0['id'])[_0xc3741d(0xc2)]!==_0xc3741d(0xf3)){const _0x5a23b=document[_0xc3741d(0x1c7)]('button');_0x5a23b[_0xc3741d(0x1e5)]['add'](_0xc3741d(0x198),'promote'),_0x5a23b[_0xc3741d(0x1f0)]='Make\x20Admin',_0x5a23b['addEventListener']('click',()=>{const _0x42d1b2=_0xc3741d;setUserRank(_0x1f4fc0['id'],_0x42d1b2(0xd3)),populateAdminUserList();}),_0x2da21f[_0xc3741d(0x30b)](_0x5a23b);}_0x24f75d[_0xc3741d(0x30b)](_0x5238a2),_0x24f75d['appendChild'](_0x2da21f),_0x4ad9a7['appendChild'](_0x24f75d);});}function getUserRank(_0x93b07b){const _0x1562ab=_0x1710b8,_0x1b8c47=userRanks[_0x93b07b]||_0x1562ab(0x20c);return{'key':_0x1b8c47,'name':RANKS[_0x1b8c47][_0x1562ab(0x2c5)],'color':RANKS[_0x1b8c47]['color']};}function setUserRank(_0x5959a3,_0x30a985){const _0x1a709f=_0x1710b8;userRanks[_0x5959a3]=_0x30a985,saveUserRanks(),updateUserRankInSidebar(_0x5959a3),showSuccess(_0x1a709f(0x130));}function deleteUser(_0x3e7f0c,_0x2cd64b){const _0x31d699=_0x1710b8;if(!confirm(_0x31d699(0x1a9)+_0x2cd64b+_0x31d699(0xda)))return;allMessages=allMessages[_0x31d699(0x1e6)](_0x5ca23c=>_0x5ca23c[_0x31d699(0x2e8)]!==_0x3e7f0c),document[_0x31d699(0x23b)](_0x31d699(0x2b2)+_0x3e7f0c+'\x22]')['forEach'](_0xbed077=>{const _0x1f03f4=_0x31d699;_0xbed077[_0x1f03f4(0x243)]();}),updateDMList(),showSuccess(_0x31d699(0x1c5)+_0x2cd64b+'\x22\x20has\x20been\x20deleted'),populateAdminUserList();}function updateUserRankInSidebar(_0x4dc7b3){const _0x50f47c=_0x1710b8,_0x131084=document[_0x50f47c(0x23b)]('.dm-item[data-user-id=\x22'+_0x4dc7b3+'\x22]');_0x131084[_0x50f47c(0xd5)](_0xa1e8f9=>{const _0x55a4a3=_0x50f47c,_0x165eea=_0xa1e8f9['querySelector'](_0x55a4a3(0xf8));if(_0x165eea){const _0x26602f=getUserRank(_0x4dc7b3);_0x165eea[_0x55a4a3(0x1f0)]=_0x26602f[_0x55a4a3(0x2c5)],_0x165eea[_0x55a4a3(0xfa)][_0x55a4a3(0x9c)]=_0x26602f[_0x55a4a3(0x9c)];}});}function loadUserRanks(){const _0x545c2f=_0x1710b8,_0x48d467=localStorage['getItem'](_0x545c2f(0x139));if(_0x48d467)try{userRanks=JSON[_0x545c2f(0x279)](_0x48d467);}catch(_0x8819da){console[_0x545c2f(0x2dc)](_0x545c2f(0x249),_0x8819da),userRanks={};}else userRanks={};}function saveUserRanks(){const _0x23633c=_0x1710b8;localStorage[_0x23633c(0x2a6)](_0x23633c(0x139),JSON[_0x23633c(0xe0)](userRanks));}async function renderMessage(_0x77fa32,_0x466982,_0x5a20c6,_0x239672=null,_0x459472=null,_0x24ca32=null,_0x55514d=!![],_0x3d9a30=null){const _0x2c9404=_0x1710b8;if(_0x459472&&document['querySelector'](_0x2c9404(0x304)+_0x459472+'\x22]')){console[_0x2c9404(0x254)]('\x20Message\x20already\x20rendered,\x20skipping:',_0x459472);return;}if(loadingDiv&&loadingDiv[_0x2c9404(0xed)])loadingDiv[_0x2c9404(0x243)]();_0x459472&&_0x459472>lastMessageId&&(lastMessageId=_0x459472);_0x239672&&addDateSeparatorIfNeeded(_0x239672);const _0xc8cde=_0x3d9a30?.[_0x2c9404(0xb1)]||'text',_0x756035=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x756035['classList'][_0x2c9404(0x31b)](_0x2c9404(0x20e)),_0x756035[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x466982===userId?_0x2c9404(0x85):_0x2c9404(0x2d0));if(_0x459472)_0x756035[_0x2c9404(0xd4)](_0x2c9404(0x1fc),_0x459472);const _0x29c090=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x29c090[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x1d2));const _0x4fdc41=document[_0x2c9404(0x1c7)](_0x2c9404(0x1f7));_0x4fdc41[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0xdf));_0x466982===userId?_0x4fdc41[_0x2c9404(0x12b)]=userProfilePicture:_0x4fdc41[_0x2c9404(0x12b)]=generateAvatar(_0x5a20c6);_0x4fdc41[_0x2c9404(0x265)]=_0x5a20c6+_0x2c9404(0x1d3);const _0x848aed=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x848aed[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x2be));const _0x261ba9=document['createElement'](_0x2c9404(0x2de));_0x261ba9[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x14f));const _0x18dd79=_0x466982===userId?_0x2c9404(0x1d5):_0x5a20c6,_0x9911aa=_0x24ca32?formatTime(_0x24ca32):formatTime(_0x239672),_0x148a5e=_0x24ca32?_0x2c9404(0xd8):'',_0x4baad0=getUserRank(_0x466982);let _0x3a0db3='';_0x4baad0[_0x2c9404(0xc2)]!=='user'&&(_0x3a0db3='\x20<span\x20style=\x22color:\x20'+_0x4baad0['color']+_0x2c9404(0x232)+_0x4baad0[_0x2c9404(0x2c5)]+']</span>');_0x261ba9[_0x2c9404(0x273)]=''+_0x18dd79+_0x3a0db3+_0x2c9404(0x2a4)+_0x9911aa+_0x148a5e;const _0x4b4300=document[_0x2c9404(0x1c7)]('div');_0x4b4300[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x1bb)),_0x4b4300[_0x2c9404(0x1e5)]['add'](_0x466982===userId?_0x2c9404(0x85):_0x2c9404(0x2d0));_0x4baad0[_0x2c9404(0xc2)]!=='user'&&(_0x466982===userId?(_0x4b4300[_0x2c9404(0xfa)][_0x2c9404(0x158)]=_0x4baad0[_0x2c9404(0x9c)],_0x4b4300['style'][_0x2c9404(0x9c)]=_0x2c9404(0x153),_0x4b4300[_0x2c9404(0x23b)]('a')['forEach'](_0x4790c3=>{const _0x3ca70e=_0x2c9404;_0x4790c3[_0x3ca70e(0xfa)][_0x3ca70e(0x9c)]='white',_0x4790c3[_0x3ca70e(0xfa)][_0x3ca70e(0x32b)]=_0x3ca70e(0x236);})):(_0x4b4300[_0x2c9404(0xfa)][_0x2c9404(0x16f)]=_0x2c9404(0xbf)+_0x4baad0[_0x2c9404(0x9c)],_0x4b4300[_0x2c9404(0xfa)][_0x2c9404(0x158)]='#e2e8f0',_0x4b4300[_0x2c9404(0xfa)][_0x2c9404(0x9c)]='#2d3748'));if(_0xc8cde===_0x2c9404(0xfc)){const _0x5987c2=parseMarkdown(_0x77fa32),_0x1936db=parseAndRenderLinks(_0x5987c2);_0x4b4300['innerHTML']=_0x1936db;}else{if(_0xc8cde===_0x2c9404(0x2b9)){if(_0x3d9a30[_0x2c9404(0xfc)]){const _0x278c14=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x278c14['innerHTML']=parseMarkdown(_0x3d9a30[_0x2c9404(0xfc)]),_0x278c14['style'][_0x2c9404(0x135)]=_0x2c9404(0x1e9),_0x4b4300[_0x2c9404(0x30b)](_0x278c14);}const _0x5ab15b=document['createElement']('div');_0x5ab15b[_0x2c9404(0x1e5)]['add'](_0x2c9404(0xee));const _0x566a6d=_0x3d9a30['fileType']['split']('/')[0x0];if(_0x566a6d===_0x2c9404(0x22d)){const _0x1f62ac=document[_0x2c9404(0x1c7)](_0x2c9404(0x1f7));_0x1f62ac['src']=_0x3d9a30[_0x2c9404(0x2ff)],_0x1f62ac['alt']=_0x3d9a30[_0x2c9404(0x1be)],_0x1f62ac['onload']=function(){const _0x438e0a=_0x2c9404;console[_0x438e0a(0x254)](_0x438e0a(0x306),_0x3d9a30[_0x438e0a(0x2ff)]);},_0x1f62ac[_0x2c9404(0x196)]=function(){const _0x192b11=_0x2c9404;console[_0x192b11(0x2dc)](_0x192b11(0x1f3),_0x3d9a30[_0x192b11(0x2ff)]),_0x1f62ac['alt']='Failed\x20to\x20load\x20image',_0x1f62ac[_0x192b11(0xfa)][_0x192b11(0x158)]=_0x192b11(0x151),_0x1f62ac[_0x192b11(0xfa)][_0x192b11(0x86)]=_0x192b11(0x2e1),_0x1f62ac[_0x192b11(0xfa)][_0x192b11(0x2c1)]=_0x192b11(0x17a);},_0x5ab15b[_0x2c9404(0x30b)](_0x1f62ac);}else{if(_0x566a6d===_0x2c9404(0x1a6)){const _0x4b6ad7=document['createElement']('video');_0x4b6ad7[_0x2c9404(0x12b)]=_0x3d9a30['fileUrl'],_0x4b6ad7[_0x2c9404(0x1d7)]=!![],_0x4b6ad7[_0x2c9404(0x1d9)]=function(){const _0x5075cc=_0x2c9404;console[_0x5075cc(0x254)]('\x20Video\x20loaded\x20successfully:',_0x3d9a30[_0x5075cc(0x2ff)]);},_0x4b6ad7[_0x2c9404(0x196)]=function(){const _0x33ce42=_0x2c9404;console[_0x33ce42(0x2dc)](_0x33ce42(0xfb),_0x3d9a30[_0x33ce42(0x2ff)]);},_0x5ab15b['appendChild'](_0x4b6ad7);}else{const _0x79a0de=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x79a0de[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x174));const _0x9c72a5=document[_0x2c9404(0x1c7)](_0x2c9404(0x23c));_0x9c72a5[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x109),_0x2c9404(0x105)),_0x9c72a5[_0x2c9404(0x1f0)]=_0x2c9404(0x116);const _0x2e499b=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x2e499b[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x32c));const _0x3477d7=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x3477d7['classList'][_0x2c9404(0x31b)](_0x2c9404(0x1c9)),_0x3477d7[_0x2c9404(0x1f0)]=_0x3d9a30[_0x2c9404(0x1be)];const _0x34beac=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x34beac[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0x134)),_0x34beac[_0x2c9404(0x1f0)]=formatFileSize(_0x3d9a30[_0x2c9404(0x2d6)]),_0x2e499b['appendChild'](_0x3477d7),_0x2e499b[_0x2c9404(0x30b)](_0x34beac),_0x79a0de['appendChild'](_0x9c72a5),_0x79a0de[_0x2c9404(0x30b)](_0x2e499b);const _0x305d62=document[_0x2c9404(0x1c7)]('button');_0x305d62['classList'][_0x2c9404(0x31b)](_0x2c9404(0x325)),_0x305d62[_0x2c9404(0x273)]=_0x2c9404(0x112),_0x305d62[_0x2c9404(0x2bc)]='Download\x20file',_0x305d62['addEventListener'](_0x2c9404(0x200),_0x4af0f5=>{const _0x3e2ab8=_0x2c9404;_0x4af0f5[_0x3e2ab8(0x11d)](),downloadFile(_0x3d9a30['fileUrl'],_0x3d9a30['fileName']);}),_0x79a0de[_0x2c9404(0x30b)](_0x305d62),_0x5ab15b[_0x2c9404(0x30b)](_0x79a0de);}}_0x4b4300['appendChild'](_0x5ab15b);}else{if(_0xc8cde===_0x2c9404(0x238)){if(_0x3d9a30[_0x2c9404(0xfc)]){const _0x490ec1=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x490ec1['innerHTML']=parseMarkdown(_0x3d9a30['text']),_0x490ec1[_0x2c9404(0xfa)][_0x2c9404(0x135)]=_0x2c9404(0x1e9),_0x4b4300[_0x2c9404(0x30b)](_0x490ec1);}const _0x4920a6=document[_0x2c9404(0x1c7)]('div');_0x4920a6[_0x2c9404(0x1e5)]['add'](_0x2c9404(0xee));const _0xee1874=document['createElement'](_0x2c9404(0x1f7));_0xee1874['src']=_0x3d9a30['gifUrl'],_0xee1874[_0x2c9404(0x265)]=_0x2c9404(0x309),_0xee1874[_0x2c9404(0xfa)][_0x2c9404(0x74)]=_0x2c9404(0x276),_0xee1874['style'][_0x2c9404(0x1d1)]=_0x2c9404(0x1e9),_0xee1874[_0x2c9404(0xb5)]=function(){const _0xa485cc=_0x2c9404;console[_0xa485cc(0x254)]('\x20GIF\x20loaded\x20successfully:',_0x3d9a30[_0xa485cc(0x2e4)]);},_0xee1874[_0x2c9404(0x196)]=function(){const _0x2f5ed1=_0x2c9404;console[_0x2f5ed1(0x2dc)]('\x20Failed\x20to\x20load\x20GIF:',_0x3d9a30[_0x2f5ed1(0x2e4)]);},_0x4920a6[_0x2c9404(0x30b)](_0xee1874),_0x4b4300[_0x2c9404(0x30b)](_0x4920a6);}else{if(_0xc8cde===_0x2c9404(0x28d)){if(_0x3d9a30[_0x2c9404(0xfc)]){const _0x42c4b7=document[_0x2c9404(0x1c7)](_0x2c9404(0x2de));_0x42c4b7[_0x2c9404(0x273)]=parseMarkdown(_0x3d9a30[_0x2c9404(0xfc)]),_0x42c4b7['style'][_0x2c9404(0x135)]=_0x2c9404(0x1e9),_0x4b4300[_0x2c9404(0x30b)](_0x42c4b7);}const _0xe75e72=document[_0x2c9404(0x1c7)]('div');_0xe75e72[_0x2c9404(0x1e5)][_0x2c9404(0x31b)](_0x2c9404(0xee));const _0x1fdca2=document[_0x2c9404(0x1c7)](_0x2c9404(0x1f7));_0x1fdca2[_0x2c9404(0x12b)]=_0x3d9a30[_0x2c9404(0x185)],_0x1fdca2[_0x2c9404(0x265)]='Sticker',_0x1fdca2[_0x2c9404(0xfa)]['maxWidth']=_0x2c9404(0x29d),_0x1fdca2[_0x2c9404(0xfa)][_0x2c9404(0x1d1)]=_0x2c9404(0x1e9),_0x1fdca2['onload']=function(){const _0x14ee4c=_0x2c9404;console['log'](_0x14ee4c(0x233),_0x3d9a30['stickerUrl']);},_0x1fdca2[_0x2c9404(0x196)]=function(){const _0xc93209=_0x2c9404;console[_0xc93209(0x2dc)](_0xc93209(0x230),_0x3d9a30[_0xc93209(0x185)]);},_0xe75e72['appendChild'](_0x1fdca2),_0x4b4300[_0x2c9404(0x30b)](_0xe75e72);}}}}const _0x2ef33a=document[_0x2c9404(0x1c7)]('div');_0x2ef33a[_0x2c9404(0x20f)]=_0x2c9404(0xb7),_0x466982===userId?_0x2ef33a[_0x2c9404(0x273)]=_0x2c9404(0x171):isAdmin?_0x2ef33a[_0x2c9404(0x273)]=_0x2c9404(0x129):_0x2ef33a[_0x2c9404(0x273)]='\x20<button\x20class=\x22message-dropdown-item\x20reaction\x22\x20data-action=\x22react\x22><span\x20class=\x22material-icons\x22>add_reaction</span>\x20React\x20</button>\x20',_0x2ef33a[_0x2c9404(0x23b)](_0x2c9404(0x288))[_0x2c9404(0xd5)](_0x136e69=>{const _0x2a67c5=_0x2c9404;_0x136e69[_0x2a67c5(0x27b)](_0x2a67c5(0x200),_0x17e0eb=>{const _0x5f22d=_0x2a67c5;_0x17e0eb[_0x5f22d(0x11d)]();const _0x5c8f54=_0x136e69[_0x5f22d(0x239)](_0x5f22d(0x264));handleMessageAction(_0x5c8f54,_0x459472,_0x77fa32,_0x466982);});}),_0x756035['appendChild'](_0x2ef33a),_0x466982===userId?(_0x848aed[_0x2c9404(0x30b)](_0x261ba9),_0x848aed[_0x2c9404(0x30b)](_0x4b4300),_0x29c090['appendChild'](_0x848aed),_0x29c090[_0x2c9404(0x30b)](_0x4fdc41)):(_0x29c090[_0x2c9404(0x30b)](_0x4fdc41),_0x848aed[_0x2c9404(0x30b)](_0x261ba9),_0x848aed[_0x2c9404(0x30b)](_0x4b4300),_0x29c090[_0x2c9404(0x30b)](_0x848aed)),_0x756035[_0x2c9404(0x30b)](_0x29c090),messageReactions[_0x459472]&&updateMessageReactions(_0x459472),messagesDiv[_0x2c9404(0x30b)](_0x756035),_0x55514d&&scrollToBottom();}function handleMessageAction(_0xc9303b,_0x10ff4e,_0x456327,_0x13c10e){const _0x3b81fc=_0x1710b8;switch(_0xc9303b){case _0x3b81fc(0xa6):showEmojiPicker(_0x10ff4e);break;case _0x3b81fc(0xce):startEditingMessage(_0x10ff4e,_0x456327);break;case _0x3b81fc(0x1e2):_0x13c10e===userId||isAdmin?deleteMessage(_0x10ff4e):showError(_0x3b81fc(0x283));break;}}function updateDMList(){const _0x1d9d97=_0x1710b8,_0x3ec3f8=getUniqueUsersFromMessages(),_0x40711f=_0x3ec3f8[_0x1d9d97(0x1e6)](_0x4c4d9e=>_0x4c4d9e['id']!==userId);dmList[_0x1d9d97(0x273)]='';if(_0x40711f[_0x1d9d97(0x212)]===0x0){const _0x44f9a9=document[_0x1d9d97(0x1c7)]('div');_0x44f9a9[_0x1d9d97(0x1f0)]=_0x1d9d97(0xb2),_0x44f9a9['style'][_0x1d9d97(0x2c1)]=_0x1d9d97(0x17a),_0x44f9a9[_0x1d9d97(0xfa)][_0x1d9d97(0x86)]=_0x1d9d97(0x2e1),_0x44f9a9[_0x1d9d97(0xfa)]['color']=_0x1d9d97(0x296),dmList[_0x1d9d97(0x30b)](_0x44f9a9);}else _0x40711f[_0x1d9d97(0xd5)](_0x3f259b=>{const _0x3bddc5=_0x1d9d97,_0x205341=document['createElement'](_0x3bddc5(0x2de));_0x205341[_0x3bddc5(0x1e5)][_0x3bddc5(0x31b)](_0x3bddc5(0x1a1));currentDM&&currentDM['id']===_0x3f259b['id']&&_0x205341[_0x3bddc5(0x1e5)][_0x3bddc5(0x31b)](_0x3bddc5(0x329));_0x205341[_0x3bddc5(0xd4)](_0x3bddc5(0x8d),_0x3f259b['id']);const _0x5e1a12=document[_0x3bddc5(0x1c7)](_0x3bddc5(0x2de));_0x5e1a12[_0x3bddc5(0x1e5)][_0x3bddc5(0x31b)](_0x3bddc5(0x108));const _0x35c8e2=document[_0x3bddc5(0x1c7)](_0x3bddc5(0x1f7));_0x35c8e2[_0x3bddc5(0x12b)]=_0x3f259b[_0x3bddc5(0x148)],_0x35c8e2[_0x3bddc5(0x265)]=_0x3f259b[_0x3bddc5(0x2c5)]+_0x3bddc5(0x32f),_0x5e1a12[_0x3bddc5(0x30b)](_0x35c8e2);const _0x4ecc26=document[_0x3bddc5(0x1c7)](_0x3bddc5(0x2de));_0x4ecc26[_0x3bddc5(0x1e5)][_0x3bddc5(0x31b)](_0x3bddc5(0xb3));const _0x4ea5fe=document[_0x3bddc5(0x1c7)](_0x3bddc5(0x2de));_0x4ea5fe['classList'][_0x3bddc5(0x31b)]('dm-name'),_0x4ea5fe[_0x3bddc5(0x1f0)]=_0x3f259b[_0x3bddc5(0x2c5)];const _0x52c064=document[_0x3bddc5(0x1c7)](_0x3bddc5(0x2de));_0x52c064[_0x3bddc5(0x1e5)]['add'](_0x3bddc5(0x2c2));onlineUsers['has'](_0x3f259b['id'])?(_0x52c064[_0x3bddc5(0x1e5)][_0x3bddc5(0x31b)](_0x3bddc5(0x234)),_0x52c064[_0x3bddc5(0x1f0)]=_0x3bddc5(0x1e8)):(_0x52c064[_0x3bddc5(0x1e5)]['add'](_0x3bddc5(0x310)),_0x52c064[_0x3bddc5(0x1f0)]=_0x3bddc5(0x184));const _0x13177c=getUserRank(_0x3f259b['id']);if(_0x13177c[_0x3bddc5(0xc2)]!==_0x3bddc5(0x20c)){const _0x2d7fa5=document[_0x3bddc5(0x1c7)](_0x3bddc5(0x2de));_0x2d7fa5[_0x3bddc5(0x1e5)][_0x3bddc5(0x31b)](_0x3bddc5(0x2c9)),_0x2d7fa5['textContent']=_0x2d7fa5[_0x3bddc5(0x2c5)],_0x2d7fa5[_0x3bddc5(0xfa)][_0x3bddc5(0x9c)]=_0x2d7fa5['color'],_0x2d7fa5[_0x3bddc5(0xfa)][_0x3bddc5(0x2e9)]=_0x3bddc5(0x223),_0x2d7fa5[_0x3bddc5(0xfa)]['fontWeight']=_0x3bddc5(0x2df),_0x4ecc26[_0x3bddc5(0x30b)](_0x2d7fa5);}_0x4ecc26['appendChild'](_0x4ea5fe),_0x4ecc26[_0x3bddc5(0x30b)](_0x52c064),_0x205341[_0x3bddc5(0x30b)](_0x5e1a12),_0x205341[_0x3bddc5(0x30b)](_0x4ecc26),_0x205341[_0x3bddc5(0x27b)]('click',()=>{const _0x2a24df=_0x3bddc5;currentServer===_0x2a24df(0xf6)&&selectDM(_0x3f259b);}),dmList['appendChild'](_0x205341);});}class RealEncryption{constructor(){const _0x44f5ba=_0x1710b8;this[_0x44f5ba(0x27a)]='AES-GCM',this[_0x44f5ba(0x29a)]=0x100,this['ivLength']=0xc;}async[_0x1710b8(0x14b)](){const _0x4d62e3=_0x1710b8;try{const _0x365b15=await crypto[_0x4d62e3(0x2b8)][_0x4d62e3(0x14b)]({'name':this[_0x4d62e3(0x27a)],'length':this[_0x4d62e3(0x29a)]},!![],[_0x4d62e3(0x101),_0x4d62e3(0x204)]),_0x4fab34=await crypto['subtle']['exportKey'](_0x4d62e3(0x24f),_0x365b15),_0x390e87=new Uint8Array(_0x4fab34);return Array[_0x4d62e3(0x1cf)](_0x390e87)['map'](_0x39e55f=>_0x39e55f[_0x4d62e3(0x330)](0x10)[_0x4d62e3(0x17b)](0x2,'0'))[_0x4d62e3(0x19a)]('');}catch(_0x393c02){console[_0x4d62e3(0x2dc)](_0x4d62e3(0x2bd),_0x393c02);throw _0x393c02;}}async[_0x1710b8(0x337)](_0x11dd4b){const _0x52a697=_0x1710b8;try{const _0x268aa5=new Uint8Array(_0x11dd4b['match'](/.{1,2}/g)[_0x52a697(0x314)](_0x4c195e=>parseInt(_0x4c195e,0x10)));return await crypto[_0x52a697(0x2b8)][_0x52a697(0x337)]('raw',_0x268aa5,{'name':this[_0x52a697(0x27a)],'length':this[_0x52a697(0x29a)]},!![],['encrypt',_0x52a697(0x204)]);}catch(_0x53abc3){console['error'](_0x52a697(0x79),_0x53abc3);throw _0x53abc3;}}async['encrypt'](_0x6f5846,_0x41e71a){const _0x4c8026=_0x1710b8;try{const _0x5951bd=await this[_0x4c8026(0x337)](_0x41e71a),_0x5d2509=crypto[_0x4c8026(0x217)](new Uint8Array(this[_0x4c8026(0x1de)])),_0x4f054d=new TextEncoder(),_0x36405e=_0x4f054d[_0x4c8026(0x2a7)](_0x6f5846),_0x1be099=await crypto[_0x4c8026(0x2b8)][_0x4c8026(0x101)]({'name':this[_0x4c8026(0x27a)],'iv':_0x5d2509},_0x5951bd,_0x36405e),_0x6b2c2b=new Uint8Array(_0x5d2509[_0x4c8026(0x212)]+_0x1be099['byteLength']);return _0x6b2c2b['set'](_0x5d2509,0x0),_0x6b2c2b[_0x4c8026(0x2af)](new Uint8Array(_0x1be099),_0x5d2509[_0x4c8026(0x212)]),btoa(String[_0x4c8026(0x1dd)](..._0x6b2c2b));}catch(_0x5abbb0){console[_0x4c8026(0x2dc)](_0x4c8026(0x21e),_0x5abbb0);throw _0x5abbb0;}}async[_0x1710b8(0x204)](_0x443f0e,_0x377d81){const _0x5a3fa5=_0x1710b8;try{const _0x5ac0c0=await this['importKey'](_0x377d81),_0x1a300a=new Uint8Array(atob(_0x443f0e)[_0x5a3fa5(0x312)]('')['map'](_0x1273cf=>_0x1273cf[_0x5a3fa5(0x224)](0x0))),_0xe6780d=_0x1a300a[_0x5a3fa5(0x2f7)](0x0,this[_0x5a3fa5(0x1de)]),_0x1f1e55=_0x1a300a[_0x5a3fa5(0x2f7)](this[_0x5a3fa5(0x1de)]),_0x43631b=await crypto['subtle'][_0x5a3fa5(0x204)]({'name':this[_0x5a3fa5(0x27a)],'iv':_0xe6780d},_0x5ac0c0,_0x1f1e55),_0x599919=new TextDecoder();return _0x599919[_0x5a3fa5(0xcd)](_0x43631b);}catch(_0x4ade7b){console[_0x5a3fa5(0x2dc)](_0x5a3fa5(0x82),_0x4ade7b);throw _0x4ade7b;}}[_0x1710b8(0xc8)](){const _0x206e80=_0x1710b8,_0x4ffe31='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?';let _0x4b0865='';const _0xe1554f=new Uint32Array(0x40);crypto[_0x206e80(0x217)](_0xe1554f);for(let _0x59d994=0x0;_0x59d994<0x40;_0x59d994++){_0x4b0865+=_0x4ffe31[_0x206e80(0x21a)](_0xe1554f[_0x59d994]%_0x4ffe31[_0x206e80(0x212)]);}return _0x4b0865;}}const encryption=new RealEncryption(),supabaseUrl=_0x1710b8(0xb0),supabaseKey=_0x1710b8(0x1a3),serverConfigs={'home':{'url':_0x1710b8(0xb0),'key':_0x1710b8(0x1a3)}},GIPHY_API_KEY=_0x1710b8(0x2b5),GIPHY_BASE_URL=_0x1710b8(0x11b),messagesDiv=document[_0x1710b8(0x1fe)](_0x1710b8(0x29c)),form=document['getElementById'](_0x1710b8(0x2ad)),input=document[_0x1710b8(0x1fe)]('message-input'),sendButton=document['getElementById'](_0x1710b8(0x307)),loadingDiv=document['getElementById'](_0x1710b8(0xe3)),userDisplay=document['getElementById'](_0x1710b8(0x2fe)),statusDiv=document[_0x1710b8(0x1fe)]('status'),errorMessage=document['getElementById']('error-message'),successMessage=document[_0x1710b8(0x1fe)](_0x1710b8(0x15f)),editWallpaperBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x132)),wallpaperModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x255)),wallpaperOptions=document[_0x1710b8(0x1fe)]('wallpaper-options'),encryptionKeyModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x299)),encryptionKeyDisplay=document[_0x1710b8(0x1fe)](_0x1710b8(0x11a)),copyKeyBtn=document[_0x1710b8(0x1fe)]('copy-key-btn'),confirmKeyBtn=document[_0x1710b8(0x1fe)]('confirm-key-btn'),enterKeyBtn=document[_0x1710b8(0x1fe)]('enter-key-btn'),enterKeyModal=document['getElementById'](_0x1710b8(0x168)),encryptionKeyInput=document[_0x1710b8(0x1fe)]('encryption-key-input'),cancelKeyBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x245)),useKeyBtn=document[_0x1710b8(0x1fe)]('use-key-btn'),securityIndicator=document[_0x1710b8(0x1fe)](_0x1710b8(0x20b)),audioCallBtn=document[_0x1710b8(0x1fe)]('audio-call-btn'),clearMessagesBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0xe7)),profilePictureBtn=document['getElementById'](_0x1710b8(0x1dc)),profilePictureModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x7d)),profilePictureOptions=document['getElementById'](_0x1710b8(0x263)),typingIndicator=document[_0x1710b8(0x1fe)]('typing-indicator'),typingText=document['getElementById'](_0x1710b8(0x7c)),linkShareBtn=document['getElementById'](_0x1710b8(0x291)),linkShareModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x251)),linkUrlInput=document[_0x1710b8(0x1fe)]('link-url'),linkDisplayInput=document['getElementById']('link-display'),linkPreview=document[_0x1710b8(0x1fe)](_0x1710b8(0x2ee)),linkPreviewUrl=document[_0x1710b8(0x30e)](_0x1710b8(0x1ed)),cancelLinkBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0xeb)),insertLinkBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x286)),boldBtn=document['getElementById'](_0x1710b8(0x218)),italicBtn=document['getElementById'](_0x1710b8(0x128)),dmList=document[_0x1710b8(0x1fe)](_0x1710b8(0x175)),userSidebarName=document[_0x1710b8(0x1fe)]('user-sidebar-name'),userSidebarTag=document[_0x1710b8(0x1fe)](_0x1710b8(0x1f6)),userSidebarAvatar=document[_0x1710b8(0x1fe)](_0x1710b8(0xba)),serverIcons=document[_0x1710b8(0x23b)](_0x1710b8(0x21b)),audioCallContainer=document['getElementById'](_0x1710b8(0xb8)),callerAvatar=document[_0x1710b8(0x1fe)]('caller-avatar'),callerName=document[_0x1710b8(0x1fe)](_0x1710b8(0x248)),endCallBtn=document['getElementById'](_0x1710b8(0x284)),incomingCallModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x31c)),acceptCallBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x17f)),rejectCallBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x177)),callStatus=document[_0x1710b8(0x1fe)](_0x1710b8(0x1b1)),callUserModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x28a)),callUserList=document[_0x1710b8(0x1fe)](_0x1710b8(0xc9)),cancelCallBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x246)),microphonePermissionModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x26d)),allowMicrophoneBtn=document[_0x1710b8(0x1fe)]('allow-microphone-btn'),denyMicrophoneBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0xcf)),emojiPickerModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x26c)),emojiPickerGrid=document[_0x1710b8(0x1fe)](_0x1710b8(0x247)),cancelEmojiBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x93)),fileUploadModal=document[_0x1710b8(0x1fe)]('file-upload-modal'),fileUploadArea=document[_0x1710b8(0x1fe)](_0x1710b8(0x1ee)),fileInput=document[_0x1710b8(0x1fe)](_0x1710b8(0xfd)),filePreview=document[_0x1710b8(0x1fe)](_0x1710b8(0x2a2)),cancelUploadBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x190)),sendFileBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x21f)),fileUploadBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x203)),gifStickerModal=document[_0x1710b8(0x1fe)](_0x1710b8(0x88)),gifStickerTabs=document['querySelectorAll'](_0x1710b8(0x17e)),gifsGrid=document[_0x1710b8(0x1fe)](_0x1710b8(0xa9)),stickersGrid=document[_0x1710b8(0x1fe)](_0x1710b8(0xaf)),cancelGifStickerBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x226)),gifStickerBtn=document[_0x1710b8(0x1fe)](_0x1710b8(0x22c)),gifSearchInput=document['getElementById'](_0x1710b8(0xab));let userName=null,userId=null,lastMessageId=0x0,pollInterval,isOnline=![],allMessages=[],encryptionKey=null,decryptionSuccessCount=0x0,decryptionFailureCount=0x0,editingMessageId=null,userProfilePicture=null,localStream=null,remoteStream=null,peerConnection=null,isInCall=![],isCallInitiator=![],callTargetUserId=null,callTargetUserName=null,callTargetUserAvatar=null,typingUsers=new Set(),typingTimeout=null,lastTypingTime=0x0,statusTimeout=null,lastDateSeparator=null,onlineUsers=new Set(),lastReadMessageId=localStorage[_0x1710b8(0x2d3)]('lastReadMessageId')||0x0,currentDM=null,currentServer=_0x1710b8(0x287),dmMessages={},serverMessages={},messageReactions={},callNotifications=new Map(),currentFile=null,currentReactingMessageId=null;const availableEmojis=['','','','','','','','','',''];let isBoldActive=![],isItalicActive=![];const stickerCategories={'funny':[_0x1710b8(0x1ac),_0x1710b8(0x266),'https://cdn-icons-png.flaticon.com/512/742/742753.png',_0x1710b8(0x21c)],'reactions':[_0x1710b8(0x131),_0x1710b8(0x318),'https://cdn-icons-png.flaticon.com/512/742/742757.png',_0x1710b8(0xe2)],'animals':[_0x1710b8(0x27c),_0x1710b8(0x282),'https://cdn-icons-png.flaticon.com/512/742/742761.png',_0x1710b8(0x178)]},rtcConfiguration={'iceServers':[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x1710b8(0x18c)}]},profilePictures=[{'id':0x1,'name':_0x1710b8(0x208),'url':_0x1710b8(0x123)},{'id':0x2,'name':_0x1710b8(0x181),'url':_0x1710b8(0xa7)},{'id':0x3,'name':_0x1710b8(0xc6),'url':_0x1710b8(0x72)},{'id':0x4,'name':_0x1710b8(0x9d),'url':'https://images.unsplash.com/photo-1561731216-c3a4d99437d5?w=150&h=150&fit=crop&crop=center'},{'id':0x5,'name':_0x1710b8(0x27e),'url':'https://images.unsplash.com/photo-1574085975024-eaa85ec28107?w=150&h=150&fit=crop&crop=center'},{'id':0x6,'name':_0x1710b8(0x99),'url':_0x1710b8(0x303)},{'id':0x7,'name':'Lion','url':_0x1710b8(0x2aa)}],wallpapers=[{'name':_0x1710b8(0x23d),'preview':_0x1710b8(0x127)},{'name':_0x1710b8(0x194),'preview':_0x1710b8(0x270)},{'name':'Ocean','preview':_0x1710b8(0x179)},{'name':_0x1710b8(0x285),'preview':'linear-gradient(135deg,\x20#ff9a9e,\x20#fad0c4)'},{'name':_0x1710b8(0x250),'preview':'linear-gradient(135deg,\x20#a8edea,\x20#fed6e3)'},{'name':_0x1710b8(0x11f),'preview':'linear-gradient(135deg,\x20#d299c2,\x20#fef9d7)'},{'name':'Dark\x20Space','preview':_0x1710b8(0x1ff)},{'name':'Warm\x20Fire','preview':'linear-gradient(135deg,\x20#ffecd2,\x20#fcb69f)'},{'name':_0x1710b8(0x90),'preview':_0x1710b8(0x235)},{'name':'Berry','preview':_0x1710b8(0xff)}];function insertLink(){const _0x15cb82=_0x1710b8,_0x298dd3=linkUrlInput[_0x15cb82(0x197)][_0x15cb82(0x89)](),_0x3e57ea=linkDisplayInput['value'][_0x15cb82(0x89)]();if(!_0x298dd3){showError('Please\x20enter\x20a\x20URL');return;}if(!isValidUrl(_0x298dd3)){showError(_0x15cb82(0x334));return;}const _0x209267=_0x3e57ea?'['+_0x3e57ea+']('+_0x298dd3+')':_0x298dd3,_0x55d4f5=document['getElementById'](_0x15cb82(0x2a1)),_0x1da226=_0x55d4f5[_0x15cb82(0x94)],_0x11a296=_0x55d4f5[_0x15cb82(0x225)];_0x1da226!==_0x11a296?_0x55d4f5['value']=_0x55d4f5[_0x15cb82(0x197)]['substring'](0x0,_0x1da226)+_0x209267+_0x55d4f5[_0x15cb82(0x197)][_0x15cb82(0x164)](_0x11a296):_0x55d4f5[_0x15cb82(0x197)]?_0x55d4f5['value']+='\x20'+_0x209267:_0x55d4f5['value']=_0x209267;linkShareModal[_0x15cb82(0xfa)]['display']=_0x15cb82(0x1f2),_0x55d4f5[_0x15cb82(0x12a)]();const _0x109a15=_0x1da226+_0x209267['length'];_0x55d4f5[_0x15cb82(0x10a)](_0x109a15,_0x109a15),showSuccess('Link\x20inserted\x20into\x20message!');}function _0x5bfe(){const _0x208971=['padStart','admin-user-list','Sent\x20a\x20GIF','.gif-sticker-tab','accept-call-btn','\x20are\x20typing','Bear','preventDefault','profile-picture-grid','Offline','stickerUrl','\x20Initializing\x20sidebar...','contains','removeChild','selected','sponsor','Enter','stun:stun1.l.google.com:19302','\x20Loaded\x20message\x20reactions:','\x20Sending\x20message\x20to\x20','\x20Initializing\x20Enhanced\x20Encrypted\x20Super\x20Chat...','cancel-upload-btn','Failed\x20to\x20update\x20message.\x20Please\x20try\x20again.','https://images.unsplash.com/photo-1574085975024-eaa85ec28107?w=150&h=150&fit=crop&crop=center','Could\x20not\x20send\x20sticker\x20to\x20','Sunset','width','onerror','value','admin-btn','minecraft-close','join','Super\x20Chat\x20','now','<a\x20href=\x22$1\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:\x20#5865f2;\x20text-decoration:\x20underline;\x22>$1</a>','\x20Updated\x20message\x20in\x20server\x20','admin-password-input','keys','dm-item','getMinutes','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnaXlsb3V4dGhuYWNraGJqZHJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNzU0MjMsImV4cCI6MjA3NTk1MTQyM30.eaNIKlRV-hs2F1rbbyK30PbL-ON99InD1IFSDwVv8pA','\x20Offline\x20mode\x20-\x20messages\x20saved\x20locally\x20only','Fri','video','2gpqESk','backgroundAttachment','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20user\x20\x22','tagName','\x20server\x20database,\x20using\x20local\x20storage','https://cdn-icons-png.flaticon.com/512/742/742751.png','push','Background\x20changed\x20to\x20','ctrlKey','Direct\x20Messages','call-status','\x20Initializing\x20emoji\x20picker...','156405OXJlPC','google-analytics.com','data-rank','Bytes','Sat','dragleave','document','googleadservices.com','message','Unread','change','fileName','<em>$1</em>','url(','https://images.unsplash.com/photo-1561731216-c3a4d99437d5?w=150&h=150&fit=crop&crop=center','Admin','message_type','Please\x20select\x20a\x20file\x20to\x20upload','User\x20\x22','Adblocker\x20disabled.\x20Ads\x20may\x20appear\x20in\x20games.','createElement','chatWallpaper','file-name','getTime','wallpaper-grid','\x20Initializing\x20link\x20sharing\x20functionality...','\x20No\x20messages\x20in\x20database,\x20starting\x20fresh','data-server','from','contentDocument','borderRadius','message-content','\x27s\x20profile\x20picture','isArray','You','Escape','controls','GET','onloadeddata',',\x20total\x20messages:\x20','Exit\x20Fullscreen','profile-picture-btn','fromCharCode','ivLength','chatUserId','game-modal','startsWith','delete','disabled','admin-user-details','classList','filter','messages?id=eq.','Online','8px','.rank-option','getHours','Type\x20your\x20encrypted\x20message...','.link-preview-url','file-upload-area','toggle','textContent','15qtTpVI','none','\x20Failed\x20to\x20load\x20image:','granted','Error\x20updating\x20name:','user-sidebar-tag','img','.header\x20div','No\x20messages\x20yet.\x20Start\x20the\x20conversation!','\x20Error\x20searching\x20GIFs:','Jan','data-message-id','\x20messages','getElementById','linear-gradient(135deg,\x20#2c3e50,\x20#4ca1af)','click','reactions-container','body','file-upload-btn','decrypt','Thu','\x20Message\x20deleted!','includes','Cat','Mon','size','security-indicator','user','getFullYear','message-container','className','PATCH','Monday','length','\x20is\x20currently\x20offline\x20and\x20cannot\x20receive\x20calls.','Error\x20updating\x20message:','sender_id','fox','getRandomValues','bold-btn','userProfilePicture','charAt','.server-icon','https://cdn-icons-png.flaticon.com/512/742/742754.png','admin-user-name','Encryption\x20failed:','send-file-btn','emoji-option','.message-avatar','\x20Using\x20local\x20ID\x20for\x20message:','0.7rem','charCodeAt','selectionEnd','cancel-gif-sticker-btn','Wed','floor','json','sticker-category','created_at','gif-sticker-btn','image','\x20No\x20saved\x20messages\x20found\x20for\x20server:\x20','[id*=\x22banner\x22]','\x20Failed\x20to\x20load\x20sticker:','Invalid\x20admin\x20password!',';\x20font-weight:\x20bold;\x22>[','\x20Sticker\x20loaded\x20successfully:','online','linear-gradient(135deg,\x20#0ba360,\x20#3cba92)','underline','close-adblocker-btn','gif','getAttribute','target','querySelectorAll','span','Purple\x20Gradient','linear-gradient','YOUR_GIPHY_API_KEY','Admin\x20access\x20granted!\x20You\x20now\x20have\x20admin\x20privileges.','files','keypress','remove','Sun','cancel-key-btn','cancel-call-btn','emoji-picker-grid','caller-name','Error\x20loading\x20user\x20ranks:','serverMessages_','preview','\x20Message\x20saved\x20with\x20ID:','steal-brainrot-fullscreen','.message-bubble','raw','Mint\x20Fresh','link-share-modal','[class*=\x22ad\x22]','Sunday','log','wallpaper-modal','\x20min','#718096','rank-option','Switched\x20to\x20','dragover','\x20Encrypted\x20Super\x20Chat\x20ready!','.sender-name','Encryption\x20key\x20applied!','display','Sponsor','call-user-name','status\x20connected','game-container','profile-picture-options','data-action','alt','https://cdn-icons-png.flaticon.com/512/742/742752.png','return=representation','Mar','No\x20users\x20found','Error\x20deleting\x20message:','Polling\x20error\x20for\x20','emoji-picker-modal','microphone-permission-modal','cancel-edit-btn','Failed\x20to\x20clear\x20messages.\x20Please\x20try\x20again.','linear-gradient(135deg,\x20#f6d365,\x20#fda085)','Could\x20not\x20send\x20file\x20to\x20','mediaDevices','innerHTML','objectFit','background','300px','Profile\x20picture\x20changed\x20to\x20','.rank-option[data-rank=\x22user\x22]','parse','algorithm','addEventListener','https://cdn-icons-png.flaticon.com/512/742/742759.png','&limit=20&rating=g','Owl','flex','endsWith','<a\x20href=\x22$2\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:\x20#5865f2;\x20text-decoration:\x20underline;\x22>$1</a>','https://cdn-icons-png.flaticon.com/512/742/742760.png','You\x20can\x20only\x20delete\x20your\x20own\x20messages','end-call-btn','Pink\x20Dream','insert-link-btn','home','.message-dropdown-item','clipboard','call-user-modal','some','status','sticker','date-label','query','&order=id.asc','link-share-btn','\x20','\x20Rejecting\x20incoming\x20call...','10LLqNPZ','toISOString','#666','bear','<span\x20class=\x22material-icons\x22>check_circle</span>','encryption-key-modal','keyLength','\x20Selecting\x20DM\x20with\x20','messages','150px','warn','\x20Found\x20','...','message-input','file-preview','setDate','\x20\x20','backgroundPosition','setItem','encode','Failed\x20to\x20update\x20message','admin-close-btn','https://images.unsplash.com/photo-1546182990-dffeafbe841d?w=150&h=150&fit=crop&crop=center','Failed\x20to\x20send\x20file.\x20Please\x20try\x20again.','/rest/v1/','chat-form','cat','set','\x20New\x20messages\x20loaded\x20from\x20','adblocker-btn','.message-container[data-user-id=\x22','\x20Error\x20loading\x20message\x20reactions:','method','VfLXE9JQxmGFAhfkbqklLaMdG9JEOsU9','Oct','-tab','subtle','file','max','#4299e1','title','Key\x20generation\x20failed:','message-bubble','url','data-picture-url','textAlign','dm-status','\x20server\x20database','Aug','name','edited_at','chat-app25','admin-user-item','user-rank','adservice','admin-panel-btn','\x20messages\x20for\x20server:\x20','\x20Ending\x20audio\x20call...','steal-brainrot-btn','\x20Initializing\x20audio\x20call\x20functionality...','other','Dec','drop','getItem','\x20Server\x20Fetch\x20error:','unread-label','fileSize','self-reacted','script-src\x20\x27self\x27\x20\x27unsafe-inline\x27\x20\x27unsafe-eval\x27;\x20object-src\x20\x27none\x27;','call-user-option','Saturday','Failed\x20to\x20copy\x20key\x20to\x20clipboard','error','Tue','div','bold','admin-cancel-btn','20px','/search?api_key=','getDate','gifUrl','File\x20sent\x20successfully!','\x20Empty\x20response\x20(success)','gifs','user_id','fontSize','Enter\x20Fullscreen','toDateString','\x20Encrypted\x20Super\x20Chat\x20initialized\x20successfully','message_text','link-preview','\x20All\x20messages\x20cleared!','bike-obby-close','profile-picture-option','data-tab','Welcome!\x20Start\x20the\x20conversation','\x20Starting\x20audio\x20call\x20with\x20','Cancel','Today','slice','Select\x20a\x20user\x20to\x20start\x20messaging...','[id*=\x22ad\x22]','original','\x20Error\x20loading\x20trending\x20GIFs:','12ETjGtq','user-','user-display','fileUrl','\x20server!\x20Start\x20the\x20conversation.','[Sticker]\x20','call-user-status','https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=150&h=150&fit=crop&crop=center','[data-message-id=\x22','repeat(4,\x201fr)','\x20Image\x20loaded\x20successfully:','send-button','\x20Initializing\x20file\x20upload\x20functionality...','GIF','readyState','appendChild','clear','Update','querySelector','profile-picture-label','offline','writeText','split','\x20Received\x20','map','INS','Failed\x20to\x20send\x20message.\x20Please\x20try\x20again.','Nov','https://cdn-icons-png.flaticon.com/512/742/742756.png','adblocker-modal','dataTransfer','add','incoming-call-modal','Adblocker:\x20ON','All\x20messages\x20cleared\x20successfully!\x20Everyone\x27s\x20chat\x20is\x20now\x20empty.','data','contain','MAC','fixed_height','Failed\x20to\x20delete\x20message.\x20Please\x20try\x20again.','submit','download-btn','offsetWidth','rank-color','chatUserName','active','.message-container.self','textDecoration','file-info','wallpaper-label','insertBefore','\x27s\x20avatar','toString','hidden','\x20Clearing\x20all\x20messages...','\x20<div\x20class=\x22gif-loading\x22\x20style=\x22flex-direction:\x20column;\x20text-align:\x20center;\x22><span\x20style=\x22margin-bottom:\x2010px;\x22>Giphy\x20API\x20Key\x20Required</span><small\x20style=\x22font-size:\x200.8rem;\x20color:\x20#666;\x22>\x20Get\x20a\x20free\x20API\x20key\x20from\x20<a\x20href=\x22https://developers.giphy.com/\x22\x20target=\x22_blank\x22>developers.giphy.com</a><br>and\x20update\x20the\x20GIPHY_API_KEY\x20variable\x20</small></div>\x20','Please\x20enter\x20a\x20valid\x20URL\x20(starting\x20with\x20http://\x20or\x20https://)','#a0aec0','Could\x20not\x20send\x20GIF\x20to\x20','importKey','https://images.unsplash.com/photo-1585110396000-c9ffd4e4b308?w=150&h=150&fit=crop&crop=center','images','maxWidth','italic','statusText','\x20server','.message-container','Key\x20import\x20failed:','input','<div\x20class=\x22gif-loading\x22><span>Error\x20searching\x20GIFs</span></div>','typing-text','profile-picture-modal','minecraft-modal','reduce','analytics','height','Decryption\x20failed:','Jun','tracking','self','padding','Sticker\x20sent\x20successfully!','gif-sticker-modal','trim','Enter\x20your\x20name:','673108zYIsNs','lion','data-user-id','Yesterday\x20at\x20','<div\x20class=\x22gif-loading\x22><span>Loading\x20trending\x20GIFs...</span></div>','Forest','.unread-separator','\x20is\x20typing','cancel-emoji-btn','selectionStart','cover','\x20Server\x20Error:','Message\x20deleted!','<span\x20class=\x22material-icons\x22>check_circle</span><span>Adblocker\x20is\x20currently\x20ACTIVE</span>','Dog','You\x20are\x20already\x20in\x20a\x20call','\x20Microphone\x20permission\x20denied:','color','Fox','0\x20Bytes','Delete','\x20App\x20initialization\x20failed:','.message','Thursday','\x20User\x20initialized:\x20','Error\x20blocking\x20ads\x20in\x20iframe:','Feb','react','https://plus.unsplash.com/premium_photo-1661849977833-c18cd1c7e295?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8YmVhcnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=700','Failed\x20to\x20delete\x20message','gifs-grid','random','gif-search-input','Adblocker\x20enabled.\x20Ads\x20will\x20be\x20blocked\x20in\x20games.','admin-rank-controls','23511895CEWApP','stickers-grid','https://igiylouxthnackhbjdrz.supabase.co','type','No\x20other\x20users\x20yet','dm-info','\x20Could\x20not\x20send\x20to\x20','onload','user-sidebar-name','message-dropdown','audio-call-container','fullscreen','user-sidebar-avatar','\x20Switching\x20to\x20server:\x20','Moderator','\x22\x20not\x20configured.\x20You\x20need\x20to\x20create\x20a\x20new\x20Supabase\x20project\x20for\x20this\x20server.','POST','3px\x20solid\x20','fixed','Send','key','toUpperCase','lastReadMessageId','gridTemplateColumns','Rabbit','Now','generateProductionKey','call-user-list','****','642608YXnvBI','dm_','decode','edit','deny-microphone-btn','steal-brainrot-container','\x20messages\x20from\x20database','block','admin','setAttribute','forEach','\x20and\x20','Owner','\x20-\x20Edited','admin-user-controls','\x22?\x20This\x20will\x20remove\x20all\x20their\x20messages.','owl','Error\x20loading\x20DM\x20messages:','getComputedStyle','Started\x20DM\x20with\x20','message-avatar','stringify','getMonth','https://cdn-icons-png.flaticon.com/512/742/742758.png','loading','admin-login','Jul','createObjectURL','clear-messages-btn','catch','Set\x20Rank','<div\x20class=\x22gif-loading\x22><span>Error\x20loading\x20GIFs</span></div>','cancel-link-btn','get','parentNode','attachment','[class*=\x22banner\x22]','<div\x20class=\x22gif-loading\x22><span>No\x20GIFs\x20found</span></div>','permissions','.dm-item','owner','getDay','adblockerEnabled','dms','adsystem','.user-rank','pow','style','\x20Failed\x20to\x20load\x20video:','text','file-input','Send\x20File','linear-gradient(135deg,\x20#ff9a9e,\x20#fecfef)','date-separator','encrypt','Anonymous','\x20Initializing\x20adblocker...','user_name','file-icon','contentWindow','Message\x20updated!','dm-avatar','material-icons','setSelectionRange','has','admin-user-avatar','DELETE','<span\x20class=\x22material-icons\x22>fullscreen</span>','visibilitychange','unread-separator','\x20Server\x20Response:','<span\x20class=\x22material-icons\x22>download</span>','disable-adblocker-btn','children','Yesterday','insert_drive_file','725328VLNzzB','Select\x20a\x20user\x20from\x20the\x20DM\x20list\x20to\x20start\x20a\x20conversation','399tDxcLU','encryption-key-display','https://api.giphy.com/v1/gifs','dog','stopPropagation','toFixed','Lavender','replace','35778nhSOtc','Server\x20\x22','https://images.unsplash.com/photo-1703248187251-c897f32fe4ec?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1035','\x20Message\x20sent\x20to\x20','Welcome\x20to\x20','937134nuwyAb','linear-gradient(135deg,\x20#667eea,\x20#764ba2)','italic-btn','\x20<button\x20class=\x22message-dropdown-item\x20reaction\x22\x20data-action=\x22react\x22><span\x20class=\x22material-icons\x22>add_reaction</span>\x20React\x20</button><button\x20class=\x22message-dropdown-item\x20delete\x22\x20data-action=\x22delete\x22><span\x20class=\x22material-icons\x22>delete</span>\x20Delete\x20</button>\x20','focus','src','findIndex','button','Message\x20sent!','[id*=\x22sponsor\x22]','Rank\x20updated\x20for\x20user','https://cdn-icons-png.flaticon.com/512/742/742755.png','edit-wallpaper','adblocker-status\x20inactive','file-size','marginBottom','entries','Audio\x20call\x20functionality\x20is\x20not\x20fully\x20implemented\x20in\x20this\x20demo','admin-login-btn','userRanks','Friday','Microphone\x20access\x20is\x20required\x20for\x20audio\x20calls.','gif-sticker-item','[GIF]\x20','\x20Loading\x20messages\x20from\x20database...','offsetHeight','\x20Loaded\x20','Start\x20a\x20conversation\x20with\x20','.gif-sticker-tab-content','bike-obby-btn','Sep','minecraft-fullscreen','\x20Initializing\x20profile\x20picture\x20functionality...','getTracks','avatar','\x20Initializing\x20GIF\x20&\x20Sticker\x20functionality\x20with\x20Giphy...','Bearer\x20','generateKey','rank-name','Microphone\x20access\x20granted!','\x20server:','sender-name','\x20at\x20','#f7fafc','<span\x20class=\x22material-icons\x22>fullscreen_exit</span>','white','scrollTop','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20ALL\x20messages\x20from\x20everyone?\x20This\x20action\x20cannot\x20be\x20undone.','Sending...','load','backgroundColor','Failed\x20to\x20initialize.\x20Please\x20refresh\x20the\x20page.','keydown','Uploading...','100%','May','minecraft-btn','success-message','reaction-count','[FILE]\x20','facebook.com/tr','Failed\x20to\x20update\x20name.\x20Please\x20try\x20again.','substring','toLowerCase','backgroundSize','backgroundImage','enter-key-modal','headers','href','.reactions-container','indexOf','iframe','Apr','borderLeft','wallpaper-option','\x20<button\x20class=\x22message-dropdown-item\x20reaction\x22\x20data-action=\x22react\x22><span\x20class=\x22material-icons\x22>add_reaction</span>\x20React\x20</button><button\x20class=\x22message-dropdown-item\x22\x20data-action=\x22edit\x22><span\x20class=\x22material-icons\x22>edit</span>\x20Edit\x20</button><button\x20class=\x22message-dropdown-item\x20delete\x22\x20data-action=\x22delete\x22><span\x20class=\x22material-icons\x22>delete</span>\x20Delete\x20</button>\x20','messages?select=id','\x20Connected!\x20Ready\x20to\x20chat','attachment-file','dm-list','placeholder','reject-call-btn','https://cdn-icons-png.flaticon.com/512/742/742762.png','linear-gradient(135deg,\x20#84fab0,\x20#8fd3f4)','center'];_0x5bfe=function(){return _0x208971;};return _0x5bfe();}function toggleTextFormatting(_0x3acaa8){const _0x192442=_0x1710b8,_0x590c9b=document[_0x192442(0x1fe)](_0x192442(0x2a1)),_0x52e02e=_0x590c9b[_0x192442(0x94)],_0x24f6dd=_0x590c9b[_0x192442(0x225)],_0x435423=_0x590c9b['value'][_0x192442(0x164)](_0x52e02e,_0x24f6dd);let _0x167dc7='',_0x3b3893=0x0;switch(_0x3acaa8){case _0x192442(0x2df):_0x435423?_0x435423[_0x192442(0x1e1)]('**')&&_0x435423[_0x192442(0x280)]('**')?(_0x167dc7=_0x435423[_0x192442(0x164)](0x2,_0x435423[_0x192442(0x212)]-0x2),_0x3b3893=_0x52e02e+_0x167dc7[_0x192442(0x212)],isBoldActive=![]):(_0x167dc7='**'+_0x435423+'**',_0x3b3893=_0x52e02e+_0x167dc7[_0x192442(0x212)],isBoldActive=!![]):(_0x167dc7=_0x192442(0xca),_0x3b3893=_0x52e02e+0x2,isBoldActive=!![]);boldBtn['classList'][_0x192442(0x1ef)](_0x192442(0x329),isBoldActive);break;case _0x192442(0x75):_0x435423?_0x435423['startsWith']('*')&&_0x435423['endsWith']('*')&&!_0x435423['startsWith']('**')&&!_0x435423[_0x192442(0x280)]('**')?(_0x167dc7=_0x435423[_0x192442(0x164)](0x1,_0x435423['length']-0x1),_0x3b3893=_0x52e02e+_0x167dc7[_0x192442(0x212)],isItalicActive=![]):(_0x167dc7='*'+_0x435423+'*',_0x3b3893=_0x52e02e+_0x167dc7[_0x192442(0x212)],isItalicActive=!![]):(_0x167dc7='**',_0x3b3893=_0x52e02e+0x1,isItalicActive=!![]);italicBtn[_0x192442(0x1e5)][_0x192442(0x1ef)](_0x192442(0x329),isItalicActive);break;}_0x590c9b[_0x192442(0x197)]=_0x590c9b[_0x192442(0x197)][_0x192442(0x164)](0x0,_0x52e02e)+_0x167dc7+_0x590c9b[_0x192442(0x197)][_0x192442(0x164)](_0x24f6dd),_0x590c9b['focus'](),_0x590c9b[_0x192442(0x10a)](_0x3b3893,_0x3b3893),setTimeout(()=>{const _0x276a80=_0x192442,_0x5af5da=_0x590c9b[_0x276a80(0x197)][_0x276a80(0x164)](_0x590c9b[_0x276a80(0x94)],_0x590c9b['selectionEnd']);_0x5af5da[_0x276a80(0x212)]===0x0&&(isBoldActive=![],isItalicActive=![],boldBtn['classList'][_0x276a80(0x243)](_0x276a80(0x329)),italicBtn[_0x276a80(0x1e5)][_0x276a80(0x243)](_0x276a80(0x329)));},0x64);}function formatTime(_0x110033){const _0x1a6e16=_0x1710b8,_0x3a936d=new Date(),_0x565de5=new Date(_0x110033),_0x46d00e=_0x3a936d[_0x1a6e16(0x1ca)]()-_0x565de5['getTime'](),_0x2e4224=Math[_0x1a6e16(0x228)](_0x46d00e/(0x3e8*0x3c)),_0x3b1e97=Math[_0x1a6e16(0x228)](_0x46d00e/(0x3e8*0x3c*0x3c*0x18));if(_0x2e4224<0x1)return _0x1a6e16(0xc7);else{if(_0x2e4224<0x3c)return _0x2e4224+_0x1a6e16(0x256)+(_0x2e4224===0x1?'':'s')+'\x20ago';}let _0x2837c3=_0x565de5[_0x1a6e16(0x1eb)]();const _0x2d9f0a=_0x565de5[_0x1a6e16(0x1a2)]()[_0x1a6e16(0x330)]()[_0x1a6e16(0x17b)](0x2,'0'),_0x881357=_0x2837c3>=0xc?'PM':'AM';_0x2837c3=_0x2837c3%0xc||0xc;const _0xd80152=_0x2837c3+':'+_0x2d9f0a+'\x20'+_0x881357;if(_0x565de5[_0x1a6e16(0x2eb)]()===_0x3a936d[_0x1a6e16(0x2eb)]())return _0xd80152;const _0x6dbdbf=new Date(_0x3a936d);_0x6dbdbf[_0x1a6e16(0x2a3)](_0x6dbdbf['getDate']()-0x1);if(_0x565de5[_0x1a6e16(0x2eb)]()===_0x6dbdbf[_0x1a6e16(0x2eb)]())return _0x1a6e16(0x8e)+_0xd80152;if(_0x3b1e97<0x7){const _0x15271d=[_0x1a6e16(0x244),_0x1a6e16(0x209),_0x1a6e16(0x2dd),_0x1a6e16(0x227),_0x1a6e16(0x205),_0x1a6e16(0x1a5),_0x1a6e16(0x1b7)];return _0x15271d[_0x565de5[_0x1a6e16(0xf4)]()]+'\x20at\x20'+_0xd80152;}if(_0x565de5[_0x1a6e16(0x20d)]()===_0x3a936d[_0x1a6e16(0x20d)]()){const _0x34aed3=[_0x1a6e16(0x1fb),_0x1a6e16(0xa5),_0x1a6e16(0x268),_0x1a6e16(0x16e),_0x1a6e16(0x15d),_0x1a6e16(0x83),_0x1a6e16(0xe5),_0x1a6e16(0x2c4),_0x1a6e16(0x144),_0x1a6e16(0x2b6),_0x1a6e16(0x317),'Dec'];return _0x34aed3[_0x565de5[_0x1a6e16(0xe1)]()]+'\x20'+_0x565de5[_0x1a6e16(0x2e3)]()+_0x1a6e16(0x150)+_0xd80152;}const _0x159b27=[_0x1a6e16(0x1fb),_0x1a6e16(0xa5),_0x1a6e16(0x268),'Apr',_0x1a6e16(0x15d),'Jun',_0x1a6e16(0xe5),_0x1a6e16(0x2c4),_0x1a6e16(0x144),_0x1a6e16(0x2b6),_0x1a6e16(0x317),_0x1a6e16(0x2d1)];return _0x159b27[_0x565de5['getMonth']()]+'\x20'+_0x565de5['getDate']()+',\x20'+_0x565de5[_0x1a6e16(0x20d)]()+_0x1a6e16(0x150)+_0xd80152;}async function loadMessages(){const _0x3ffbf2=_0x1710b8;try{console['log'](_0x3ffbf2(0x13e));let _0x11d875=await serverFetch(currentServer,'messages?order=id.asc');console['log'](_0x3ffbf2(0x313)+(_0x11d875?.[_0x3ffbf2(0x212)]||0x0)+_0x3ffbf2(0xd1));if(_0x11d875&&_0x11d875[_0x3ffbf2(0x212)]>0x0){console[_0x3ffbf2(0x254)]('\x20Loaded\x20'+_0x11d875[_0x3ffbf2(0x212)]+_0x3ffbf2(0xd1)),allMessages=_0x11d875,lastMessageId=Math[_0x3ffbf2(0x2ba)](..._0x11d875[_0x3ffbf2(0x314)](_0x803813=>_0x803813['id'])),console['log']('\x20Last\x20message\x20ID\x20set\x20to:',lastMessageId),messagesDiv[_0x3ffbf2(0x273)]='',lastDateSeparator=null,_0x11d875[_0x3ffbf2(0xd5)](_0x31762c=>{addMessageToServer(currentServer,_0x31762c);});for(const _0x5db9ee of _0x11d875){await renderMessage(_0x5db9ee[_0x3ffbf2(0xfc)],_0x5db9ee['user_id'],_0x5db9ee[_0x3ffbf2(0x104)],_0x5db9ee[_0x3ffbf2(0x22b)],_0x5db9ee['id'],_0x5db9ee[_0x3ffbf2(0x2c6)],![],_0x5db9ee);}addUnreadSeparatorIfNeeded(),updateOnlineUsers(),showTemporaryStatus(_0x3ffbf2(0x140)+_0x11d875[_0x3ffbf2(0x212)]+_0x3ffbf2(0x1fd)),isOnline=!![];}else console['log'](_0x3ffbf2(0x1cd)),allMessages=[],lastMessageId=0x0,loadingDiv[_0x3ffbf2(0x1f0)]=_0x3ffbf2(0x1f9),showTemporaryStatus(_0x3ffbf2(0x173)),isOnline=!![];statusDiv[_0x3ffbf2(0x20f)]=_0x3ffbf2(0x261);}catch(_0x4b7bd0){console[_0x3ffbf2(0x2dc)]('\x20Error\x20loading\x20messages:',_0x4b7bd0),console['log']('\x20Database\x20connection\x20failed,\x20starting\x20with\x20empty\x20chat'),allMessages=[],lastMessageId=0x0,messagesDiv[_0x3ffbf2(0x273)]='',lastDateSeparator=null,loadingDiv[_0x3ffbf2(0x1f0)]=_0x3ffbf2(0x2f3),showTemporaryStatus(_0x3ffbf2(0x1a4),![]),isOnline=![];}}async function sendGif(_0x17e98f){const _0x1e4a32=_0x1710b8,_0x155d79={'type':_0x1e4a32(0x238),'gifUrl':_0x17e98f,'text':input[_0x1e4a32(0x197)]['trim']()||'','user_id':userId,'user_name':userName,'created_at':new Date()['toISOString'](),'id':Date[_0x1e4a32(0x19c)]()};if(currentServer==='dms'&&currentDM)saveDMMessage(_0x155d79,currentDM['id']);else{addMessageToServer(currentServer,_0x155d79);try{await serverFetch(currentServer,'messages',{'method':_0x1e4a32(0xbe),'body':JSON[_0x1e4a32(0xe0)]({'text':_0x1e4a32(0x13d)+(_0x155d79[_0x1e4a32(0xfc)]||_0x1e4a32(0x17d)),'user_id':userId,'user_name':userName,'created_at':new Date()[_0x1e4a32(0x295)](),'gif_url':_0x17e98f})});}catch(_0x511e14){console['warn'](_0x1e4a32(0x336)+currentServer+_0x1e4a32(0x2c3));}}await renderMessage(_0x155d79[_0x1e4a32(0xfc)],_0x155d79[_0x1e4a32(0x2e8)],_0x155d79[_0x1e4a32(0x104)],_0x155d79[_0x1e4a32(0x22b)],_0x155d79['id'],null,null,_0x155d79),input[_0x1e4a32(0x197)]='',gifStickerModal[_0x1e4a32(0xfa)]['display']='none',showSuccess('GIF\x20sent\x20successfully!');}async function sendFile(){const _0x3a6823=_0x1710b8;if(!currentFile){showError(_0x3a6823(0x1c4));return;}try{sendFileBtn[_0x3a6823(0x1e3)]=!![],sendFileBtn[_0x3a6823(0x1f0)]=_0x3a6823(0x15b);const _0x34b8ed=URL[_0x3a6823(0xe6)](currentFile),_0x5519de={'type':_0x3a6823(0x2b9),'fileUrl':_0x34b8ed,'fileName':currentFile[_0x3a6823(0x2c5)],'fileSize':currentFile[_0x3a6823(0x20a)],'fileType':currentFile['type'],'text':input[_0x3a6823(0x197)][_0x3a6823(0x89)]()||'','user_id':userId,'user_name':userName,'created_at':new Date()[_0x3a6823(0x295)](),'id':Date[_0x3a6823(0x19c)]()};if(currentServer===_0x3a6823(0xf6)&&currentDM)saveDMMessage(_0x5519de,currentDM['id']);else{addMessageToServer(currentServer,_0x5519de);try{await serverFetch(currentServer,_0x3a6823(0x29c),{'method':_0x3a6823(0xbe),'body':JSON[_0x3a6823(0xe0)]({'text':_0x3a6823(0x161)+(_0x5519de[_0x3a6823(0xfc)]||'Sent\x20a\x20file'),'user_id':userId,'user_name':userName,'created_at':new Date()[_0x3a6823(0x295)](),'file_url':_0x34b8ed,'file_name':currentFile[_0x3a6823(0x2c5)],'file_type':currentFile['type']})});}catch(_0x33a095){console[_0x3a6823(0x29e)](_0x3a6823(0x271)+currentServer+'\x20server\x20database');}}await renderMessage(_0x5519de[_0x3a6823(0xfc)],_0x5519de[_0x3a6823(0x2e8)],_0x5519de['user_name'],_0x5519de['created_at'],_0x5519de['id'],null,null,_0x5519de),input[_0x3a6823(0x197)]='',fileUploadModal[_0x3a6823(0xfa)][_0x3a6823(0x25e)]='none',resetFileUpload(),showSuccess(_0x3a6823(0x2e5));}catch(_0x1494fb){console['error']('\x20Error\x20sending\x20file:',_0x1494fb),showError(_0x3a6823(0x2ab));}finally{sendFileBtn['disabled']=![],sendFileBtn['textContent']=_0x3a6823(0xfe);}}function initializeTextFormatting(){const _0x2f96c0=_0x1710b8;console[_0x2f96c0(0x254)]('\x20Initializing\x20text\x20formatting\x20functionality...'),boldBtn[_0x2f96c0(0x27b)](_0x2f96c0(0x200),()=>{const _0x2ed89e=_0x2f96c0;toggleTextFormatting(_0x2ed89e(0x2df));}),italicBtn[_0x2f96c0(0x27b)]('click',()=>{const _0x3025e1=_0x2f96c0;toggleTextFormatting(_0x3025e1(0x75));}),input[_0x2f96c0(0x27b)](_0x2f96c0(0x15a),handleFormattingShortcuts);}function initializeLinkSharing(){const _0x47c121=_0x1710b8;console['log'](_0x47c121(0x1cc)),linkShareBtn[_0x47c121(0x27b)]('click',()=>{const _0x403f44=_0x47c121;linkShareModal[_0x403f44(0xfa)][_0x403f44(0x25e)]='flex',linkUrlInput[_0x403f44(0x197)]='',linkDisplayInput['value']='',linkPreview[_0x403f44(0x1e5)][_0x403f44(0x31b)](_0x403f44(0x331));}),linkUrlInput[_0x47c121(0x27b)]('input',updateLinkPreview),linkDisplayInput[_0x47c121(0x27b)](_0x47c121(0x7a),updateLinkPreview),cancelLinkBtn['addEventListener'](_0x47c121(0x200),()=>{const _0x1014c0=_0x47c121;linkShareModal[_0x1014c0(0xfa)][_0x1014c0(0x25e)]=_0x1014c0(0x1f2);}),insertLinkBtn[_0x47c121(0x27b)](_0x47c121(0x200),insertLink),linkShareModal[_0x47c121(0x27b)](_0x47c121(0x200),_0x330521=>{const _0x1ab032=_0x47c121;_0x330521[_0x1ab032(0x23a)]===linkShareModal&&(linkShareModal[_0x1ab032(0xfa)][_0x1ab032(0x25e)]=_0x1ab032(0x1f2));});}function initializeGifSticker(){const _0x364bfb=_0x1710b8;console[_0x364bfb(0x254)](_0x364bfb(0x149)),gifStickerBtn['addEventListener'](_0x364bfb(0x200),()=>{gifStickerModal['style']['display']='flex',loadTrendingGifs(),loadStickers();}),gifStickerTabs[_0x364bfb(0xd5)](_0x19d351=>{const _0x1e0909=_0x364bfb;_0x19d351[_0x1e0909(0x27b)](_0x1e0909(0x200),()=>{const _0x2f661e=_0x1e0909,_0x47bfa3=_0x19d351[_0x2f661e(0x239)]('data-tab');switchGifStickerTab(_0x47bfa3),_0x47bfa3===_0x2f661e(0x2e7)&&loadTrendingGifs();});});let _0x50af0f;gifSearchInput[_0x364bfb(0x27b)](_0x364bfb(0x7a),_0x3e1090=>{const _0x319d14=_0x364bfb;clearTimeout(_0x50af0f);const _0x2ab3c2=_0x3e1090[_0x319d14(0x23a)][_0x319d14(0x197)]['trim']();if(_0x2ab3c2[_0x319d14(0x212)]===0x0)loadTrendingGifs();else _0x2ab3c2['length']>0x2&&(_0x50af0f=setTimeout(()=>{searchGifs(_0x2ab3c2);},0x1f4));}),gifStickerModal[_0x364bfb(0x27b)](_0x364bfb(0x200),_0x1682f6=>{const _0x513519=_0x364bfb;_0x1682f6['target']===gifStickerModal&&(gifStickerModal[_0x513519(0xfa)]['display']=_0x513519(0x1f2));}),cancelGifStickerBtn[_0x364bfb(0x27b)](_0x364bfb(0x200),()=>{const _0x4646b0=_0x364bfb;gifStickerModal[_0x4646b0(0xfa)][_0x4646b0(0x25e)]=_0x4646b0(0x1f2);});}function initializeFileUpload(){const _0x11bb28=_0x1710b8;console[_0x11bb28(0x254)](_0x11bb28(0x308)),fileUploadBtn[_0x11bb28(0x27b)]('click',()=>{const _0x3cf28c=_0x11bb28;fileUploadModal[_0x3cf28c(0xfa)][_0x3cf28c(0x25e)]=_0x3cf28c(0x27f),resetFileUpload();}),fileInput['addEventListener'](_0x11bb28(0x1bd),handleFileSelect),fileUploadArea[_0x11bb28(0x27b)](_0x11bb28(0x25a),_0x27530d=>{const _0x5b1ba2=_0x11bb28;_0x27530d[_0x5b1ba2(0x182)](),fileUploadArea[_0x5b1ba2(0x1e5)][_0x5b1ba2(0x31b)]('dragover');}),fileUploadArea['addEventListener'](_0x11bb28(0x1b8),()=>{const _0x199df5=_0x11bb28;fileUploadArea[_0x199df5(0x1e5)][_0x199df5(0x243)](_0x199df5(0x25a));}),fileUploadArea[_0x11bb28(0x27b)](_0x11bb28(0x2d2),_0x449260=>{const _0x222a4f=_0x11bb28;_0x449260['preventDefault'](),fileUploadArea['classList']['remove'](_0x222a4f(0x25a));const _0xd80f03=_0x449260[_0x222a4f(0x31a)][_0x222a4f(0x241)];_0xd80f03[_0x222a4f(0x212)]>0x0&&handleFile(_0xd80f03[0x0]);}),fileUploadArea[_0x11bb28(0x27b)](_0x11bb28(0x200),()=>{const _0x42adbb=_0x11bb28;fileInput[_0x42adbb(0x200)]();}),cancelUploadBtn['addEventListener'](_0x11bb28(0x200),()=>{const _0x3aaddc=_0x11bb28;fileUploadModal[_0x3aaddc(0xfa)]['display']=_0x3aaddc(0x1f2),resetFileUpload();}),sendFileBtn[_0x11bb28(0x27b)]('click',sendFile),fileUploadModal[_0x11bb28(0x27b)]('click',_0x5a3dbc=>{const _0x2589e6=_0x11bb28;_0x5a3dbc[_0x2589e6(0x23a)]===fileUploadModal&&(fileUploadModal[_0x2589e6(0xfa)][_0x2589e6(0x25e)]='none',resetFileUpload());});}function handleFormattingShortcuts(_0x1cff4a){const _0x57d112=_0x1710b8,_0x1d99fa=navigator['platform'][_0x57d112(0xc3)]()[_0x57d112(0x16c)](_0x57d112(0x321))>=0x0,_0x7f316=_0x1d99fa?_0x1cff4a['metaKey']:_0x1cff4a[_0x57d112(0x1af)];if(_0x7f316)switch(_0x1cff4a[_0x57d112(0xc2)]){case'b':_0x1cff4a['preventDefault'](),toggleTextFormatting(_0x57d112(0x2df));break;case'i':_0x1cff4a['preventDefault'](),toggleTextFormatting('italic');break;}}function updateLinkPreview(){const _0x439035=_0x1710b8,_0x60b5da=linkUrlInput[_0x439035(0x197)][_0x439035(0x89)](),_0x50ee1b=linkDisplayInput['value'][_0x439035(0x89)]();if(_0x60b5da){linkPreview[_0x439035(0x1e5)][_0x439035(0x243)]('hidden');const _0xc21912=_0x50ee1b||_0x60b5da;linkPreviewUrl[_0x439035(0x1f0)]=_0xc21912;}else linkPreview[_0x439035(0x1e5)]['add'](_0x439035(0x331));}function isValidUrl(_0x1545c1){try{return new URL(_0x1545c1),!![];}catch(_0x2a48e5){return![];}}function parseMarkdown(_0x2cca6b){const _0x89b72b=_0x1710b8;return _0x2cca6b=_0x2cca6b[_0x89b72b(0x120)](/\*\*(.*?)\*\*/g,'<strong>$1</strong>'),_0x2cca6b=_0x2cca6b[_0x89b72b(0x120)](/\*(.*?)\*/g,_0x89b72b(0x1bf)),_0x2cca6b;}function parseAndRenderLinks(_0x8c4afc){const _0x2bd1ac=_0x1710b8;_0x8c4afc=_0x8c4afc[_0x2bd1ac(0x120)](/\[([^\]]+)\]\(([^)]+)\)/g,_0x2bd1ac(0x281));const _0x273a96=/(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/g;return _0x8c4afc=_0x8c4afc[_0x2bd1ac(0x120)](_0x273a96,_0x2bd1ac(0x19d)),_0x8c4afc;}async function loadTrendingGifs(){const _0x399ba5=_0x1710b8;if(!GIPHY_API_KEY||GIPHY_API_KEY===_0x399ba5(0x23f)){showGiphyApiWarning();return;}gifsGrid[_0x399ba5(0x273)]=_0x399ba5(0x8f);try{const _0x46b3dc=await fetch(GIPHY_BASE_URL+'/trending?api_key='+GIPHY_API_KEY+'&limit=20&rating=g'),_0x4de041=await _0x46b3dc[_0x399ba5(0x229)]();displayGifs(_0x4de041[_0x399ba5(0x31f)]);}catch(_0x19caf0){console[_0x399ba5(0x2dc)](_0x399ba5(0x2fb),_0x19caf0),gifsGrid[_0x399ba5(0x273)]=_0x399ba5(0xea);}}async function searchGifs(_0xe1295){const _0x2d37aa=_0x1710b8;if(!GIPHY_API_KEY||GIPHY_API_KEY===_0x2d37aa(0x23f)){showGiphyApiWarning();return;}gifsGrid[_0x2d37aa(0x273)]='<div\x20class=\x22gif-loading\x22><span>Searching\x20GIFs...</span></div>';try{const _0x5da777=await fetch(GIPHY_BASE_URL+_0x2d37aa(0x2e2)+GIPHY_API_KEY+'&q='+encodeURIComponent(_0xe1295)+_0x2d37aa(0x27d)),_0x4bfbe5=await _0x5da777[_0x2d37aa(0x229)]();displayGifs(_0x4bfbe5[_0x2d37aa(0x31f)]);}catch(_0x5eccad){console[_0x2d37aa(0x2dc)](_0x2d37aa(0x1fa),_0x5eccad),gifsGrid['innerHTML']=_0x2d37aa(0x7b);}}function displayGifs(_0x3db28f){const _0x2f6d35=_0x1710b8;gifsGrid[_0x2f6d35(0x273)]='';if(!_0x3db28f||_0x3db28f['length']===0x0){gifsGrid[_0x2f6d35(0x273)]=_0x2f6d35(0xf0);return;}_0x3db28f[_0x2f6d35(0xd5)](_0x2e1b04=>{const _0x5a3c1e=_0x2f6d35,_0x9b44ce=document['createElement'](_0x5a3c1e(0x2de));_0x9b44ce['classList']['add']('gif-sticker-item');const _0x220556=document[_0x5a3c1e(0x1c7)](_0x5a3c1e(0x1f7));_0x220556[_0x5a3c1e(0x12b)]=_0x2e1b04[_0x5a3c1e(0x73)][_0x5a3c1e(0x322)][_0x5a3c1e(0x2bf)],_0x220556[_0x5a3c1e(0x265)]=_0x2e1b04[_0x5a3c1e(0x2bc)]||_0x5a3c1e(0x309),_0x220556[_0x5a3c1e(0xe3)]='lazy',_0x220556[_0x5a3c1e(0xfa)][_0x5a3c1e(0x195)]=_0x5a3c1e(0x15c),_0x220556['style'][_0x5a3c1e(0x81)]='100%',_0x220556[_0x5a3c1e(0xfa)][_0x5a3c1e(0x274)]=_0x5a3c1e(0x95),_0x9b44ce['appendChild'](_0x220556),_0x9b44ce[_0x5a3c1e(0x27b)](_0x5a3c1e(0x200),()=>{const _0x29e8b5=_0x5a3c1e;sendGif(_0x2e1b04[_0x29e8b5(0x73)][_0x29e8b5(0x2fa)][_0x29e8b5(0x2bf)]);}),gifsGrid['appendChild'](_0x9b44ce);});}function showGiphyApiWarning(){const _0x45a0bd=_0x1710b8;gifsGrid[_0x45a0bd(0x273)]=_0x45a0bd(0x333);}function loadStickers(){const _0xde0468=_0x1710b8;stickersGrid[_0xde0468(0x273)]='',Object[_0xde0468(0x136)](stickerCategories)['forEach'](([_0x2c81f6,_0x14a589])=>{const _0x24691d=_0xde0468,_0x2d3c46=document[_0x24691d(0x1c7)]('div');_0x2d3c46['classList']['add'](_0x24691d(0x22a));const _0x47a7f1=document['createElement']('h4');_0x47a7f1[_0x24691d(0x1f0)]=_0x2c81f6[_0x24691d(0x21a)](0x0)[_0x24691d(0xc3)]()+_0x2c81f6[_0x24691d(0x2f7)](0x1),_0x2d3c46[_0x24691d(0x30b)](_0x47a7f1);const _0x10d390=document[_0x24691d(0x1c7)](_0x24691d(0x2de));_0x10d390[_0x24691d(0x1e5)][_0x24691d(0x31b)]('gif-sticker-grid'),_0x10d390[_0x24691d(0xfa)][_0x24691d(0xc5)]=_0x24691d(0x305),_0x14a589[_0x24691d(0xd5)]((_0x5b2a25,_0x2a6948)=>{const _0x330feb=_0x24691d,_0xe036ef=document[_0x330feb(0x1c7)](_0x330feb(0x2de));_0xe036ef['classList'][_0x330feb(0x31b)](_0x330feb(0x13c));const _0x34e8dc=document['createElement'](_0x330feb(0x1f7));_0x34e8dc[_0x330feb(0x12b)]=_0x5b2a25,_0x34e8dc[_0x330feb(0x265)]=_0x2c81f6+'\x20sticker\x20'+(_0x2a6948+0x1),_0x34e8dc[_0x330feb(0xe3)]='lazy',_0x34e8dc[_0x330feb(0xfa)][_0x330feb(0x195)]=_0x330feb(0x15c),_0x34e8dc[_0x330feb(0xfa)][_0x330feb(0x81)]='100%',_0x34e8dc['style'][_0x330feb(0x274)]=_0x330feb(0x320),_0xe036ef['appendChild'](_0x34e8dc),_0xe036ef[_0x330feb(0x27b)](_0x330feb(0x200),()=>{sendSticker(_0x5b2a25);}),_0x10d390[_0x330feb(0x30b)](_0xe036ef);}),_0x2d3c46[_0x24691d(0x30b)](_0x10d390),stickersGrid['appendChild'](_0x2d3c46);});}function switchGifStickerTab(_0x1cbb55){const _0x3b6247=_0x1710b8;gifStickerTabs[_0x3b6247(0xd5)](_0x170355=>{const _0x3785b4=_0x3b6247;_0x170355[_0x3785b4(0x239)](_0x3785b4(0x2f2))===_0x1cbb55?_0x170355['classList'][_0x3785b4(0x31b)](_0x3785b4(0x329)):_0x170355['classList'][_0x3785b4(0x243)](_0x3785b4(0x329));}),document[_0x3b6247(0x23b)](_0x3b6247(0x142))[_0x3b6247(0xd5)](_0x136b41=>{const _0x2d0d62=_0x3b6247;_0x136b41['id']===_0x1cbb55+_0x2d0d62(0x2b7)?_0x136b41['classList'][_0x2d0d62(0x243)](_0x2d0d62(0x331)):_0x136b41[_0x2d0d62(0x1e5)][_0x2d0d62(0x31b)](_0x2d0d62(0x331));});}async function sendSticker(_0x3aa088){const _0x36163c=_0x1710b8,_0x336dae={'type':_0x36163c(0x28d),'stickerUrl':_0x3aa088,'text':input[_0x36163c(0x197)][_0x36163c(0x89)]()||'','user_id':userId,'user_name':userName,'created_at':new Date()[_0x36163c(0x295)](),'id':Date[_0x36163c(0x19c)]()};if(currentServer==='dms'&&currentDM)saveDMMessage(_0x336dae,currentDM['id']);else{addMessageToServer(currentServer,_0x336dae);try{await serverFetch(currentServer,'messages',{'method':_0x36163c(0xbe),'body':JSON['stringify']({'text':_0x36163c(0x301)+(_0x336dae[_0x36163c(0xfc)]||'Sent\x20a\x20sticker'),'user_id':userId,'user_name':userName,'created_at':new Date()[_0x36163c(0x295)](),'sticker_url':_0x3aa088})});}catch(_0x2d8432){console[_0x36163c(0x29e)](_0x36163c(0x193)+currentServer+'\x20server\x20database');}}await renderMessage(_0x336dae['text'],_0x336dae[_0x36163c(0x2e8)],_0x336dae[_0x36163c(0x104)],_0x336dae[_0x36163c(0x22b)],_0x336dae['id'],null,null,_0x336dae),input[_0x36163c(0x197)]='',gifStickerModal[_0x36163c(0xfa)]['display']='none',showSuccess(_0x36163c(0x87));}function handleFileSelect(_0x1d586d){const _0x409570=_0x1710b8,_0x22de70=_0x1d586d[_0x409570(0x23a)][_0x409570(0x241)][0x0];_0x22de70&&handleFile(_0x22de70);}function handleFile(_0x433ae8){const _0x5185a1=_0x1710b8;if(_0x433ae8[_0x5185a1(0x20a)]>0xa*0x400*0x400){showError('File\x20size\x20must\x20be\x20less\x20than\x2010MB');return;}currentFile=_0x433ae8,showFilePreview(_0x433ae8);}function showFilePreview(_0x5f2668){const _0x211a7d=_0x1710b8;filePreview[_0x211a7d(0x273)]='';const _0x3d0e19=_0x5f2668[_0x211a7d(0xb1)][_0x211a7d(0x312)]('/')[0x0],_0x588b6d=_0x5f2668[_0x211a7d(0x2c5)],_0xc7a10e=formatFileSize(_0x5f2668[_0x211a7d(0x20a)]);if(_0x3d0e19===_0x211a7d(0x22d)){const _0x27158c=document[_0x211a7d(0x1c7)]('img');_0x27158c[_0x211a7d(0x12b)]=URL[_0x211a7d(0xe6)](_0x5f2668),filePreview['appendChild'](_0x27158c);}else{if(_0x3d0e19===_0x211a7d(0x1a6)){const _0x48f2a9=document[_0x211a7d(0x1c7)](_0x211a7d(0x1a6));_0x48f2a9['src']=URL[_0x211a7d(0xe6)](_0x5f2668),_0x48f2a9[_0x211a7d(0x1d7)]=!![],filePreview[_0x211a7d(0x30b)](_0x48f2a9);}else{const _0x5d406a=document[_0x211a7d(0x1c7)]('div');_0x5d406a[_0x211a7d(0x1e5)][_0x211a7d(0x31b)](_0x211a7d(0x174));const _0x27da4e=document[_0x211a7d(0x1c7)](_0x211a7d(0x23c));_0x27da4e[_0x211a7d(0x1e5)][_0x211a7d(0x31b)](_0x211a7d(0x109),_0x211a7d(0x105)),_0x27da4e['textContent']=_0x211a7d(0x116);const _0x5a29e1=document['createElement']('div');_0x5a29e1[_0x211a7d(0x1e5)][_0x211a7d(0x31b)](_0x211a7d(0x32c));const _0x430329=document['createElement']('div');_0x430329[_0x211a7d(0x1e5)][_0x211a7d(0x31b)](_0x211a7d(0x1c9)),_0x430329['textContent']=_0x588b6d;const _0x1cd2c3=document[_0x211a7d(0x1c7)](_0x211a7d(0x2de));_0x1cd2c3[_0x211a7d(0x1e5)]['add'](_0x211a7d(0x134)),_0x1cd2c3[_0x211a7d(0x1f0)]=_0xc7a10e,_0x5a29e1[_0x211a7d(0x30b)](_0x430329),_0x5a29e1[_0x211a7d(0x30b)](_0x1cd2c3),_0x5d406a[_0x211a7d(0x30b)](_0x27da4e),_0x5d406a[_0x211a7d(0x30b)](_0x5a29e1),filePreview[_0x211a7d(0x30b)](_0x5d406a);}}}function formatFileSize(_0x49f06b){const _0x8c5f0a=_0x1710b8;if(_0x49f06b===0x0)return _0x8c5f0a(0x9e);const _0x115395=0x400,_0x4a6323=[_0x8c5f0a(0x1b6),'KB','MB','GB'],_0x3c80bc=Math[_0x8c5f0a(0x228)](Math[_0x8c5f0a(0x254)](_0x49f06b)/Math[_0x8c5f0a(0x254)](_0x115395));return parseFloat((_0x49f06b/Math[_0x8c5f0a(0xf9)](_0x115395,_0x3c80bc))[_0x8c5f0a(0x11e)](0x2))+'\x20'+_0x4a6323[_0x3c80bc];}function resetFileUpload(){const _0x9d2816=_0x1710b8;currentFile=null,fileInput[_0x9d2816(0x197)]='',filePreview['innerHTML']='',fileUploadArea[_0x9d2816(0x1e5)]['remove'](_0x9d2816(0x25a));}function downloadFile(_0x29a00c,_0x438e97){const _0x1f345c=_0x1710b8,_0x23fe06=document[_0x1f345c(0x1c7)]('a');_0x23fe06[_0x1f345c(0x16a)]=_0x29a00c,_0x23fe06['download']=_0x438e97,document[_0x1f345c(0x202)][_0x1f345c(0x30b)](_0x23fe06),_0x23fe06[_0x1f345c(0x200)](),document[_0x1f345c(0x202)][_0x1f345c(0x188)](_0x23fe06);}function initializeUser(){const _0x179a3b=_0x1710b8;userName=localStorage['getItem'](_0x179a3b(0x328)),userId=localStorage[_0x179a3b(0x2d3)](_0x179a3b(0x1df));if(!userName){let _0x5a8e6b=prompt(_0x179a3b(0x8a))||_0x179a3b(0x102);_0x5a8e6b=_0x5a8e6b[_0x179a3b(0x89)]()||_0x179a3b(0x102),localStorage[_0x179a3b(0x2a6)]('chatUserName',_0x5a8e6b),userName=_0x5a8e6b;}!userId&&(userId=_0x179a3b(0x2fd)+Date[_0x179a3b(0x19c)]()+'-'+Math[_0x179a3b(0xaa)]()[_0x179a3b(0x330)](0x24)[_0x179a3b(0x164)](0x2,0x9),localStorage[_0x179a3b(0x2a6)](_0x179a3b(0x1df),userId)),userDisplay[_0x179a3b(0x1f0)]='You:\x20'+userName,console['log'](_0x179a3b(0xa3)+userName+'\x20('+userId+')');}function initializeSidebar(){const _0x5a1015=_0x1710b8;console['log'](_0x5a1015(0x186)),serverIcons['forEach'](_0x378380=>{const _0x54e19c=_0x5a1015;_0x378380[_0x54e19c(0x27b)](_0x54e19c(0x200),function(){const _0x3881c6=_0x54e19c,_0x3142aa=this[_0x3881c6(0x239)](_0x3881c6(0x1ce));switchServer(_0x3142aa);});}),updateUserSection(),updateDMList(),setInterval(updateDMList,0x1388);}function selectDM(_0x492297){const _0x2bd0c1=_0x1710b8;console['log'](_0x2bd0c1(0x29b)+_0x492297[_0x2bd0c1(0x2c5)]),clearActiveDM(),currentDM=_0x492297;const _0x3eec34=document[_0x2bd0c1(0x23b)](_0x2bd0c1(0xf2));_0x3eec34['forEach'](_0x1de83e=>{const _0x576029=_0x2bd0c1;_0x1de83e['getAttribute'](_0x576029(0x8d))===_0x492297['id']&&_0x1de83e[_0x576029(0x1e5)][_0x576029(0x31b)](_0x576029(0x329));});const _0x351053=document[_0x2bd0c1(0x30e)]('.header\x20div');_0x351053['textContent']=_0x492297[_0x2bd0c1(0x2c5)],input[_0x2bd0c1(0x1e3)]=![],input[_0x2bd0c1(0x176)]='Message\x20'+_0x492297['name']+_0x2bd0c1(0x2a0),sendButton['disabled']=![],loadDMMessages(_0x492297['id']),showSuccess(_0x2bd0c1(0xde)+_0x492297[_0x2bd0c1(0x2c5)]);}async function loadDMMessages(_0x5408f1){const _0x5119d5=_0x1710b8;try{const _0x3b45a9=await loadDMsFromDatabase(userId,_0x5408f1);messagesDiv[_0x5119d5(0x273)]='',lastDateSeparator=null;if(_0x3b45a9[_0x5119d5(0x212)]===0x0){const _0x3a4f1b=document[_0x5119d5(0x1c7)]('div');_0x3a4f1b[_0x5119d5(0xfa)][_0x5119d5(0x2c1)]=_0x5119d5(0x17a),_0x3a4f1b[_0x5119d5(0xfa)][_0x5119d5(0x86)]=_0x5119d5(0x2e1),_0x3a4f1b['style'][_0x5119d5(0x9c)]=_0x5119d5(0x296),_0x3a4f1b[_0x5119d5(0x1f0)]=_0x5119d5(0x141)+currentDM[_0x5119d5(0x2c5)],messagesDiv['appendChild'](_0x3a4f1b);}else for(const _0x3cc8dd of _0x3b45a9){const _0x60b291=_0x3cc8dd[_0x5119d5(0x215)]===userId;await renderMessage(_0x3cc8dd[_0x5119d5(0x2ed)],_0x3cc8dd[_0x5119d5(0x215)],_0x60b291?userName:currentDM[_0x5119d5(0x2c5)],_0x3cc8dd['created_at'],_0x3cc8dd['id'],_0x3cc8dd[_0x5119d5(0x2c6)],![],{'type':_0x3cc8dd[_0x5119d5(0x1c3)],..._0x3cc8dd});}}catch(_0x42bd84){console[_0x5119d5(0x2dc)](_0x5119d5(0xdc),_0x42bd84),showError('Failed\x20to\x20load\x20DM\x20messages');}}function saveDMMessage(_0x4fa1ff,_0x3eb1c8){const _0x4eab39=_0x1710b8,_0x340dbd=_0x4eab39(0xcc)+userId+'_'+_0x3eb1c8;!dmMessages[_0x3eb1c8]&&(dmMessages[_0x3eb1c8]=[]),dmMessages[_0x3eb1c8][_0x4eab39(0x1ad)](_0x4fa1ff),localStorage['setItem'](_0x340dbd,JSON[_0x4eab39(0xe0)](dmMessages[_0x3eb1c8]));}function clearActiveDM(){const _0xfc5723=_0x1710b8,_0x347385=document[_0xfc5723(0x23b)](_0xfc5723(0xf2));_0x347385['forEach'](_0x39154a=>{const _0x144f76=_0xfc5723;_0x39154a[_0x144f76(0x1e5)][_0x144f76(0x243)](_0x144f76(0x329));}),currentDM=null;}function updateUserSection(){const _0xddfbaa=_0x1710b8;if(userName){userSidebarName[_0xddfbaa(0x1f0)]=userName,userSidebarTag[_0xddfbaa(0x1f0)]='#'+userId['slice'](-0x4);if(userProfilePicture){userSidebarAvatar[_0xddfbaa(0x273)]='';const _0x147e39=document[_0xddfbaa(0x1c7)]('img');_0x147e39[_0xddfbaa(0x12b)]=userProfilePicture,_0x147e39[_0xddfbaa(0x265)]=userName+'\x27s\x20avatar',userSidebarAvatar[_0xddfbaa(0x30b)](_0x147e39);}}}function getUniqueUsersFromMessages(){const _0x5bcc72=_0x1710b8,_0x50efb7=new Map();return allMessages[_0x5bcc72(0xd5)](_0x5850dd=>{const _0xc14293=_0x5bcc72;!_0x50efb7[_0xc14293(0x10b)](_0x5850dd[_0xc14293(0x2e8)])&&_0x50efb7['set'](_0x5850dd[_0xc14293(0x2e8)],{'id':_0x5850dd[_0xc14293(0x2e8)],'name':_0x5850dd[_0xc14293(0x104)],'avatar':generateAvatar(_0x5850dd['user_name'])});}),_0x50efb7[_0x5bcc72(0x2af)](userId,{'id':userId,'name':userName,'avatar':userProfilePicture}),Array[_0x5bcc72(0x1cf)](_0x50efb7['values']());}function generateAvatar(_0xe04ec2){const _0xf1254e=_0x1710b8,_0xaeba5d=[_0xf1254e(0x2ae),_0xf1254e(0x11c),'rabbit',_0xf1254e(0x216),_0xf1254e(0xdb),_0xf1254e(0x297),_0xf1254e(0x8c)],_0x19468f=_0xe04ec2['split']('')[_0xf1254e(0x7f)]((_0x5d8b15,_0x59d296)=>_0x5d8b15+_0x59d296[_0xf1254e(0x224)](0x0),0x0)%_0xaeba5d[_0xf1254e(0x212)],_0x58b477=_0xaeba5d[_0x19468f],_0x727cad={'cat':'https://images.unsplash.com/photo-1703248187251-c897f32fe4ec?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1035','dog':'https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=150&h=150&fit=crop&crop=center','rabbit':_0xf1254e(0x72),'fox':_0xf1254e(0x1c1),'owl':_0xf1254e(0x192),'bear':'https://plus.unsplash.com/premium_photo-1661849977833-c18cd1c7e295?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8YmVhcnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=700','lion':'https://images.unsplash.com/photo-1546182990-dffeafbe841d?w=150&h=150&fit=crop&crop=center'};return _0x727cad[_0x58b477]||profilePictures[0x0][_0xf1254e(0x2bf)];}function initializeProfilePictures(){const _0x58a7c0=_0x1710b8;console[_0x58a7c0(0x254)](_0x58a7c0(0x146)),userProfilePicture=localStorage[_0x58a7c0(0x2d3)](_0x58a7c0(0x219))||profilePictures[0x0][_0x58a7c0(0x2bf)],profilePictures['forEach'](_0x4f748f=>{const _0x22bc72=_0x58a7c0,_0x7d2a31=document[_0x22bc72(0x1c7)]('div');_0x7d2a31[_0x22bc72(0x1e5)][_0x22bc72(0x31b)](_0x22bc72(0x183));const _0x552825=document[_0x22bc72(0x1c7)]('div');_0x552825[_0x22bc72(0x1e5)][_0x22bc72(0x31b)](_0x22bc72(0x2f1)),_0x552825[_0x22bc72(0xfa)][_0x22bc72(0x167)]=_0x22bc72(0x1c0)+_0x4f748f[_0x22bc72(0x2bf)]+')',_0x552825[_0x22bc72(0xd4)](_0x22bc72(0x2c0),_0x4f748f[_0x22bc72(0x2bf)]);const _0x29a51d=document[_0x22bc72(0x1c7)](_0x22bc72(0x2de));_0x29a51d[_0x22bc72(0x1e5)][_0x22bc72(0x31b)](_0x22bc72(0x30f)),_0x29a51d['textContent']=_0x4f748f[_0x22bc72(0x2c5)],_0x552825['addEventListener'](_0x22bc72(0x200),()=>{const _0x4571f5=_0x22bc72;userProfilePicture=_0x4f748f[_0x4571f5(0x2bf)],localStorage[_0x4571f5(0x2a6)](_0x4571f5(0x219),_0x4f748f[_0x4571f5(0x2bf)]),profilePictureModal[_0x4571f5(0xfa)][_0x4571f5(0x25e)]=_0x4571f5(0x1f2),showSuccess(_0x4571f5(0x277)+_0x4f748f[_0x4571f5(0x2c5)]+'!'),updateAllMessagesWithProfilePicture(),updateUserSection();}),_0x7d2a31[_0x22bc72(0x30b)](_0x552825),_0x7d2a31['appendChild'](_0x29a51d),profilePictureOptions['appendChild'](_0x7d2a31);}),profilePictureBtn[_0x58a7c0(0x27b)]('click',()=>{const _0x71f45b=_0x58a7c0;profilePictureModal[_0x71f45b(0xfa)][_0x71f45b(0x25e)]=_0x71f45b(0x27f);}),profilePictureModal[_0x58a7c0(0x27b)](_0x58a7c0(0x200),_0x435319=>{const _0x4818a2=_0x58a7c0;_0x435319[_0x4818a2(0x23a)]===profilePictureModal&&(profilePictureModal[_0x4818a2(0xfa)][_0x4818a2(0x25e)]=_0x4818a2(0x1f2));});}function updateAllMessagesWithProfilePicture(){const _0x4ff40e=_0x1710b8,_0x3358e8=messagesDiv[_0x4ff40e(0x23b)](_0x4ff40e(0x32a));_0x3358e8[_0x4ff40e(0xd5)](_0x34edb9=>{const _0x22b7cd=_0x4ff40e,_0x4d8a3=_0x34edb9[_0x22b7cd(0x30e)](_0x22b7cd(0x221));_0x4d8a3&&(_0x4d8a3[_0x22b7cd(0x12b)]=userProfilePicture);});}function initializeAudioCall(){const _0x526f57=_0x1710b8;console[_0x526f57(0x254)](_0x526f57(0x2cf)),audioCallBtn[_0x526f57(0x27b)](_0x526f57(0x200),showCallUserSelection),endCallBtn['addEventListener'](_0x526f57(0x200),endAudioCall),acceptCallBtn[_0x526f57(0x27b)](_0x526f57(0x200),acceptIncomingCall),rejectCallBtn[_0x526f57(0x27b)]('click',rejectIncomingCall),cancelCallBtn[_0x526f57(0x27b)](_0x526f57(0x200),()=>{const _0x5abf24=_0x526f57;callUserModal[_0x5abf24(0xfa)][_0x5abf24(0x25e)]=_0x5abf24(0x1f2);}),allowMicrophoneBtn[_0x526f57(0x27b)](_0x526f57(0x200),requestMicrophonePermission),denyMicrophoneBtn['addEventListener']('click',()=>{const _0x222007=_0x526f57;microphonePermissionModal[_0x222007(0xfa)][_0x222007(0x25e)]='none',showError(_0x222007(0x13b));}),clearMessagesBtn[_0x526f57(0x27b)](_0x526f57(0x200),clearAllMessages),input['addEventListener'](_0x526f57(0x7a),sendTypingIndicator);}function showCallUserSelection(){const _0x30da6d=_0x1710b8;if(isInCall){showError(_0x30da6d(0x9a));return;}const _0x32633f=getUniqueUsersFromMessages();callUserList[_0x30da6d(0x273)]='';if(_0x32633f[_0x30da6d(0x212)]===0x0){const _0x5758bf=document[_0x30da6d(0x1c7)]('div');_0x5758bf[_0x30da6d(0x1f0)]='No\x20other\x20users\x20in\x20the\x20chat\x20yet',_0x5758bf[_0x30da6d(0xfa)][_0x30da6d(0x2c1)]=_0x30da6d(0x17a),_0x5758bf[_0x30da6d(0xfa)][_0x30da6d(0x86)]=_0x30da6d(0x2e1),_0x5758bf[_0x30da6d(0xfa)]['color']=_0x30da6d(0x296),callUserList[_0x30da6d(0x30b)](_0x5758bf);}else _0x32633f[_0x30da6d(0xd5)](_0x5a2686=>{const _0x2ac647=_0x30da6d;if(_0x5a2686['id']!==userId){const _0xddbd60=document[_0x2ac647(0x1c7)]('div');_0xddbd60[_0x2ac647(0x1e5)][_0x2ac647(0x31b)](_0x2ac647(0x2d9));const _0x2ea396=document[_0x2ac647(0x1c7)]('img');_0x2ea396[_0x2ac647(0x1e5)]['add']('call-user-avatar'),_0x2ea396[_0x2ac647(0x12b)]=_0x5a2686['avatar']||generateAvatar(_0x5a2686[_0x2ac647(0x2c5)]);const _0x572e62=document['createElement'](_0x2ac647(0x2de));_0x572e62[_0x2ac647(0xfa)]['flex']='1';const _0x3b1c63=document[_0x2ac647(0x1c7)](_0x2ac647(0x2de));_0x3b1c63[_0x2ac647(0x1e5)]['add'](_0x2ac647(0x260)),_0x3b1c63['textContent']=_0x5a2686[_0x2ac647(0x2c5)];const _0x34dc2b=document[_0x2ac647(0x1c7)](_0x2ac647(0x2de));_0x34dc2b[_0x2ac647(0x1e5)][_0x2ac647(0x31b)](_0x2ac647(0x302)),onlineUsers[_0x2ac647(0x10b)](_0x5a2686['id'])?(_0x34dc2b[_0x2ac647(0x1f0)]=_0x2ac647(0x1e8),_0x34dc2b[_0x2ac647(0x1e5)][_0x2ac647(0x243)](_0x2ac647(0x310))):(_0x34dc2b['textContent']=_0x2ac647(0x184),_0x34dc2b[_0x2ac647(0x1e5)][_0x2ac647(0x31b)]('offline')),_0x572e62[_0x2ac647(0x30b)](_0x3b1c63),_0x572e62['appendChild'](_0x34dc2b),_0xddbd60[_0x2ac647(0x30b)](_0x2ea396),_0xddbd60['appendChild'](_0x572e62),_0xddbd60['addEventListener'](_0x2ac647(0x200),()=>{const _0x4b5e12=_0x2ac647;if(!onlineUsers[_0x4b5e12(0x10b)](_0x5a2686['id'])){showError(_0x5a2686['name']+_0x4b5e12(0x213));return;}callTargetUserId=_0x5a2686['id'],callTargetUserName=_0x5a2686[_0x4b5e12(0x2c5)],callTargetUserAvatar=_0x5a2686['avatar'],callUserModal[_0x4b5e12(0xfa)][_0x4b5e12(0x25e)]=_0x4b5e12(0x1f2),startAudioCall(_0x5a2686['id'],_0x5a2686['name'],_0x5a2686[_0x4b5e12(0x148)]);}),callUserList['appendChild'](_0xddbd60);}});callUserModal[_0x30da6d(0xfa)]['display']=_0x30da6d(0x27f);}async function clearAllMessages(){const _0x9207e2=_0x1710b8;if(!confirm(_0x9207e2(0x155)))return;try{console[_0x9207e2(0x254)](_0x9207e2(0x332));const _0x31b713=await serverFetch(currentServer,_0x9207e2(0x172));if(_0x31b713&&_0x31b713[_0x9207e2(0x212)]>0x0)for(const _0x27bcf7 of _0x31b713){await serverFetch(currentServer,_0x9207e2(0x1e7)+_0x27bcf7['id'],{'method':'DELETE'});}allMessages=[],messagesDiv[_0x9207e2(0x273)]='',lastMessageId=0x0,lastDateSeparator=null,lastReadMessageId=0x0,localStorage[_0x9207e2(0x2a6)](_0x9207e2(0xc4),0x0),Object[_0x9207e2(0x1a0)](serverMessages)['forEach'](_0x2db6f2=>{serverMessages[_0x2db6f2]=[],saveServerMessages(_0x2db6f2,[]);}),messageReactions={},saveMessageReactions();const _0x46192d=document[_0x9207e2(0x1fe)](_0x9207e2(0xe3));_0x46192d&&(_0x46192d[_0x9207e2(0x1f0)]=_0x9207e2(0x1f9),_0x46192d[_0x9207e2(0xfa)]['display']='block'),showTemporaryStatus(_0x9207e2(0x2ef)),showSuccess(_0x9207e2(0x31e));}catch(_0x261bbc){console['error']('Error\x20clearing\x20messages:',_0x261bbc),showError(_0x9207e2(0x26f));}}async function sendMessage(_0x2631db){const _0x20e659=_0x1710b8;try{sendButton[_0x20e659(0x1e3)]=!![],sendButton[_0x20e659(0x1f0)]=_0x20e659(0x156),typingUsers[_0x20e659(0x1e2)](userName),updateTypingIndicator();if(editingMessageId){sendButton[_0x20e659(0x1f0)]='Updating...',await updateMessage(editingMessageId,_0x2631db),sendButton['disabled']=![];return;}currentServer===_0x20e659(0xf6)&&currentDM?await sendDMMessage(_0x2631db):await sendChatMessage(_0x2631db);}catch(_0x2abac4){console[_0x20e659(0x2dc)]('\x20Error\x20sending\x20message:',_0x2abac4),showError(_0x20e659(0x316));}finally{sendButton['disabled']=![],sendButton[_0x20e659(0x1f0)]='Send';}}async function sendChatMessage(_0x114c76){const _0x190ee8=_0x1710b8,_0x24f9d7={'text':_0x114c76,'user_id':userId,'user_name':userName,'created_at':new Date()['toISOString']()};console['log'](_0x190ee8(0x18e)+currentServer+_0x190ee8(0x14e),_0x24f9d7);let _0xa5145d;try{const _0x1e0622=await serverFetch(currentServer,_0x190ee8(0x29c),{'method':_0x190ee8(0xbe),'body':JSON['stringify'](_0x24f9d7)});if(_0x1e0622){if(Array[_0x190ee8(0x1d4)](_0x1e0622)&&_0x1e0622[_0x190ee8(0x212)]>0x0)_0xa5145d=_0x1e0622[0x0];else _0x1e0622['id']&&(_0xa5145d=_0x1e0622);}}catch(_0x5c4bef){console[_0x190ee8(0x29e)](_0x190ee8(0xb4)+currentServer+_0x190ee8(0x1ab));}return!_0xa5145d&&(_0xa5145d={..._0x24f9d7,'id':Date[_0x190ee8(0x19c)]()},console[_0x190ee8(0x29e)](_0x190ee8(0x222),_0xa5145d['id'])),console[_0x190ee8(0x254)](_0x190ee8(0x24c),_0xa5145d['id']),allMessages[_0x190ee8(0x1ad)](_0xa5145d),addMessageToServer(currentServer,_0xa5145d),_0xa5145d['id']>lastMessageId&&(lastMessageId=_0xa5145d['id']),await renderMessage(_0xa5145d[_0x190ee8(0xfc)],userId,userName,_0xa5145d['created_at'],_0xa5145d['id']),input[_0x190ee8(0x197)]='',console[_0x190ee8(0x254)](_0x190ee8(0x124)+currentServer+'\x20server\x20successfully'),showSuccess(_0x190ee8(0x12e)),_0xa5145d;}async function serverFetch(_0x16eda2,_0x505f6c,_0x3c0232={}){const _0xa9559b=_0x1710b8,_0x1a410f=serverConfigs[_0x16eda2]||serverConfigs[_0xa9559b(0x287)];try{console[_0xa9559b(0x254)](_0xa9559b(0x292)+_0x16eda2[_0xa9559b(0xc3)]()+'\x20Server\x20Request:\x20'+_0x505f6c,_0x3c0232[_0xa9559b(0x2b4)]||_0xa9559b(0x1d8));const _0x1bf48f=await fetch(_0x1a410f[_0xa9559b(0x2bf)]+_0xa9559b(0x2ac)+_0x505f6c,{'headers':{'apikey':_0x1a410f['key'],'Authorization':_0xa9559b(0x14a)+_0x1a410f[_0xa9559b(0xc2)],'Content-Type':'application/json','Prefer':_0xa9559b(0x267)},..._0x3c0232});if(!_0x1bf48f['ok']){const _0x4fa38a=await _0x1bf48f[_0xa9559b(0xfc)]();console[_0xa9559b(0x2dc)]('\x20'+_0x16eda2[_0xa9559b(0xc3)]()+_0xa9559b(0x96),{'status':_0x1bf48f['status'],'statusText':_0x1bf48f['statusText'],'endpoint':_0x505f6c,'error':_0x4fa38a});throw new Error('HTTP\x20'+_0x1bf48f[_0xa9559b(0x28c)]+':\x20'+_0x1bf48f[_0xa9559b(0x76)]);}const _0x3e553a=_0x1bf48f[_0xa9559b(0x169)][_0xa9559b(0xec)]('content-length');if(_0x3e553a==='0'||_0x1bf48f['status']===0xcc)return console[_0xa9559b(0x254)]('\x20'+_0x16eda2[_0xa9559b(0xc3)]()+_0xa9559b(0x2e6)),null;const _0x654c7b=await _0x1bf48f[_0xa9559b(0x229)]();return console[_0xa9559b(0x254)]('\x20'+_0x16eda2['toUpperCase']()+_0xa9559b(0x111),_0x654c7b),_0x654c7b;}catch(_0x494ff0){console['error']('\x20'+_0x16eda2[_0xa9559b(0xc3)]()+_0xa9559b(0x2d4),_0x494ff0);_0x16eda2!==_0xa9559b(0x287)&&(console[_0xa9559b(0x29e)]('\x20Server\x20\x22'+_0x16eda2+_0xa9559b(0xbd)),showError(_0xa9559b(0x122)+_0x16eda2+'\x22\x20is\x20not\x20configured.\x20You\x20need\x20to\x20create\x20a\x20separate\x20Supabase\x20project\x20for\x20this\x20server.'));throw _0x494ff0;}}function saveServerMessages(_0x5af139,_0x42d4df){const _0x46e04e=_0x1710b8;serverMessages[_0x5af139]=_0x42d4df,localStorage[_0x46e04e(0x2a6)](_0x46e04e(0x24a)+_0x5af139,JSON[_0x46e04e(0xe0)](_0x42d4df)),console['log']('\x20Saved\x20'+_0x42d4df[_0x46e04e(0x212)]+_0x46e04e(0x2cc)+_0x5af139);}function loadServerMessages(_0x295569){const _0x470a04=_0x1710b8,_0x3df725=localStorage[_0x470a04(0x2d3)](_0x470a04(0x24a)+_0x295569);if(_0x3df725)try{serverMessages[_0x295569]=JSON['parse'](_0x3df725),console[_0x470a04(0x254)]('\x20Loaded\x20'+serverMessages[_0x295569][_0x470a04(0x212)]+_0x470a04(0x2cc)+_0x295569);}catch(_0x2e6f8a){console[_0x470a04(0x2dc)]('\x20Error\x20loading\x20messages\x20for\x20server\x20'+_0x295569+':',_0x2e6f8a),serverMessages[_0x295569]=[];}else serverMessages[_0x295569]=[],console[_0x470a04(0x254)](_0x470a04(0x22e)+_0x295569+',\x20creating\x20new\x20array');return serverMessages[_0x295569];}function addMessageToServer(_0x1b41f4,_0x3abda5){const _0x39c2b2=_0x1710b8;!serverMessages[_0x1b41f4]&&(serverMessages[_0x1b41f4]=[]),serverMessages[_0x1b41f4][_0x39c2b2(0x1ad)](_0x3abda5),saveServerMessages(_0x1b41f4,serverMessages[_0x1b41f4]),console[_0x39c2b2(0x254)]('\x20Added\x20message\x20to\x20server\x20'+_0x1b41f4+_0x39c2b2(0x1da)+serverMessages[_0x1b41f4][_0x39c2b2(0x212)]);}function _0x3efb(_0xdaf22e,_0x2e773f){const _0x5bfeb0=_0x5bfe();return _0x3efb=function(_0x3efbde,_0x27a3ba){_0x3efbde=_0x3efbde-0x72;let _0x434383=_0x5bfeb0[_0x3efbde];return _0x434383;},_0x3efb(_0xdaf22e,_0x2e773f);}function switchServer(_0x4096f4){const _0x51dc6f=_0x1710b8;console['log'](_0x51dc6f(0xbb)+_0x4096f4),serverIcons[_0x51dc6f(0xd5)](_0x59f91f=>{const _0x3cc2a4=_0x51dc6f;_0x59f91f[_0x3cc2a4(0x239)](_0x3cc2a4(0x1ce))===_0x4096f4?_0x59f91f[_0x3cc2a4(0x1e5)][_0x3cc2a4(0x31b)](_0x3cc2a4(0x329)):_0x59f91f[_0x3cc2a4(0x1e5)][_0x3cc2a4(0x243)](_0x3cc2a4(0x329));}),currentServer=_0x4096f4;_0x4096f4!==_0x51dc6f(0xf6)&&(currentDM=null,clearActiveDM());if(_0x4096f4===_0x51dc6f(0xf6))showDMListView();else{loadServerMessages(_0x4096f4),renderServerMessages(_0x4096f4),input[_0x51dc6f(0x1e3)]=![],input[_0x51dc6f(0x176)]=_0x51dc6f(0x1ec),sendButton[_0x51dc6f(0x1e3)]=![];const _0x52c1d6=document[_0x51dc6f(0x30e)](_0x51dc6f(0x1f8));_0x52c1d6[_0x51dc6f(0x273)]=_0x51dc6f(0x19b);}showSuccess(_0x51dc6f(0x259)+(_0x4096f4===_0x51dc6f(0xf6)?_0x51dc6f(0x1b0):_0x4096f4)+'\x20server');}function renderServerMessages(_0x1da065){const _0x448102=_0x1710b8,_0x5ba262=serverMessages[_0x1da065]||[];messagesDiv[_0x448102(0x273)]='',lastDateSeparator=null;if(_0x5ba262[_0x448102(0x212)]===0x0){const _0x42b9b6=document['createElement'](_0x448102(0x2de));_0x42b9b6[_0x448102(0xfa)][_0x448102(0x2c1)]=_0x448102(0x17a),_0x42b9b6[_0x448102(0xfa)][_0x448102(0x86)]='20px',_0x42b9b6['style'][_0x448102(0x9c)]=_0x448102(0x296),_0x42b9b6[_0x448102(0x1f0)]=_0x448102(0x125)+_0x1da065+_0x448102(0x300),messagesDiv[_0x448102(0x30b)](_0x42b9b6);}else console[_0x448102(0x254)]('\x20Rendering\x20'+_0x5ba262[_0x448102(0x212)]+_0x448102(0x2cc)+_0x1da065),_0x5ba262[_0x448102(0xd5)](_0x4dfe2c=>{const _0x4bd534=_0x448102;renderMessage(_0x4dfe2c[_0x4bd534(0xfc)],_0x4dfe2c[_0x4bd534(0x2e8)],_0x4dfe2c[_0x4bd534(0x104)],_0x4dfe2c[_0x4bd534(0x22b)],_0x4dfe2c['id'],_0x4dfe2c[_0x4bd534(0x2c6)],![],_0x4dfe2c);});scrollToBottom();}function showDMListView(){const _0x11bc7d=_0x1710b8;messagesDiv['innerHTML']='';const _0x4eb7fc=document[_0x11bc7d(0x1c7)](_0x11bc7d(0x2de));_0x4eb7fc[_0x11bc7d(0xfa)][_0x11bc7d(0x2c1)]=_0x11bc7d(0x17a),_0x4eb7fc[_0x11bc7d(0xfa)][_0x11bc7d(0x86)]='20px',_0x4eb7fc[_0x11bc7d(0xfa)][_0x11bc7d(0x9c)]=_0x11bc7d(0x296),_0x4eb7fc[_0x11bc7d(0x1f0)]=_0x11bc7d(0x118),messagesDiv[_0x11bc7d(0x30b)](_0x4eb7fc),input[_0x11bc7d(0x1e3)]=!![],input[_0x11bc7d(0x176)]=_0x11bc7d(0x2f8),sendButton[_0x11bc7d(0x1e3)]=!![];}function addDateSeparatorIfNeeded(_0xd608da){const _0x351903=_0x1710b8,_0x2bfc6f=new Date(_0xd608da)[_0x351903(0x2eb)]();if(!lastDateSeparator||lastDateSeparator!==_0x2bfc6f){lastDateSeparator=_0x2bfc6f;const _0xf8093f=document[_0x351903(0x1c7)](_0x351903(0x2de));_0xf8093f[_0x351903(0x1e5)][_0x351903(0x31b)](_0x351903(0x100));const _0x49cbaf=document['createElement']('div');_0x49cbaf['classList'][_0x351903(0x31b)](_0x351903(0x28e)),_0x49cbaf[_0x351903(0x1f0)]=formatDateForSeparator(_0xd608da),_0xf8093f[_0x351903(0x30b)](_0x49cbaf),messagesDiv['appendChild'](_0xf8093f);}}function formatDateForSeparator(_0x85917c){const _0x49c2f0=_0x1710b8,_0x5ac60f=new Date(_0x85917c),_0x3a22c9=new Date(),_0xe09a19=new Date(_0x3a22c9);_0xe09a19[_0x49c2f0(0x2a3)](_0xe09a19['getDate']()-0x1);if(_0x5ac60f['toDateString']()===_0x3a22c9[_0x49c2f0(0x2eb)]())return _0x49c2f0(0x2f6);if(_0x5ac60f[_0x49c2f0(0x2eb)]()===_0xe09a19[_0x49c2f0(0x2eb)]())return _0x49c2f0(0x115);const _0x5f0869=Math[_0x49c2f0(0x228)]((_0x3a22c9-_0x5ac60f)/(0x3e8*0x3c*0x3c*0x18));if(_0x5f0869<0x7){const _0x28f7b9=[_0x49c2f0(0x253),_0x49c2f0(0x211),'Tuesday','Wednesday',_0x49c2f0(0xa2),_0x49c2f0(0x13a),_0x49c2f0(0x2da)];return _0x28f7b9[_0x5ac60f[_0x49c2f0(0xf4)]()];}const _0x3a4b58=[_0x49c2f0(0x1fb),'Feb',_0x49c2f0(0x268),_0x49c2f0(0x16e),_0x49c2f0(0x15d),_0x49c2f0(0x83),'Jul',_0x49c2f0(0x2c4),_0x49c2f0(0x144),_0x49c2f0(0x2b6),_0x49c2f0(0x317),_0x49c2f0(0x2d1)];return _0x3a4b58[_0x5ac60f[_0x49c2f0(0xe1)]()]+'\x20'+_0x5ac60f['getDate']();}function addUnreadSeparatorIfNeeded(){const _0x2b131c=_0x1710b8,_0x28a776=allMessages[_0x2b131c(0x1e6)](_0x503711=>_0x503711['id']>lastReadMessageId&&_0x503711[_0x2b131c(0x2e8)]!==userId);if(_0x28a776[_0x2b131c(0x212)]>0x0){const _0x5568d5=_0x28a776[0x0],_0x173a4a=document[_0x2b131c(0x30e)]('.unread-separator');_0x173a4a&&_0x173a4a['remove']();const _0x1c7c04=document['querySelector']('[data-message-id=\x22'+_0x5568d5['id']+'\x22]');if(_0x1c7c04){const _0x4bfefa=document[_0x2b131c(0x1c7)]('div');_0x4bfefa[_0x2b131c(0x1e5)][_0x2b131c(0x31b)](_0x2b131c(0x110));const _0x24a0bf=document['createElement']('div');_0x24a0bf[_0x2b131c(0x1e5)][_0x2b131c(0x31b)](_0x2b131c(0x2d5)),_0x24a0bf[_0x2b131c(0x1f0)]=_0x2b131c(0x1bc),_0x4bfefa[_0x2b131c(0x30b)](_0x24a0bf),_0x1c7c04[_0x2b131c(0xed)][_0x2b131c(0x32e)](_0x4bfefa,_0x1c7c04);}}else{const _0x1def73=document[_0x2b131c(0x30e)](_0x2b131c(0x91));_0x1def73&&_0x1def73['remove']();}}function updateOnlineUsers(){const _0x42e0b2=_0x1710b8;onlineUsers[_0x42e0b2(0x30c)](),onlineUsers[_0x42e0b2(0x31b)](userId);const _0x1d37e5=new Date(Date[_0x42e0b2(0x19c)]()-0x5*0x3c*0x3e8);allMessages[_0x42e0b2(0xd5)](_0x1e94be=>{const _0x47d73b=_0x42e0b2,_0x5398e1=new Date(_0x1e94be[_0x47d73b(0x22b)]);_0x5398e1>_0x1d37e5&&onlineUsers[_0x47d73b(0x31b)](_0x1e94be[_0x47d73b(0x2e8)]);});}function startPolling(){pollInterval=setInterval(checkNewMessages,0x7d0);}function showTemporaryStatus(_0x12a4de,_0x4cc940=!![]){const _0x428f58=_0x1710b8;statusTimeout&&clearTimeout(statusTimeout),statusDiv[_0x428f58(0x1f0)]=_0x12a4de,statusDiv[_0x428f58(0x20f)]=_0x4cc940?_0x428f58(0x261):'status\x20disconnected',statusDiv['style'][_0x428f58(0x25e)]='flex',statusTimeout=setTimeout(()=>{const _0xfabff8=_0x428f58;statusDiv[_0xfabff8(0xfa)][_0xfabff8(0x25e)]=_0xfabff8(0x1f2);},0xbb8);}function updateTypingIndicator(){const _0x5afec1=_0x1710b8;if(typingUsers[_0x5afec1(0x20a)]===0x0){typingIndicator[_0x5afec1(0xfa)][_0x5afec1(0x25e)]=_0x5afec1(0x1f2);return;}const _0x1b737a=Array[_0x5afec1(0x1cf)](typingUsers);if(_0x1b737a[_0x5afec1(0x212)]===0x1)typingText['textContent']=_0x1b737a[0x0]+_0x5afec1(0x92);else _0x1b737a[_0x5afec1(0x212)]===0x2?typingText[_0x5afec1(0x1f0)]=_0x1b737a[0x0]+_0x5afec1(0xd6)+_0x1b737a[0x1]+_0x5afec1(0x180):typingText[_0x5afec1(0x1f0)]=_0x1b737a['length']+'\x20people\x20are\x20typing';typingIndicator['style'][_0x5afec1(0x25e)]=_0x5afec1(0x27f);}function clearTypingIndicator(){typingTimeout&&clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{const _0x490ed9=_0x3efb;typingUsers[_0x490ed9(0x30c)](),updateTypingIndicator();},0xbb8);}function sendTypingIndicator(){const _0x4fba97=_0x1710b8,_0xaf04d1=Date['now']();_0xaf04d1-lastTypingTime>0x3e8&&(lastTypingTime=_0xaf04d1,typingUsers[_0x4fba97(0x31b)](userName),updateTypingIndicator(),clearTypingIndicator());}function setupMessageReadTracking(){const _0x4f6a64=_0x1710b8,_0x5ddd22=new IntersectionObserver(_0x5c892b=>{const _0x3c1b6d=_0x3efb;_0x5c892b[_0x3c1b6d(0xd5)](_0xe756f=>{const _0x23ba6d=_0x3c1b6d;if(_0xe756f['isIntersecting']){const _0x54a882=parseInt(_0xe756f[_0x23ba6d(0x23a)][_0x23ba6d(0x239)](_0x23ba6d(0x1fc)));_0x54a882>lastReadMessageId&&(lastReadMessageId=_0x54a882,localStorage[_0x23ba6d(0x2a6)]('lastReadMessageId',lastReadMessageId),addUnreadSeparatorIfNeeded());}});},{'threshold':0.5});document['querySelectorAll'](_0x4f6a64(0x78))[_0x4f6a64(0xd5)](_0xacdc09=>{_0x5ddd22['observe'](_0xacdc09);});}async function checkNewMessages(){const _0x2bc117=_0x1710b8;if(!isOnline)return;try{const _0x550fed=await serverFetch(currentServer,'messages?id=gt.'+lastMessageId+_0x2bc117(0x290));if(_0x550fed&&_0x550fed[_0x2bc117(0x212)]>0x0){console['log'](_0x2bc117(0x29f)+_0x550fed[_0x2bc117(0x212)]+'\x20new\x20messages\x20in\x20'+currentServer+_0x2bc117(0x77));for(const _0x23d29b of _0x550fed){!allMessages[_0x2bc117(0x28b)](_0x36b9e5=>_0x36b9e5['id']===_0x23d29b['id'])&&(allMessages['push'](_0x23d29b),addMessageToServer(currentServer,_0x23d29b),await renderMessage(_0x23d29b[_0x2bc117(0xfc)],_0x23d29b[_0x2bc117(0x2e8)],_0x23d29b['user_name'],_0x23d29b['created_at'],_0x23d29b['id'],_0x23d29b[_0x2bc117(0x2c6)],!![],_0x23d29b),_0x23d29b['id']>lastMessageId&&(lastMessageId=_0x23d29b['id']));}addUnreadSeparatorIfNeeded(),_0x550fed[_0x2bc117(0x212)]>0x0&&console[_0x2bc117(0x254)](_0x2bc117(0x2b0)+currentServer+_0x2bc117(0x77));}}catch(_0x1c45e5){console[_0x2bc117(0x254)](_0x2bc117(0x26b)+currentServer+_0x2bc117(0x14e),_0x1c45e5),isOnline=![],showTemporaryStatus('\x20'+currentServer+'\x20server\x20offline\x20-\x20retrying...',![]);}}function scrollToBottom(){setTimeout(()=>{const _0xe2b0da=_0x3efb;messagesDiv[_0xe2b0da(0x154)]=messagesDiv['scrollHeight'];if(allMessages[_0xe2b0da(0x212)]>0x0){const _0x3338db=Math[_0xe2b0da(0x2ba)](...allMessages[_0xe2b0da(0x314)](_0x330a8c=>_0x330a8c['id']));_0x3338db>lastReadMessageId&&(lastReadMessageId=_0x3338db,localStorage['setItem'](_0xe2b0da(0xc4),lastReadMessageId),addUnreadSeparatorIfNeeded());}},0x64);}function showError(_0x3b148f){const _0x1eb38a=_0x1710b8;errorMessage[_0x1eb38a(0x1f0)]=_0x3b148f,errorMessage[_0x1eb38a(0xfa)]['display']=_0x1eb38a(0xd2),successMessage['style'][_0x1eb38a(0x25e)]=_0x1eb38a(0x1f2),setTimeout(()=>{const _0x4f3b99=_0x1eb38a;errorMessage['style'][_0x4f3b99(0x25e)]='none';},0x1388);}function showSuccess(_0x1338a2){const _0x8c3045=_0x1710b8;successMessage[_0x8c3045(0x1f0)]=_0x1338a2,successMessage[_0x8c3045(0xfa)][_0x8c3045(0x25e)]=_0x8c3045(0xd2),errorMessage[_0x8c3045(0xfa)][_0x8c3045(0x25e)]=_0x8c3045(0x1f2),setTimeout(()=>{const _0xe83d97=_0x8c3045;successMessage[_0xe83d97(0xfa)][_0xe83d97(0x25e)]=_0xe83d97(0x1f2);},0xbb8);}function applyWallpaper(_0x3a9e26){const _0x4e7d0d=_0x1710b8;document[_0x4e7d0d(0x202)][_0x4e7d0d(0xfa)][_0x4e7d0d(0x275)]='',document['body'][_0x4e7d0d(0xfa)]['backgroundImage']='',document[_0x4e7d0d(0x202)][_0x4e7d0d(0xfa)][_0x4e7d0d(0x158)]='',_0x3a9e26[_0x4e7d0d(0x1e1)](_0x4e7d0d(0x23e))?document[_0x4e7d0d(0x202)][_0x4e7d0d(0xfa)][_0x4e7d0d(0x275)]=_0x3a9e26:document[_0x4e7d0d(0x202)][_0x4e7d0d(0xfa)][_0x4e7d0d(0x167)]=_0x3a9e26,document[_0x4e7d0d(0x202)][_0x4e7d0d(0xfa)][_0x4e7d0d(0x166)]=_0x4e7d0d(0x95),document['body'][_0x4e7d0d(0xfa)][_0x4e7d0d(0x2a5)]=_0x4e7d0d(0x17a),document[_0x4e7d0d(0x202)][_0x4e7d0d(0xfa)][_0x4e7d0d(0x1a8)]=_0x4e7d0d(0xc0),localStorage[_0x4e7d0d(0x2a6)](_0x4e7d0d(0x1c8),_0x3a9e26);}function initializeEmojiPicker(){const _0x51d6dc=_0x1710b8;console[_0x51d6dc(0x254)](_0x51d6dc(0x1b2)),emojiPickerGrid[_0x51d6dc(0x273)]='',availableEmojis[_0x51d6dc(0xd5)](_0x11d080=>{const _0x4c2955=_0x51d6dc,_0x892f3a=document[_0x4c2955(0x1c7)](_0x4c2955(0x2de));_0x892f3a[_0x4c2955(0x1e5)][_0x4c2955(0x31b)](_0x4c2955(0x220)),_0x892f3a[_0x4c2955(0x1f0)]=_0x11d080,_0x892f3a[_0x4c2955(0x2bc)]=_0x11d080,_0x892f3a['addEventListener'](_0x4c2955(0x200),()=>{const _0x2ff4ce=_0x4c2955;addReactionToMessage(currentReactingMessageId,_0x11d080),emojiPickerModal[_0x2ff4ce(0xfa)][_0x2ff4ce(0x25e)]=_0x2ff4ce(0x1f2);}),emojiPickerGrid[_0x4c2955(0x30b)](_0x892f3a);}),emojiPickerModal[_0x51d6dc(0x27b)](_0x51d6dc(0x200),_0x20fe4f=>{const _0x207b43=_0x51d6dc;_0x20fe4f[_0x207b43(0x23a)]===emojiPickerModal&&(emojiPickerModal[_0x207b43(0xfa)][_0x207b43(0x25e)]='none');}),cancelEmojiBtn[_0x51d6dc(0x27b)](_0x51d6dc(0x200),()=>{const _0x417899=_0x51d6dc;emojiPickerModal[_0x417899(0xfa)][_0x417899(0x25e)]=_0x417899(0x1f2);});}function showEmojiPicker(_0x4d88aa){const _0xe435d1=_0x1710b8;currentReactingMessageId=_0x4d88aa,emojiPickerModal[_0xe435d1(0xfa)]['display']=_0xe435d1(0x27f);}function saveMessageReactions(){const _0xd04897=_0x1710b8;localStorage[_0xd04897(0x2a6)]('messageReactions',JSON[_0xd04897(0xe0)](messageReactions));}function loadMessageReactions(){const _0x31956d=_0x1710b8,_0x28af70=localStorage[_0x31956d(0x2d3)]('messageReactions');if(_0x28af70)try{messageReactions=JSON[_0x31956d(0x279)](_0x28af70),console['log'](_0x31956d(0x18d),messageReactions);}catch(_0x4e44ae){console[_0x31956d(0x2dc)](_0x31956d(0x2b3),_0x4e44ae),messageReactions={};}else messageReactions={};}function updateMessageReactions(_0x1ec7ce){const _0x232fd3=_0x1710b8,_0x376d55=document[_0x232fd3(0x30e)](_0x232fd3(0x304)+_0x1ec7ce+'\x22]');if(!_0x376d55)return;let _0x51be66=_0x376d55[_0x232fd3(0x30e)](_0x232fd3(0x16b));!_0x51be66?(_0x51be66=document[_0x232fd3(0x1c7)](_0x232fd3(0x2de)),_0x51be66[_0x232fd3(0x1e5)][_0x232fd3(0x31b)](_0x232fd3(0x201)),_0x376d55['querySelector'](_0x232fd3(0x24e))['appendChild'](_0x51be66)):_0x51be66['innerHTML']='',messageReactions[_0x1ec7ce]&&Object[_0x232fd3(0x136)](messageReactions[_0x1ec7ce])[_0x232fd3(0xd5)](([_0x36d22e,_0x409765])=>{const _0x16e65f=_0x232fd3;if(_0x409765[_0x16e65f(0x212)]>0x0){const _0x33fb7e=document['createElement'](_0x16e65f(0x2de));_0x33fb7e[_0x16e65f(0x1e5)]['add']('reaction');_0x409765['includes'](userId)&&_0x33fb7e[_0x16e65f(0x1e5)][_0x16e65f(0x31b)](_0x16e65f(0x2d7));const _0x43ee55=document['createElement']('span');_0x43ee55['textContent']=_0x36d22e;const _0x23a3b4=document[_0x16e65f(0x1c7)](_0x16e65f(0x23c));_0x23a3b4[_0x16e65f(0x1e5)]['add'](_0x16e65f(0x160)),_0x23a3b4['textContent']=_0x409765['length'],_0x33fb7e['appendChild'](_0x43ee55),_0x33fb7e[_0x16e65f(0x30b)](_0x23a3b4),_0x33fb7e['addEventListener'](_0x16e65f(0x200),()=>{addReactionToMessage(_0x1ec7ce,_0x36d22e);}),_0x51be66[_0x16e65f(0x30b)](_0x33fb7e);}}),_0x51be66[_0x232fd3(0x114)][_0x232fd3(0x212)]===0x0&&_0x51be66[_0x232fd3(0x243)]();}function startEditingMessage(_0x207c92,_0x4fd238){const _0x52b4b0=_0x1710b8;editingMessageId=_0x207c92,input[_0x52b4b0(0x197)]=_0x4fd238,input[_0x52b4b0(0x12a)](),sendButton['textContent']=_0x52b4b0(0x30d);if(!document[_0x52b4b0(0x1fe)]('cancel-edit-btn')){const _0x33b62d=document[_0x52b4b0(0x1c7)]('button');_0x33b62d['id']=_0x52b4b0(0x26e),_0x33b62d[_0x52b4b0(0x1f0)]=_0x52b4b0(0x2f5),_0x33b62d[_0x52b4b0(0xb1)]=_0x52b4b0(0x12d),_0x33b62d[_0x52b4b0(0xfa)]['backgroundColor']=_0x52b4b0(0x335),_0x33b62d['addEventListener'](_0x52b4b0(0x200),cancelEditing),form[_0x52b4b0(0x30b)](_0x33b62d);}}function cancelEditing(){const _0x50c124=_0x1710b8;editingMessageId=null,input[_0x50c124(0x197)]='',sendButton['textContent']=_0x50c124(0xc1);const _0x68a91=document[_0x50c124(0x1fe)]('cancel-edit-btn');_0x68a91&&_0x68a91['remove']();}async function updateMessage(_0x5e3934,_0x38c5a9){const _0x53f2b0=_0x1710b8;try{const {data:_0x56e26c,error:_0x48276f}=await serverFetch(currentServer,_0x53f2b0(0x1e7)+_0x5e3934,{'method':'PATCH','body':JSON['stringify']({'text':_0x38c5a9,'edited_at':new Date()[_0x53f2b0(0x295)]()})});if(_0x48276f)throw new Error(_0x53f2b0(0x2a8));const _0x1a1fd2=allMessages[_0x53f2b0(0x12c)](_0x3c3f28=>_0x3c3f28['id']===_0x5e3934);_0x1a1fd2!==-0x1&&(allMessages[_0x1a1fd2][_0x53f2b0(0xfc)]=_0x38c5a9,allMessages[_0x1a1fd2][_0x53f2b0(0x2c6)]=new Date()[_0x53f2b0(0x295)]());Object['keys'](serverMessages)['forEach'](_0x30c02b=>{updateMessageInServer(_0x30c02b,{...allMessages[_0x1a1fd2],'text':_0x38c5a9,'edited_at':new Date()['toISOString']()});});const _0x3e2f86=document[_0x53f2b0(0x30e)]('[data-message-id=\x22'+_0x5e3934+'\x22]');if(_0x3e2f86){const _0x41643a=_0x3e2f86['querySelector'](_0x53f2b0(0xa1)),_0x321339=_0x3e2f86[_0x53f2b0(0x30e)](_0x53f2b0(0x25c));_0x41643a[_0x53f2b0(0x1f0)]=_0x38c5a9;const _0x40dea0=_0x321339[_0x53f2b0(0x1f0)][_0x53f2b0(0x312)](_0x53f2b0(0x2a4))[0x0],_0x407a99='\x20-\x20Edited';_0x321339[_0x53f2b0(0x1f0)]=_0x40dea0+_0x53f2b0(0x2a4)+formatTime(new Date()[_0x53f2b0(0x295)]())+_0x407a99;}return showSuccess(_0x53f2b0(0x107)),cancelEditing(),_0x56e26c;}catch(_0x5880f9){console['error'](_0x53f2b0(0x214),_0x5880f9),showError(_0x53f2b0(0x191));throw _0x5880f9;}}function updateMessageInServer(_0x18129c,_0x29ca27){const _0x18b893=_0x1710b8;if(serverMessages[_0x18129c]){const _0x5d076b=serverMessages[_0x18129c]['findIndex'](_0x420cba=>_0x420cba['id']===_0x29ca27['id']);_0x5d076b!==-0x1&&(serverMessages[_0x18129c][_0x5d076b]=_0x29ca27,saveServerMessages(_0x18129c,serverMessages[_0x18129c]),console['log'](_0x18b893(0x19e)+_0x18129c));}}async function deleteMessage(_0x5665ae){const _0x4a6d19=_0x1710b8;if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20message?'))return;try{const {error:_0x38dc83}=await serverFetch(currentServer,_0x4a6d19(0x1e7)+_0x5665ae,{'method':_0x4a6d19(0x10d)});if(_0x38dc83)throw new Error(_0x4a6d19(0xa8));allMessages=allMessages[_0x4a6d19(0x1e6)](_0xf994b=>_0xf994b['id']!==_0x5665ae);const _0x145733=document['querySelector'](_0x4a6d19(0x304)+_0x5665ae+'\x22]');if(_0x145733)_0x145733[_0x4a6d19(0x243)]();Object[_0x4a6d19(0x1a0)](serverMessages)[_0x4a6d19(0xd5)](_0x25e2dd=>{removeMessageFromServer(_0x25e2dd,_0x5665ae);}),messageReactions[_0x5665ae]&&(delete messageReactions[_0x5665ae],saveMessageReactions()),showTemporaryStatus(_0x4a6d19(0x206)),showSuccess(_0x4a6d19(0x97));}catch(_0x41f849){console[_0x4a6d19(0x2dc)](_0x4a6d19(0x26a),_0x41f849),showError(_0x4a6d19(0x323));}}function removeMessageFromServer(_0x541cbe,_0x5c54b0){const _0x756d26=_0x1710b8;serverMessages[_0x541cbe]&&(serverMessages[_0x541cbe]=serverMessages[_0x541cbe][_0x756d26(0x1e6)](_0x1646dc=>_0x1646dc['id']!==_0x5c54b0),saveServerMessages(_0x541cbe,serverMessages[_0x541cbe]),console[_0x756d26(0x254)]('\x20Removed\x20message\x20from\x20server\x20'+_0x541cbe+_0x756d26(0x1da)+serverMessages[_0x541cbe]['length']));}function startAudioCall(_0x1244c8,_0xe5633c,_0x1c4741){const _0xae4685=_0x1710b8;console[_0xae4685(0x254)](_0xae4685(0x2f4)+_0xe5633c+_0xae4685(0x2a0)),showError(_0xae4685(0x137));}function acceptIncomingCall(){const _0x1c1707=_0x1710b8;console[_0x1c1707(0x254)]('\x20Accepting\x20incoming\x20call...'),showError('Audio\x20call\x20functionality\x20is\x20not\x20fully\x20implemented\x20in\x20this\x20demo');}function rejectIncomingCall(){const _0x4fcc20=_0x1710b8;console[_0x4fcc20(0x254)](_0x4fcc20(0x293)),incomingCallModal[_0x4fcc20(0xfa)][_0x4fcc20(0x25e)]=_0x4fcc20(0x1f2);}function endAudioCall(){const _0x123505=_0x1710b8;console['log'](_0x123505(0x2cd)),audioCallContainer[_0x123505(0xfa)][_0x123505(0x25e)]=_0x123505(0x1f2),incomingCallModal[_0x123505(0xfa)]['display']=_0x123505(0x1f2),isInCall=![],isCallInitiator=![],callTargetUserId=null,callTargetUserName=null,callTargetUserAvatar=null;}async function requestMicrophonePermission(){const _0x399577=_0x1710b8;try{microphonePermissionModal[_0x399577(0xfa)][_0x399577(0x25e)]=_0x399577(0x1f2);const _0x306396=await navigator[_0x399577(0xf1)][_0x399577(0x28f)]({'name':'microphone'});if(_0x306396['state']===_0x399577(0x1f4))return!![];const _0x14530d=await navigator[_0x399577(0x272)]['getUserMedia']({'audio':!![]});return _0x14530d[_0x399577(0x147)]()['forEach'](_0xd2d987=>_0xd2d987['stop']()),showSuccess(_0x399577(0x14d)),!![];}catch(_0x124d7b){return console[_0x399577(0x2dc)](_0x399577(0x9b),_0x124d7b),showError(_0x399577(0x13b)),![];}}async function initApp(){const _0x4427a6=_0x1710b8;console[_0x4427a6(0x254)]('\x20Initializing\x20Enhanced\x20Encrypted\x20Super\x20Chat...');try{initializeUser(),addNameChangeFeature(),initializeSidebar(),initializeProfilePictures(),initializeAudioCall(),initializeFileUpload(),initializeGifSticker(),initializeEmojiPicker(),initializeLinkSharing(),initializeTextFormatting(),initializeGameModals(),initializeAdminPanel(),initializeAdblocker(),loadMessageReactions();const _0x57c8ff=localStorage[_0x4427a6(0x2d3)](_0x4427a6(0x1c8));_0x57c8ff&&applyWallpaper(_0x57c8ff),wallpapers[_0x4427a6(0xd5)](_0x540508=>{const _0x32143d=_0x4427a6,_0x336a50=document[_0x32143d(0x1c7)]('div');_0x336a50[_0x32143d(0x1e5)]['add']('wallpaper-grid');const _0x5a021e=document[_0x32143d(0x1c7)](_0x32143d(0x2de));_0x5a021e[_0x32143d(0x1e5)][_0x32143d(0x31b)](_0x32143d(0x170)),_0x5a021e[_0x32143d(0xfa)]['background']=_0x540508[_0x32143d(0x24b)];const _0x33ef01=document[_0x32143d(0x1c7)](_0x32143d(0x2de));_0x33ef01[_0x32143d(0x1e5)]['add'](_0x32143d(0x32d)),_0x33ef01[_0x32143d(0x1f0)]=_0x540508[_0x32143d(0x2c5)],_0x5a021e[_0x32143d(0x27b)](_0x32143d(0x200),()=>{const _0x151fb3=_0x32143d;applyWallpaper(_0x540508['preview']),wallpaperModal[_0x151fb3(0xfa)][_0x151fb3(0x25e)]='none',showSuccess('Background\x20changed\x20to\x20'+_0x540508[_0x151fb3(0x2c5)]+'!');}),_0x336a50['appendChild'](_0x5a021e),_0x336a50[_0x32143d(0x30b)](_0x33ef01),wallpaperOptions['appendChild'](_0x336a50);}),editWallpaperBtn[_0x4427a6(0x27b)](_0x4427a6(0x200),()=>{const _0x5b169f=_0x4427a6;wallpaperModal[_0x5b169f(0xfa)][_0x5b169f(0x25e)]=_0x5b169f(0x27f);}),wallpaperModal['addEventListener']('click',_0x24ef81=>{const _0x4819dc=_0x4427a6;_0x24ef81['target']===wallpaperModal&&(wallpaperModal[_0x4819dc(0xfa)]['display']=_0x4819dc(0x1f2));}),encryptionKeyModal['addEventListener'](_0x4427a6(0x200),_0x4d3b22=>{const _0x1b9321=_0x4427a6;_0x4d3b22[_0x1b9321(0x23a)]===encryptionKeyModal&&(encryptionKeyModal['style'][_0x1b9321(0x25e)]='none');}),enterKeyModal[_0x4427a6(0x27b)](_0x4427a6(0x200),_0x5ce5dc=>{const _0x40f9db=_0x4427a6;_0x5ce5dc[_0x40f9db(0x23a)]===enterKeyModal&&(enterKeyModal[_0x40f9db(0xfa)][_0x40f9db(0x25e)]='none');}),callUserModal[_0x4427a6(0x27b)](_0x4427a6(0x200),_0x14bb72=>{const _0x2c5891=_0x4427a6;_0x14bb72[_0x2c5891(0x23a)]===callUserModal&&(callUserModal['style'][_0x2c5891(0x25e)]=_0x2c5891(0x1f2));}),microphonePermissionModal[_0x4427a6(0x27b)]('click',_0x509203=>{const _0x37b7ea=_0x4427a6;_0x509203[_0x37b7ea(0x23a)]===microphonePermissionModal&&(microphonePermissionModal[_0x37b7ea(0xfa)][_0x37b7ea(0x25e)]=_0x37b7ea(0x1f2));}),linkShareModal[_0x4427a6(0x27b)]('click',_0x48fed2=>{const _0x326d26=_0x4427a6;_0x48fed2[_0x326d26(0x23a)]===linkShareModal&&(linkShareModal[_0x326d26(0xfa)][_0x326d26(0x25e)]=_0x326d26(0x1f2));}),securityIndicator[_0x4427a6(0x27b)](_0x4427a6(0x200),showCurrentKey),loadServerMessages(currentServer),await loadMessages(),setupMessageReadTracking(),startPolling(),console[_0x4427a6(0x254)]('\x20Encrypted\x20Super\x20Chat\x20initialized\x20successfully'),showTemporaryStatus(_0x4427a6(0x25b));}catch(_0x24ea3c){console[_0x4427a6(0x2dc)]('\x20App\x20initialization\x20failed:',_0x24ea3c),showError(_0x4427a6(0x159));}}function showCurrentKey(){const _0x275a45=_0x1710b8,_0x45e05=encryption['generateProductionKey']();encryptionKeyDisplay[_0x275a45(0x1f0)]=_0x45e05,encryptionKeyModal['style'][_0x275a45(0x25e)]=_0x275a45(0x27f);}document[_0x1710b8(0x30a)]===_0x1710b8(0xe3)?document[_0x1710b8(0x27b)]('DOMContentLoaded',initApp):initApp();form['addEventListener'](_0x1710b8(0x324),async _0x3572cd=>{const _0x3ae79c=_0x1710b8;_0x3572cd[_0x3ae79c(0x182)]();const _0x53c2a3=input['value'][_0x3ae79c(0x89)]();if(!_0x53c2a3)return;try{await sendMessage(_0x53c2a3);}catch(_0x463014){}}),document[_0x1710b8(0x27b)](_0x1710b8(0x10f),()=>{const _0x104c94=_0x1710b8;document[_0x104c94(0x331)]?clearInterval(pollInterval):(startPolling(),checkNewMessages());}),copyKeyBtn[_0x1710b8(0x27b)]('click',()=>{const _0x1f41d0=_0x1710b8;navigator[_0x1f41d0(0x289)][_0x1f41d0(0x311)](encryptionKeyDisplay['textContent'])['then'](()=>showSuccess('Encryption\x20key\x20copied\x20to\x20clipboard!'))[_0x1f41d0(0xe8)](()=>showError(_0x1f41d0(0x2db)));}),enterKeyBtn[_0x1710b8(0x27b)]('click',()=>{const _0x412060=_0x1710b8;encryptionKeyModal[_0x412060(0xfa)][_0x412060(0x25e)]=_0x412060(0x1f2),enterKeyModal[_0x412060(0xfa)][_0x412060(0x25e)]=_0x412060(0x27f);}),confirmKeyBtn[_0x1710b8(0x27b)](_0x1710b8(0x200),()=>{const _0x209972=_0x1710b8;encryptionKeyModal['style'][_0x209972(0x25e)]=_0x209972(0x1f2),showSuccess('Encryption\x20key\x20saved!');}),cancelKeyBtn[_0x1710b8(0x27b)](_0x1710b8(0x200),()=>{const _0x2a7b88=_0x1710b8;enterKeyModal[_0x2a7b88(0xfa)]['display']=_0x2a7b88(0x1f2);}),useKeyBtn[_0x1710b8(0x27b)](_0x1710b8(0x200),()=>{const _0xf2878e=_0x1710b8,_0x1b29aa=encryptionKeyInput[_0xf2878e(0x197)][_0xf2878e(0x89)]();if(!_0x1b29aa){showError('Please\x20enter\x20an\x20encryption\x20key');return;}enterKeyModal[_0xf2878e(0xfa)]['display']='none',showSuccess(_0xf2878e(0x25d));});</script></body></html>
